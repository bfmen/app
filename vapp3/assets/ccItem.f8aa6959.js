import{c as O}from"./ccImg.bf8794aa.js";import{_ as V,r as d,o as a,c as l,b as o,w as n,f as r,t as s,F as y,d as _,g as k,e as h,h as w,i as I,v as T}from"./index.15f25912.2022_10_26_04_23_04.js";const j={components:{ccImg:O},name:"cc-item",props:{dataSource:{},itemKey:{},showKeys:{},title:{}},data(){return{activeNames:[]}},watch:{activeNames(){console.log("activeNames",this.activeNames,this.dataSource),this.$emit("open",!!this.activeNames.length,this.dataSource)}},created(){this.itemKey===void 0&&(this.activeNames=["1"])},methods:{getObjectTitle(c,u){let e=c.title||c.id||u;return e===void 0&&(e="ROOT"),e},open(){this.$emit("open",...arguments)}}},B={class:"ccItem"},U={key:0},C={key:1},D=["src"];function F(c,u,e,R,m,v){const S=d("cc-item",!0),f=d("van-collapse-item"),g=d("van-collapse"),K=d("ccImg"),N=d("van-tag"),b=d("van-cell");return a(),l("div",B,[c.$util.isArray(e.dataSource)?(a(),l("div",U,[o(g,{modelValue:m.activeNames,"onUpdate:modelValue":u[0]||(u[0]=t=>m.activeNames=t)},{default:n(()=>[o(f,{name:"1"},{title:n(()=>[r("div",null,s(e.itemKey||e.title||"ROOT"),1)]),value:n(()=>[r("div",null,"["+s(e.dataSource.length)+"]",1)]),default:n(()=>[(a(!0),l(y,null,_(e.dataSource,(t,i)=>(a(),l("div",{key:i},[(a(),h(S,{key:t.id||t.title||JSON.stringify(t),dataSource:t,itemKey:i,showKeys:e.showKeys,onOpen:v.open},null,8,["dataSource","itemKey","showKeys","onOpen"]))]))),128))]),_:1})]),_:1},8,["modelValue"])])):e.dataSource&&c.$util.isObject(e.dataSource)?(a(),l("div",C,[o(g,{modelValue:m.activeNames,"onUpdate:modelValue":u[1]||(u[1]=t=>m.activeNames=t)},{default:n(()=>[o(f,{name:"1"},k({title:n(()=>[r("div",null,s(v.getObjectTitle(e.dataSource,e.itemKey)),1),(a(!0),l(y,null,_(c.$util.getImgKeys(e.dataSource),(t,i)=>(a(),l("div",{key:i},[o(K,{width:"100%",src:e.dataSource[t]},null,8,["src"])]))),128)),(a(!0),l(y,null,_(e.showKeys,(t,i)=>I((a(),h(N,{key:i,type:t.type},{default:n(()=>[w(s(e.dataSource[t.key]),1)]),_:2},1032,["type"])),[[T,e.dataSource[t.key]!==void 0]])),128))]),value:n(()=>[r("div",null,s("{"+Object.keys(e.dataSource).length+"}"),1)]),_:2},[m.activeNames.length?{name:"default",fn:n(()=>[(a(!0),l(y,null,_(c.$util.sortMediaKeys(e.dataSource),(t,i)=>(a(),l("div",{key:t+i},[o(S,{dataSource:e.dataSource[t],itemKey:t,showKeys:e.showKeys,onOpen:v.open},null,8,["dataSource","itemKey","showKeys","onOpen"])]))),128))]),key:"0"}:void 0]),1024)]),_:1},8,["modelValue"])])):(a(),h(b,{key:2,title:e.itemKey+"",label:e.dataSource+""},k({_:2},[c.$util.isVideoUrl(e.dataSource)?{name:"label",fn:n(()=>[r("video",{width:"100%",controls:"controls",playsinline:"","picture-in-picture-mode":["push","pop"],autoplay:!1,poster:"",src:e.dataSource},null,8,D)]),key:"0"}:c.$util.isImgUrl(e.dataSource)?{name:"label",fn:n(()=>[r("div",null,s(e.dataSource),1),o(K,{width:"100%",src:e.dataSource},null,8,["src"])]),key:"1"}:{name:"label",fn:n(()=>[w(s(e.dataSource),1)]),key:"2"}]),1032,["title","label"]))])}const J=V(j,[["render",F],["__scopeId","data-v-93717b5b"]]);export{J as default};
