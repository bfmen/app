import{_ as m,a as v,r as s,o as g,c as y,b as r,w as u}from"./index.ed8ea592.2022-10-26_04_11_26.js";import"./axios.91e25212.js";const f={components:{ccItem:()=>v(()=>import("./ccItem.07540e72.js"),["ccItem.07540e72.js","ccItem.384daec2.css","ccImg.4612f95c.js","index.ed8ea592.2022-10-26_04_11_26.js","index.11785688.css"],import.meta.url)},data(){return{inputText:"",page:0,limit:20,list:[],value1:"Favorites",value0:1,value2:2,option2:[{text:"\u5012\u5E8F",value:1},{text:"\u6B63\u5E8F",value:0}],option3:[{text:"\u5168\u90E8",value:0},{text:"\u5B58\u5728img",value:1},{text:"\u5B58\u5728video",value:2},{text:"\u5B58\u5728video2",value:3}],refreshing:!1,loading:!1,finished:!1,current:{},placeholder:0,dataSource:[],error:!1}},computed:{option1(){return this.$util.isArray(this.list)?Object.keys(this.list.reduce((o,e)=>({...o,...e}),{})).map(o=>({text:o,value:o})):[]},showKeys(){let o=[{key:"Views",type:"primary"},{key:"From",type:"success"},{key:"Added",type:"danger"},{key:"duration",type:"warning"}];return this.value1&&o.push({key:this.value1,type:"primary"}),o}},watch:{list(){this.dataSource=[{title:this.list.length+"",list:this.list,activeNames:[]}]}},methods:{async loadData(o=1){this.error=!1;let e=await fetch("http://172.31.13.108/api/api/organization/role/listNesting?expandAll=false&filterEmptyRelatedSetting=true&filterDefaultRoleGroup=true",{headers:{accept:"application/json, text/plain, */*","accept-language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6",authorization:"Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsiYXBpIl0sImNvcnBJZCI6bnVsbCwidXNlcl9pZCI6IjJjOWY4ZGVjODBkYjkyNjUwMTgwZWVjYmNiODUyNTFkIiwidXNlcl9uYW1lIjoiemN0ZXN0MSIsInNjb3BlIjpbInJlYWQiXSwibW9iaWxlIjpmYWxzZSwiaXNBZG1pbiI6dHJ1ZSwiZXhwIjoxNjY1NzQxMjI0LCJpc0FwcEFkbWluIjpmYWxzZSwiYXV0aG9yaXRpZXMiOlsiVVNFUiIsIkFVVEhfU1lTVEVNX01BTkFHRSJdLCJqdGkiOiJlNzVmN2FiOS1kYzRjLTRhMzctYmYxZi01NDYwODRjMTU2OWQiLCJjbGllbnRfaWQiOiJhcGkifQ.hBIsMzpGVoLRAXtyQRy0-gS61kFi6GE9MQbHfV6dMcjcD9cBsUd-6g05bJR2LdZeAAEn5I1IXB_gqjufuh9YM2wmrrsuPmxEmwjpebAFsPIKA71tRhkH50q6TRmbrVwWz6d18ry68yKP_QA-Wq-jgTFGv-Ky4RmJ-O5noZv58164Sx18N-x7R8wperZBtlOSf7I-gH8NAzCWnCJMZMRsnn7zoUuqRRl5HQT8rdTJiy13YznCZDFuTE-vNLv7V-ESV77U8UQMc3LpEr8o5rz89Hcx7Htq99FqxrnQNL1Dhv1dZUceHm0Yky9nOlVr5Fy5vn_qq0n3FBwRUWHkIaxtXQ","cache-control":"no-cache",pragma:"no-cache"},referrer:"http://172.31.13.108/admin/",referrerPolicy:"strict-origin-when-cross-origin",body:null,method:"GET",mode:"cors",credentials:"include"}).then(i=>i.json()).catch(i=>(this.error=!0,{errString:i&&i.toString()}));await new Promise(i=>setTimeout(i,1e3)),e.test_img="http://172.31.13.108/img/yslogo.91c887ee.png",this.list={...this.list,["page"+o]:e},this.page=o,this.loading=!1,e.length==0&&(this.finished=!0)},search(){this.loadData(1)},open(o,e){console.log("open",o,e)}}},V={class:"listAll"};function w(o,e,i,I,t,l){const a=s("van-dropdown-item"),p=s("van-dropdown-menu"),d=s("van-search"),c=s("ccItem"),h=s("van-list");return g(),y("div",V,[r(p,null,{default:u(()=>[r(a,{modelValue:t.value1,"onUpdate:modelValue":e[0]||(e[0]=n=>t.value1=n),options:l.option1,onChange:l.search},null,8,["modelValue","options","onChange"]),r(a,{modelValue:t.value0,"onUpdate:modelValue":e[1]||(e[1]=n=>t.value0=n),options:t.option2,onChange:l.search},null,8,["modelValue","options","onChange"]),r(a,{modelValue:t.value2,"onUpdate:modelValue":e[2]||(e[2]=n=>t.value2=n),options:t.option3,onChange:l.search},null,8,["modelValue","options","onChange"])]),_:1}),r(d,{modelValue:t.inputText,"onUpdate:modelValue":e[3]||(e[3]=n=>t.inputText=n),placeholder:t.placeholder+"",onSearch:l.search},null,8,["modelValue","placeholder","onSearch"]),r(h,{modelValue:t.loading,"onUpdate:modelValue":e[4]||(e[4]=n=>t.loading=n),finished:t.finished,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",error:t.error,"error-text":"\u8BF7\u6C42\u5931\u8D25\uFF0C\u70B9\u51FB\u91CD\u65B0\u52A0\u8F7D",onLoad:e[5]||(e[5]=n=>l.loadData(t.page+1))},{default:u(()=>[r(c,{dataSource:t.list,showKeys:l.showKeys,onOpen:l.open},null,8,["dataSource","showKeys","onOpen"])]),_:1},8,["modelValue","finished","error"])])}const N=m(f,[["render",w]]);export{N as default};
