import{e as j,_ as O,o as a,c,r as d,a as u,w as n,f as m,t as r,F as y,b as h,g as k,d as v,h as b,i as T,v as B}from"./index.0b5f7306.js";const N=Object.assign({"./util.js":()=>j(()=>import("./util.27cdf40e.js"),[],import.meta.url)}),f={};for(const l in N){const s=N[l];let e=l.replace("./","").replace(".js","");f[e]=(await s()).default}const R={props:["src"],data(){return{url:""}},watch:{src(){this.getUrl()}},created(){this.getUrl()},methods:{async getUrl(){f.util.proxy.isProxyImgUrl(this.src)?this.url=await f.util.proxy.getRemoteImgUrl(this.src):this.url=this.src}}},p=["src"];function x(l,s,e,I,o,_){return a(),c("img",{src:o.url,alt:""},null,8,p)}const D=O(R,[["render",x]]);const E={components:{ccImg:D},name:"cc-item",props:{dataSource:{},itemKey:{},showKeys:{},title:{}},data(){return{activeNames:[]}},watch:{activeNames(){console.log("activeNames",this.activeNames,this.dataSource),this.$emit("open",!!this.activeNames.length,this.dataSource)}},created(){this.itemKey===void 0&&(this.activeNames=["1"])},methods:{getObjectTitle(l,s){let e=l.title||l.id||s;return e===void 0&&(e="ROOT"),e},open(){this.$emit("open",...arguments)}}},P={class:"ccItem"},A={key:0},C={key:1},F=["src"];function L(l,s,e,I,o,_){const S=d("cc-item",!0),g=d("van-collapse-item"),w=d("van-collapse"),K=d("ccImg"),V=d("van-tag"),U=d("van-cell");return a(),c("div",P,[l.$util.isArray(e.dataSource)?(a(),c("div",A,[u(w,{modelValue:o.activeNames,"onUpdate:modelValue":s[0]||(s[0]=t=>o.activeNames=t)},{default:n(()=>[u(g,{name:"1"},{title:n(()=>[m("div",null,r(e.itemKey||e.title||"ROOT"),1)]),value:n(()=>[m("div",null,"["+r(e.dataSource.length)+"]",1)]),default:n(()=>[(a(!0),c(y,null,h(e.dataSource,(t,i)=>(a(),c("div",{key:i},[(a(),v(S,{key:t.id||t.title||JSON.stringify(t),dataSource:t,itemKey:i,showKeys:e.showKeys,onOpen:_.open},null,8,["dataSource","itemKey","showKeys","onOpen"]))]))),128))]),_:1})]),_:1},8,["modelValue"])])):e.dataSource&&l.$util.isObject(e.dataSource)?(a(),c("div",C,[u(w,{modelValue:o.activeNames,"onUpdate:modelValue":s[1]||(s[1]=t=>o.activeNames=t)},{default:n(()=>[u(g,{name:"1"},k({title:n(()=>[m("div",null,r(_.getObjectTitle(e.dataSource,e.itemKey)),1),(a(!0),c(y,null,h(l.$util.getImgKeys(e.dataSource),(t,i)=>(a(),c("div",{key:i},[u(K,{width:"100%",src:e.dataSource[t]},null,8,["src"])]))),128)),(a(!0),c(y,null,h(e.showKeys,(t,i)=>T((a(),v(V,{key:i,type:t.type},{default:n(()=>[b(r(e.dataSource[t.key]),1)]),_:2},1032,["type"])),[[B,e.dataSource[t.key]!==void 0]])),128))]),value:n(()=>[m("div",null,r("{"+Object.keys(e.dataSource).length+"}"),1)]),_:2},[o.activeNames.length?{name:"default",fn:n(()=>[(a(!0),c(y,null,h(l.$util.sortMediaKeys(e.dataSource),(t,i)=>(a(),c("div",{key:t+i},[u(S,{dataSource:e.dataSource[t],itemKey:t,showKeys:e.showKeys,onOpen:_.open},null,8,["dataSource","itemKey","showKeys","onOpen"])]))),128))]),key:"0"}:void 0]),1024)]),_:1},8,["modelValue"])])):(a(),v(U,{key:2,title:e.itemKey+"",label:e.dataSource+""},k({_:2},[l.$util.isVideoUrl(e.dataSource)?{name:"label",fn:n(()=>[m("video",{width:"100%",controls:"controls",playsinline:"","picture-in-picture-mode":["push","pop"],autoplay:!1,poster:"",src:e.dataSource},null,8,F)]),key:"0"}:l.$util.isImgUrl(e.dataSource)?{name:"label",fn:n(()=>[m("div",null,r(e.dataSource),1),u(K,{width:"100%",src:e.dataSource},null,8,["src"])]),key:"1"}:{name:"label",fn:n(()=>[b(r(e.dataSource),1)]),key:"2"}]),1032,["title","label"]))])}const M=O(E,[["render",L],["__scopeId","data-v-93717b5b"]]);export{M as default};
