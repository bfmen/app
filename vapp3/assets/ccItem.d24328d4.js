import{c as b}from"./ccImg.76ba2cba.js";import{J as V}from"./index.dc42755c.js";import{_ as I,r as s,o as a,c,h as u,w as l,f as r,t as o,F as _,b as y,a as S,u as k,i as x,v as T,m as w}from"./index.25e73ab7.2022_10_30_03_17_57.js";const j={components:{ccImg:b},name:"cc-item",props:{dataSource:{},itemKey:{},showKeys:{},title:{}},computed:{$util(){return V.util}},data(){return{activeNames:[]}},watch:{activeNames(){this.$emit("open",!!this.activeNames.length,this.dataSource)}},created(){this.itemKey===void 0&&(this.activeNames=["1"])},methods:{getObjectTitle(v,d){let e=v.title||v.id||d;return e===void 0&&(e="ROOT"),e},open(){this.$emit("open",...arguments)}}},B={class:"ccItem"},U={key:0},J={key:1},C=["src"];function D(v,d,e,F,m,n){const h=s("cc-item",!0),f=s("van-collapse-item"),g=s("van-collapse"),K=s("ccImg"),N=s("van-tag"),O=s("van-cell");return a(),c("div",B,[n.$util.isArray(e.dataSource)?(a(),c("div",U,[u(g,{modelValue:m.activeNames,"onUpdate:modelValue":d[0]||(d[0]=t=>m.activeNames=t)},{default:l(()=>[u(f,{name:"1"},{title:l(()=>[r("div",null,o(e.itemKey||e.title||"ROOT"),1)]),value:l(()=>[r("div",null,"["+o(e.dataSource.length)+"]",1)]),default:l(()=>[(a(!0),c(_,null,y(e.dataSource,(t,i)=>(a(),c("div",{key:i},[(a(),S(h,{key:t.id||t.title||JSON.stringify(t),dataSource:t,itemKey:i,showKeys:e.showKeys,onOpen:n.open},null,8,["dataSource","itemKey","showKeys","onOpen"]))]))),128))]),_:1})]),_:1},8,["modelValue"])])):e.dataSource&&n.$util.isObject(e.dataSource)?(a(),c("div",J,[u(g,{modelValue:m.activeNames,"onUpdate:modelValue":d[1]||(d[1]=t=>m.activeNames=t)},{default:l(()=>[u(f,{name:"1"},k({title:l(()=>[r("div",null,o(n.getObjectTitle(e.dataSource,e.itemKey)),1),(a(!0),c(_,null,y(n.$util.getImgKeys(e.dataSource),(t,i)=>(a(),c("div",{key:i},[u(K,{style:{width:"100%"},src:e.dataSource[t]},null,8,["src"])]))),128)),(a(!0),c(_,null,y(e.showKeys,(t,i)=>x((a(),S(N,{key:i,type:t.type},{default:l(()=>[w(o(e.dataSource[t.key]),1)]),_:2},1032,["type"])),[[T,e.dataSource[t.key]!==void 0]])),128))]),value:l(()=>[r("div",null,o("{"+Object.keys(e.dataSource).length+"}"),1)]),_:2},[m.activeNames.length?{name:"default",fn:l(()=>[(a(!0),c(_,null,y(n.$util.sortMediaKeys(e.dataSource),(t,i)=>(a(),c("div",{key:t+i},[u(h,{dataSource:e.dataSource[t],itemKey:t,showKeys:e.showKeys,onOpen:n.open},null,8,["dataSource","itemKey","showKeys","onOpen"])]))),128))]),key:"0"}:void 0]),1024)]),_:1},8,["modelValue"])])):(a(),S(O,{key:2,title:e.itemKey+"",label:e.dataSource+""},k({_:2},[n.$util.isVideoUrl(e.dataSource)?{name:"label",fn:l(()=>[r("video",{style:{width:"100%"},controls:"controls",playsinline:"","picture-in-picture-mode":["push","pop"],autoplay:!1,poster:"",src:e.dataSource},null,8,C)]),key:"0"}:n.$util.isImgUrl(e.dataSource)?{name:"label",fn:l(()=>[r("div",null,o(e.dataSource),1),u(K,{style:{width:"100%"},src:e.dataSource},null,8,["src"])]),key:"1"}:{name:"label",fn:l(()=>[w(o(e.dataSource),1)]),key:"2"}]),1032,["title","label"]))])}const L=I(j,[["render",D],["__scopeId","data-v-e391e5f9"]]);export{L as c};
