import{_ as v,a as _,r,o as y,c as g,b as i,w as d}from"./index.15f25912.2022_10_26_04_23_04.js";import{a as w}from"./axios.91e25212.js";import{m as p}from"./index.a0d7226d.js";const x={components:{ccItem:()=>_(()=>import("./ccItem.f8aa6959.js"),["ccItem.f8aa6959.js","ccItem.384daec2.css","ccImg.bf8794aa.js","index.15f25912.2022_10_26_04_23_04.js","index.11785688.css"],import.meta.url)},data(){return{inputText:"",page:0,limit:20,list:[],value1:"Favorites",value0:1,value2:2,option2:[{text:"\u5012\u5E8F",value:1},{text:"\u6B63\u5E8F",value:0}],option3:[{text:"\u5168\u90E8",value:0},{text:"\u5B58\u5728img",value:1},{text:"\u5B58\u5728video",value:2},{text:"\u5B58\u5728video2",value:3}],refreshing:!1,loading:!1,finished:!1,current:{},placeholder:0,dataSource:[]}},computed:{option1(){return this.$util.isArray(this.list)?Object.keys(this.list.reduce((l,e)=>({...l,...e}),{})).map(l=>({text:l,value:l})):[]},showKeys(){let l=[{key:"Views",type:"primary"},{key:"From",type:"success"},{key:"Added",type:"danger"},{key:"duration",type:"warning"}];return this.value1&&l.push({key:this.value1,type:"primary"}),l}},watch:{list(){this.dataSource=[{title:this.list.length+"",list:this.list,activeNames:[]}]}},methods:{async loadData(l=1){let{data:e}=await w({url:"https://nine-sit.netlify.app/api/json/dataSourceNineAll.txt",params:{_page:l,_limit:this.limit,[this.value1+"_like"]:this.inputText,[this.value1+"_order"]:this.value0}});e.forEach(a=>{a.detail&&(a.detail_src=a.detail.src),Object.keys(a).forEach(n=>{let t=a[n];typeof t=="object"&&!Array.isArray(t)&&(Object.keys(t).forEach(o=>{a[`${n}_${o}`]=t[o]}),a.testViewUrl="http://wxsnsdy.tc.qq.com/105/20210/snsdyvideodownload?filekey=30280201010421301f0201690402534804102ca905ce620b1241b726bc41dcff44e00204012882540400&bizid=1023&hy=SH&fileparam=302c020101042530230204136ffd93020457e3c4ff02024ef202031e8d7f02030f42400204045a320a0201000400&fileType=.mp4")})}),l===1?(this.finished=!1,this.list=e):this.list=[...this.list,...e],this.page=l,this.loading=!1,e.length==0&&(this.finished=!0)},search(){this.loadData(1)},async open(l,e){if(l&&e.href&&!e.detail_src){let a=weui.loading(),n=await p.axios({params:{uuu:e.href}});a.hide();let t=p.utils.format.all(n.data);this.$set(e,"detail_src",t.detail.src)}}}},V={class:"listAll"};function k(l,e,a,n,t,o){const u=r("van-dropdown-item"),h=r("van-dropdown-menu"),c=r("van-search"),f=r("ccItem"),m=r("van-list");return y(),g("div",V,[i(h,null,{default:d(()=>[i(u,{modelValue:t.value1,"onUpdate:modelValue":e[0]||(e[0]=s=>t.value1=s),options:o.option1,onChange:o.search},null,8,["modelValue","options","onChange"]),i(u,{modelValue:t.value0,"onUpdate:modelValue":e[1]||(e[1]=s=>t.value0=s),options:t.option2,onChange:o.search},null,8,["modelValue","options","onChange"]),i(u,{modelValue:t.value2,"onUpdate:modelValue":e[2]||(e[2]=s=>t.value2=s),options:t.option3,onChange:o.search},null,8,["modelValue","options","onChange"])]),_:1}),i(c,{modelValue:t.inputText,"onUpdate:modelValue":e[3]||(e[3]=s=>t.inputText=s),placeholder:t.placeholder+"",onSearch:o.search},null,8,["modelValue","placeholder","onSearch"]),i(m,{modelValue:t.loading,"onUpdate:modelValue":e[4]||(e[4]=s=>t.loading=s),finished:t.finished,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:e[5]||(e[5]=s=>o.loadData(t.page+1))},{default:d(()=>[i(f,{dataSource:t.list,showKeys:o.showKeys,onOpen:o.open},null,8,["dataSource","showKeys","onOpen"])]),_:1},8,["modelValue","finished"])])}const A=v(x,[["render",k]]);export{A as default};
