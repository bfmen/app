import{_ as v,o as _,c as y,f as i,w as u}from"./index.c3a0b934.2023_02_16_00_46_06.js";import{L as g}from"./index.60e50b8a.js";import{_ as p}from"./ccItem.0d389956.js";import"./index.16440a63.js";import{S as w}from"./index.106378a7.js";import{D as x,a as V}from"./index.eed96014.js";import{a as S}from"./axios.372962c2.js";import{m as d}from"./index.28b41021.js";import{J as k}from"./index.1b9f23e2.js";import{_ as b}from"./data.9c623acf.js";import"./ccImg.f5584d95.js";import"./use-id.98183891.js";const C={mixins:[b],components:{ccItem:p},data(){return{inputText:"",page:0,limit:20,list:[],value1:"Favorites",value0:1,value2:2,option2:[{text:"\u5012\u5E8F",value:1},{text:"\u6B63\u5E8F",value:0}],option3:[{text:"\u5168\u90E8",value:0},{text:"\u5B58\u5728img",value:1},{text:"\u5B58\u5728video",value:2},{text:"\u5B58\u5728video2",value:3}],refreshing:!1,loading:!1,finished:!1,current:{},placeholder:0,dataSource:[]}},computed:{option1(){return k.util.isArray(this.list)?Object.keys(this.list.reduce((o,e)=>({...o,...e}),{})).map(o=>({text:o,value:o})):[]},showKeys(){let o=[{key:"Views",type:"primary"},{key:"From",type:"success"},{key:"Added",type:"danger"},{key:"duration",type:"warning"}];return this.value1&&o.push({key:this.value1,type:"primary"}),o}},watch:{list(){this.dataSource=[{title:this.list.length+"",list:this.list,activeNames:[]}]}},methods:{async loadData(o=1){let{data:e}=await S({url:"https://nine-sit.netlify.app/api/json/dataSourceNine.txt",params:{_page:o,_limit:this.limit,[this.value1+"_like"]:this.inputText,[this.value1+"_order"]:this.value0}});e.forEach(a=>{a.detail&&(a.detail_src=a.detail.src),Object.keys(a).forEach(n=>{let t=a[n];typeof t=="object"&&!Array.isArray(t)&&(Object.keys(t).forEach(l=>{a[`${n}_${l}`]=t[l]}),a.testViewUrl="http://wxsnsdy.tc.qq.com/105/20210/snsdyvideodownload?filekey=30280201010421301f0201690402534804102ca905ce620b1241b726bc41dcff44e00204012882540400&bizid=1023&hy=SH&fileparam=302c020101042530230204136ffd93020457e3c4ff02024ef202031e8d7f02030f42400204045a320a0201000400&fileType=.mp4")})}),o===1?(this.finished=!1,this.list=e):this.list=[...this.list,...e],this.page=o,this.loading=!1,e.length==0&&(this.finished=!0)},search(){this.loadData(1)},async open(o,e){if(o&&e.href&&!e.detail_src){let a=window.$toast.loading({duration:0}),n=await d.axios({params:{uuu:e.href}});a.clear();let t=d.utils.format.all(n.data);e.detail_src=t.detail.src}}}},D={class:"listAll"};function U(o,e,a,n,t,l){const r=x,m=V,f=w,c=p,h=g;return _(),y("div",D,[i(m,null,{default:u(()=>[i(r,{modelValue:t.value1,"onUpdate:modelValue":e[0]||(e[0]=s=>t.value1=s),options:l.option1,onChange:l.search},null,8,["modelValue","options","onChange"]),i(r,{modelValue:t.value0,"onUpdate:modelValue":e[1]||(e[1]=s=>t.value0=s),options:t.option2,onChange:l.search},null,8,["modelValue","options","onChange"]),i(r,{modelValue:t.value2,"onUpdate:modelValue":e[2]||(e[2]=s=>t.value2=s),options:t.option3,onChange:l.search},null,8,["modelValue","options","onChange"])]),_:1}),i(f,{modelValue:t.inputText,"onUpdate:modelValue":e[3]||(e[3]=s=>t.inputText=s),placeholder:t.placeholder+"",onSearch:l.search},null,8,["modelValue","placeholder","onSearch"]),i(h,{modelValue:t.loading,"onUpdate:modelValue":e[4]||(e[4]=s=>t.loading=s),finished:t.finished,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:e[5]||(e[5]=s=>l.loadData(t.page+1))},{default:u(()=>[i(c,{dataSource:t.list,showKeys:l.showKeys,onOpen:l.open},null,8,["dataSource","showKeys","onOpen"])]),_:1},8,["modelValue","finished"])])}const J=v(C,[["render",U]]);export{J as default};
