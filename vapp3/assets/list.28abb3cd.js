import{_ as m}from"./ccList.dc2a2608.js";import{a0 as u,_ as d,o as f,c as y,f as h}from"./index.c209ee9e.2022_11_09_01_53_08.js";import{_ as w}from"./data.118ebb44.js";import"./index.9927699f.js";import"./index.b5af19f4.js";import"./ccItem.9aab8614.js";import"./index.3bd1ada0.js";import"./ccImg.1b5a0864.js";import"./index.0f3a0f95.js";import"./index.06d9873a.js";import"./use-id.a203ab78.js";import"./index.d2c4b6dc.js";const c=Object.assign({"./axios.js":()=>u(()=>import("./axios.7e4f9144.js"),["./axios.7e4f9144.js","./axios.646f38c1.js","./config.e8ae8f25.js"],import.meta.url),"./config.js":()=>u(()=>import("./config.e8ae8f25.js"),[],import.meta.url),"./utils.js":()=>u(()=>import("./utils.f354cdd4.js"),["./utils.f354cdd4.js","./index.b805869b.js"],import.meta.url)}),s={};for(const a in c){const t=c[a];let o=a.replace("./","").replace(".js","");s[o]=(await t()).default}const g={mixins:[w],components:{ccList:m},data(){return{dataSource:[],params:{title:"",page:1,size:20,text:"",menus:[]}}},computed:{showKeys(){return[{key:"views",type:"primary"},{key:"name",type:"success"},{key:"duration",type:"danger"},{key:"hd",type:"warning"}]}},methods:{async loadData(a){console.log("loadData1",a);let{page:t,text:o}=a,i=t===0?s.config.url:`${s.config.url}/new/${t}`;o&&(i=t===1?`${s.config.url}?k=${o}`:`${s.config.url}?k=${o}&p=${t-1}`);let l=await s.axios({params:{uuu:i}}),r=s.utils.format.list(l.data);a.callback(r.list)},async open(a,t){if(a&&t.href&&!t.detail_src){let o=await s.axios({params:{uuu:t.href}}),i=s.utils.format.detail(o.data);t.detail_src=i.src;let l=await s.axios({params:{uuu:i.src}}),r=i.src.split("/");r.pop();let n=r.join("/"),_=l.data.split(`
`).map(e=>[".ts",".m3u8"].some(p=>e.includes(p))?e.startsWith("http")?e:`${n}/${e}`:e).filter(e=>e.includes(".m3u8")).map(e=>({url:e,title:e.split("/videos/")[1].split("/hls-")[1].split("-")[0]})).sort((e,p)=>parseInt(p.title)-parseInt(e.title));t.playList=_}}}};function k(a,t,o,i,l,r){const n=m;return f(),y("div",null,[h(n,{dataSource:l.dataSource,params:l.params,showKeys:r.showKeys,onLoadData:r.loadData,onOpen:r.open},null,8,["dataSource","params","showKeys","onLoadData","onOpen"])])}const P=d(g,[["render",k]]);export{P as default};
