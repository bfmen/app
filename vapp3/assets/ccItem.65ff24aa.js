import{c as b}from"./ccImg.eeb79db0.js";import{J as V}from"./index.0ae56dc1.js";import{_ as I,r as s,o as a,c as l,h as u,w as c,f as r,t as o,F as _,b as y,a as h,x as k,i as x,v as T,y as w}from"./index.7d095a7f.2022_10_27_10_42_17.js";const j={components:{ccImg:b},name:"cc-item",props:{dataSource:{},itemKey:{},showKeys:{},title:{}},computed:{$util(){return V.util}},data(){return{activeNames:[]}},watch:{activeNames(){console.log("activeNames",this.activeNames,this.dataSource),this.$emit("open",!!this.activeNames.length,this.dataSource)}},created(){this.itemKey===void 0&&(this.activeNames=["1"])},methods:{getObjectTitle(v,d){let e=v.title||v.id||d;return e===void 0&&(e="ROOT"),e},open(){this.$emit("open",...arguments)}}},B={class:"ccItem"},U={key:0},J={key:1},C=["src"];function D(v,d,e,F,m,n){const S=s("cc-item",!0),f=s("van-collapse-item"),g=s("van-collapse"),K=s("ccImg"),N=s("van-tag"),O=s("van-cell");return a(),l("div",B,[n.$util.isArray(e.dataSource)?(a(),l("div",U,[u(g,{modelValue:m.activeNames,"onUpdate:modelValue":d[0]||(d[0]=t=>m.activeNames=t)},{default:c(()=>[u(f,{name:"1"},{title:c(()=>[r("div",null,o(e.itemKey||e.title||"ROOT"),1)]),value:c(()=>[r("div",null,"["+o(e.dataSource.length)+"]",1)]),default:c(()=>[(a(!0),l(_,null,y(e.dataSource,(t,i)=>(a(),l("div",{key:i},[(a(),h(S,{key:t.id||t.title||JSON.stringify(t),dataSource:t,itemKey:i,showKeys:e.showKeys,onOpen:n.open},null,8,["dataSource","itemKey","showKeys","onOpen"]))]))),128))]),_:1})]),_:1},8,["modelValue"])])):e.dataSource&&n.$util.isObject(e.dataSource)?(a(),l("div",J,[u(g,{modelValue:m.activeNames,"onUpdate:modelValue":d[1]||(d[1]=t=>m.activeNames=t)},{default:c(()=>[u(f,{name:"1"},k({title:c(()=>[r("div",null,o(n.getObjectTitle(e.dataSource,e.itemKey)),1),(a(!0),l(_,null,y(n.$util.getImgKeys(e.dataSource),(t,i)=>(a(),l("div",{key:i},[u(K,{width:"100%",src:e.dataSource[t]},null,8,["src"])]))),128)),(a(!0),l(_,null,y(e.showKeys,(t,i)=>x((a(),h(N,{key:i,type:t.type},{default:c(()=>[w(o(e.dataSource[t.key]),1)]),_:2},1032,["type"])),[[T,e.dataSource[t.key]!==void 0]])),128))]),value:c(()=>[r("div",null,o("{"+Object.keys(e.dataSource).length+"}"),1)]),_:2},[m.activeNames.length?{name:"default",fn:c(()=>[(a(!0),l(_,null,y(n.$util.sortMediaKeys(e.dataSource),(t,i)=>(a(),l("div",{key:t+i},[u(S,{dataSource:e.dataSource[t],itemKey:t,showKeys:e.showKeys,onOpen:n.open},null,8,["dataSource","itemKey","showKeys","onOpen"])]))),128))]),key:"0"}:void 0]),1024)]),_:1},8,["modelValue"])])):(a(),h(O,{key:2,title:e.itemKey+"",label:e.dataSource+""},k({_:2},[n.$util.isVideoUrl(e.dataSource)?{name:"label",fn:c(()=>[r("video",{width:"100%",controls:"controls",playsinline:"","picture-in-picture-mode":["push","pop"],autoplay:!1,poster:"",src:e.dataSource},null,8,C)]),key:"0"}:n.$util.isImgUrl(e.dataSource)?{name:"label",fn:c(()=>[r("div",null,o(e.dataSource),1),u(K,{width:"100%",src:e.dataSource},null,8,["src"])]),key:"1"}:{name:"label",fn:c(()=>[w(o(e.dataSource),1)]),key:"2"}]),1032,["title","label"]))])}const L=I(j,[["render",D],["__scopeId","data-v-d6399008"]]);export{L as c};
