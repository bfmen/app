import{Q as I,a5 as Be,a6 as q,a3 as ie,a7 as $e,a8 as _e,a9 as Pe,aa as Ae,ab as le,b as E,e as L,R as se,a1 as re,ac as C,ad as ce,h as de,ae as ze,S as P,W as ue,f as g,n as A,q as fe,O,Y as ve,X as N,g as Y,t as M,k as X,af as Oe,ag as F,U as Ne,V as K,$ as Ee,ah as Le,ai as He,aj as We,ak as Ze,x as z,al as te,B as De,am as Me,an as ne,m as Ue,v as Ve,ao as Fe,ap as je,i as qe,u as Xe,aq as Ye,ar as Ke,Z as Qe,E as Ge,as as Je,at as pe}from"./index.c3a0b934.2023_02_16_00_46_06.js";import{u as he}from"./use-id.98183891.js";import{T as et}from"./index.60e50b8a.js";function tt(){const e=I([]),i=[];return Be(()=>{e.value=[]}),[e,l=>(i[l]||(i[l]=n=>{e.value[l]=n}),i[l])]}function nt(e,i,s){let l=0;const n=e.scrollLeft,a=s===0?1:Math.round(s*1e3/16);function r(){e.scrollLeft+=(i-n)/a,++l<a&&q(r)}r()}function at(e,i,s,l){let n=ie(e);const a=n<i,r=s===0?1:Math.round(s*1e3/16),h=(i-n)/r;function u(){n+=h,(a&&n>i||!a&&n<i)&&(n=i),$e(e,n),a&&n<i||!a&&n>i?q(u):l&&q(l)}u()}function ot(e,i){if(!_e||!window.IntersectionObserver)return;const s=new IntersectionObserver(a=>{i(a[0].intersectionRatio>0)},{root:document.body}),l=()=>{e.value&&s.observe(e.value)},n=()=>{e.value&&s.unobserve(e.value)};Pe(n),Ae(n),le(l)}const[it,lt]=E("sticky"),st={zIndex:A,position:fe("top"),container:Object,offsetTop:O(0),offsetBottom:O(0)};var rt=L({name:it,props:st,emits:["scroll","change"],setup(e,{emit:i,slots:s}){const l=I(),n=se(l),a=re({fixed:!1,width:0,height:0,transform:0}),r=C(()=>ce(e.position==="top"?e.offsetTop:e.offsetBottom)),h=C(()=>{const{fixed:f,height:x,width:S}=a;if(f)return{width:`${S}px`,height:`${x}px`}}),u=C(()=>{if(!a.fixed)return;const f=de(ze(e.zIndex),{width:`${a.width}px`,height:`${a.height}px`,[e.position]:`${r.value}px`});return a.transform&&(f.transform=`translate3d(0, ${a.transform}px, 0)`),f}),T=f=>i("scroll",{scrollTop:f,isFixed:a.fixed}),b=()=>{if(!l.value||ve(l))return;const{container:f,position:x}=e,S=N(l),v=ie(window);if(a.width=S.width,a.height=S.height,x==="top")if(f){const k=N(f),c=k.bottom-r.value-a.height;a.fixed=r.value>S.top&&k.bottom>0,a.transform=c<0?c:0}else a.fixed=r.value>S.top;else{const{clientHeight:k}=document.documentElement;if(f){const c=N(f),R=k-c.top-r.value-a.height;a.fixed=k-r.value<S.bottom&&k>c.top,a.transform=R<0?-R:0}else a.fixed=k-r.value<S.bottom}T(v)};return P(()=>a.fixed,f=>i("change",f)),ue("scroll",b,{target:n,passive:!0}),ot(l,b),()=>{var f;return g("div",{ref:l,style:h.value},[g("div",{class:lt({fixed:a.fixed}),style:u.value},[(f=s.default)==null?void 0:f.call(s)])])}}});const ct=Y(rt),[dt,ae]=E("tab");var ut=L({name:dt,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:A,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:M},setup(e,{slots:i}){const s=C(()=>{const n={},{type:a,color:r,disabled:h,isActive:u,activeColor:T,inactiveColor:b}=e;r&&a==="card"&&(n.borderColor=r,h||(u?n.backgroundColor=r:n.color=r));const x=u?T:b;return x&&(n.color=x),n}),l=()=>{const n=g("span",{class:ae("text",{ellipsis:!e.scrollable})},[i.title?i.title():e.title]);return e.dot||X(e.badge)&&e.badge!==""?g(Oe,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[n]}):n};return()=>g("div",{id:e.id,role:"tab",class:[ae([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:s.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[l()])}});const[ft,oe]=E("tabs");var vt=L({name:ft,props:{count:F(Number),inited:Boolean,animated:Boolean,duration:F(A),swipeable:Boolean,lazyRender:Boolean,currentIndex:F(Number)},emits:["change"],setup(e,{emit:i,slots:s}){const l=I(),n=h=>i("change",h),a=()=>{var h;const u=(h=s.default)==null?void 0:h.call(s);return e.animated||e.swipeable?g(Ee,{ref:l,loop:!1,class:oe("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:n},{default:()=>[u]}):u},r=h=>{const u=l.value;u&&u.state.active!==h&&u.swipeTo(h,{immediate:!e.inited})};return P(()=>e.currentIndex,r),Ne(()=>{r(e.currentIndex)}),K({swipeRef:l}),()=>g("div",{class:oe("content",{animated:e.animated||e.swipeable})},[a()])}});const[be,D]=E("tabs"),ht={type:fe("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:O(0),duration:O(.3),animated:Boolean,ellipsis:M,swipeable:Boolean,scrollspy:Boolean,offsetTop:O(0),background:String,lazyRender:M,lineWidth:A,lineHeight:A,beforeChange:Function,swipeThreshold:O(5),titleActiveColor:String,titleInactiveColor:String},ge=Symbol(be);var bt=L({name:be,props:ht,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(e,{emit:i,slots:s}){let l,n,a;const r=I(),h=I(),u=I(),T=I(),b=he(),f=se(r),[x,S]=tt(),{children:v,linkChildren:k}=Le(ge),c=re({inited:!1,position:"",lineStyle:{},currentIndex:-1}),R=C(()=>v.length>e.swipeThreshold||!e.ellipsis||e.shrink),U=C(()=>({borderColor:e.color,background:e.background})),B=(t,o)=>{var d;return(d=t.name)!=null?d:o},Q=C(()=>{const t=v[c.currentIndex];if(t)return B(t,c.currentIndex)}),V=C(()=>ce(e.offsetTop)),G=C(()=>e.sticky?V.value+l:0),H=t=>{const o=h.value,d=x.value;if(!R.value||!o||!d||!d[c.currentIndex])return;const m=d[c.currentIndex].$el,y=m.offsetLeft-(o.offsetWidth-m.offsetWidth)/2;nt(o,y,t?0:+e.duration)},$=()=>{const t=c.inited;z(()=>{const o=x.value;if(!o||!o[c.currentIndex]||e.type!=="line"||ve(r.value))return;const d=o[c.currentIndex].$el,{lineWidth:m,lineHeight:y}=e,w=d.offsetLeft+d.offsetWidth/2,_={width:te(m),backgroundColor:e.color,transform:`translateX(${w}px) translateX(-50%)`};if(t&&(_.transitionDuration=`${e.duration}s`),X(y)){const ee=te(y);_.height=ee,_.borderRadius=ee}c.lineStyle=_})},me=t=>{const o=t<c.currentIndex?-1:1;for(;t>=0&&t<v.length;){if(!v[t].disabled)return t;t+=o}},W=(t,o)=>{const d=me(t);if(!X(d))return;const m=v[d],y=B(m,d),w=c.currentIndex!==null;c.currentIndex!==d&&(c.currentIndex=d,o||H(),$()),y!==e.active&&(i("update:active",y),w&&i("change",y,m.title)),a&&!e.scrollspy&&Me(Math.ceil(ne(r.value)-V.value))},Z=(t,o)=>{const d=v.find((y,w)=>B(y,w)===t),m=d?v.indexOf(d):0;W(m,o)},J=(t=!1)=>{if(e.scrollspy){const o=v[c.currentIndex].$el;if(o&&f.value){const d=ne(o,f.value)-G.value;n=!0,at(f.value,d,t?0:+e.duration,()=>{n=!1})}}},ye=(t,o,d)=>{const{title:m,disabled:y}=v[o],w=B(v[o],o);y?i("disabled",w,m):(Fe(e.beforeChange,{args:[w],done:()=>{W(o),J()}}),i("click",w,m),je(t)),i("click-tab",{name:w,title:m,event:d,disabled:y})},we=t=>{a=t.isFixed,i("scroll",t)},xe=t=>{z(()=>{Z(t),J(!0)})},Se=()=>{for(let t=0;t<v.length;t++){const{top:o}=N(v[t].$el);if(o>G.value)return t===0?0:t-1}return v.length-1},ke=()=>{if(e.scrollspy&&!n){const t=Se();W(t)}},Te=()=>v.map((t,o)=>g(ut,Ue({key:t.id,id:`${b}-${o}`,ref:S(o),type:e.type,color:e.color,style:t.titleStyle,class:t.titleClass,shrink:e.shrink,isActive:o===c.currentIndex,controls:t.id,scrollable:R.value,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:d=>ye(t,o,d)},Ve(t,["dot","badge","title","disabled","showZeroBadge"])),{title:t.$slots.title})),Ce=()=>{if(e.type==="line"&&v.length)return g("div",{class:D("line"),style:c.lineStyle},null)},p=()=>{var t,o,d;const{type:m,border:y,sticky:w}=e,_=[g("div",{ref:w?void 0:u,class:[D("wrap"),{[De]:m==="line"&&y}]},[g("div",{ref:h,role:"tablist",class:D("nav",[m,{shrink:e.shrink,complete:R.value}]),style:U.value,"aria-orientation":"horizontal"},[(t=s["nav-left"])==null?void 0:t.call(s),Te(),Ce(),(o=s["nav-right"])==null?void 0:o.call(s)])]),(d=s["nav-bottom"])==null?void 0:d.call(s)];return w?g("div",{ref:u},[_]):_};P([()=>e.color,He],$),P(()=>e.active,t=>{t!==Q.value&&Z(t)}),P(()=>v.length,()=>{c.inited&&(Z(e.active),$(),z(()=>{H(!0)}))});const Ie=()=>{Z(e.active,!0),z(()=>{c.inited=!0,u.value&&(l=N(u.value).height),H(!0)})},Re=(t,o)=>i("rendered",t,o);return K({resize:()=>{$(),z(()=>{var t,o;return(o=(t=T.value)==null?void 0:t.swipeRef.value)==null?void 0:o.resize()})},scrollTo:xe}),We($),Ze($),le(Ie),ue("scroll",ke,{target:f,passive:!0}),k({id:b,props:e,setLine:$,onRendered:Re,currentName:Q,scrollIntoView:H}),()=>g("div",{ref:r,class:D([e.type])},[e.sticky?g(ct,{container:r.value,offsetTop:V.value,onScroll:we},{default:()=>[p()]}):p(),g(vt,{ref:T,count:v.length,inited:c.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:c.currentIndex,onChange:W},{default:()=>{var t;return[(t=s.default)==null?void 0:t.call(s)]}})])}});const[gt,j]=E("tab"),mt=de({},qe,{dot:Boolean,name:A,badge:A,title:String,disabled:Boolean,titleClass:Xe,titleStyle:[String,Object],showZeroBadge:M});var yt=L({name:gt,props:mt,setup(e,{slots:i}){const s=he(),l=I(!1),{parent:n,index:a}=Ye(ge);if(!n)return;const r=()=>{var b;return(b=e.name)!=null?b:a.value},h=()=>{l.value=!0,n.props.lazyRender&&z(()=>{n.onRendered(r(),e.title)})},u=C(()=>{const b=r()===n.currentName.value;return b&&!l.value&&h(),b}),T=I(!u.value);return P(u,b=>{b?T.value=!1:pe(()=>{T.value=!0})}),P(()=>e.title,()=>{n.setLine(),n.scrollIntoView()}),Ke(et,u),()=>{var b;const f=`${n.id}-${a.value}`,{animated:x,swipeable:S,scrollspy:v,lazyRender:k}=n.props;if(!i.default&&!x)return;const c=v||u.value;if(x||S)return g(Qe,{id:s,role:"tabpanel",class:j("panel-wrapper",{inactive:T.value}),tabindex:u.value?0:-1,"aria-hidden":!u.value,"aria-labelledby":f},{default:()=>{var B;return[g("div",{class:j("panel")},[(B=i.default)==null?void 0:B.call(i)])]}});const U=l.value||v||!k?(b=i.default)==null?void 0:b.call(i):null;return K({id:s}),Ge(g("div",{id:s,role:"tabpanel",class:j("panel"),tabindex:c?0:-1,"aria-labelledby":f},[U]),[[Je,c]])}}});const Tt=Y(yt),Ct=Y(bt);export{Tt as T,Ct as a};
