import{l as u,_ as d,r as _,o as f,c as y,h}from"./index.d1e0524c.2022_10_30_01_20_49.js";import{c as w}from"./ccList.28873570.js";import{_ as g}from"./data.81493c82.js";import"./ccItem.f2bfbe2b.js";import"./ccImg.01083c60.js";import"./index.5c6efa4d.js";const p=Object.assign({"./axios.js":()=>u(()=>import("./axios.7e4f9144.js"),["./axios.7e4f9144.js","./axios.646f38c1.js","./config.e8ae8f25.js"],import.meta.url),"./config.js":()=>u(()=>import("./config.e8ae8f25.js"),[],import.meta.url),"./utils.js":()=>u(()=>import("./utils.f354cdd4.js"),["./utils.f354cdd4.js","./index.b805869b.js"],import.meta.url)}),s={};for(const a in p){const e=p[a];let r=a.replace("./","").replace(".js","");s[r]=(await e()).default}const k={mixins:[g],components:{ccList:w},data(){return{dataSource:[],params:{title:"",page:1,size:20,text:"",menus:[]}}},computed:{showKeys(){return[{key:"views",type:"primary"},{key:"name",type:"success"},{key:"duration",type:"danger"},{key:"hd",type:"warning"}]}},methods:{async loadData(a){console.log("loadData1",a);let{page:e,text:r}=a,l=e===0?s.config.url:`${s.config.url}/new/${e}`;r&&(l=e===1?`${s.config.url}?k=${r}`:`${s.config.url}?k=${r}&p=${e-1}`);let i=await s.axios({params:{uuu:l}}),o=s.utils.format.list(i.data);a.callback(o.list)},async open(a,e){if(a&&e.href&&!e.detail_src){let r=await s.axios({params:{uuu:e.href}}),l=s.utils.format.detail(r.data);e.detail_src=l.src;let i=await s.axios({params:{uuu:l.src}}),o=l.src.split("/");o.pop();let n=o.join("/"),m=i.data.split(`
`).map(t=>[".ts",".m3u8"].some(c=>t.includes(c))?t.startsWith("http")?t:`${n}/${t}`:t).filter(t=>t.includes(".m3u8")).map(t=>({url:t,title:t.split("/videos/")[1].split("/hls-")[1].split("-")[0]})).sort((t,c)=>parseInt(c.title)-parseInt(t.title));e.playList=m}}}};function x(a,e,r,l,i,o){const n=_("ccList");return f(),y("div",null,[h(n,{dataSource:i.dataSource,params:i.params,showKeys:o.showKeys,onLoadData:o.loadData,onOpen:o.open},null,8,["dataSource","params","showKeys","onLoadData","onOpen"])])}const K=d(k,[["render",x]]);export{K as default};
