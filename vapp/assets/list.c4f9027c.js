import{c as br}from"./config.162a1bb4.js";import{c as _r,n as Te}from"./index.5a1af6c9.js";var I=function(r){return r&&r.Math==Math&&r},c=I(typeof globalThis=="object"&&globalThis)||I(typeof window=="object"&&window)||I(typeof self=="object"&&self)||I(typeof _r=="object"&&_r)||function(){return this}()||Function("return this")(),ur={},u=function(r){try{return!!r()}catch{return!0}},Fe=u,d=!Fe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Ne=u,qr=!Ne(function(){var r=function(){}.bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),Me=qr,E=Function.prototype.call,fr=Me?E.bind(E):function(){return E.apply(E,arguments)},Hr={},Xr={}.propertyIsEnumerable,Zr=Object.getOwnPropertyDescriptor,Re=Zr&&!Xr.call({1:2},1);Hr.f=Re?function(e){var t=Zr(this,e);return!!t&&t.enumerable}:Xr;var Qr=function(r,e){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:e}},re=qr,ee=Function.prototype,Be=ee.bind,er=ee.call,De=re&&Be.bind(er,er),f=re?function(r){return r&&De(r)}:function(r){return r&&function(){return er.apply(r,arguments)}},te=f,Le=te({}.toString),Ke=te("".slice),Ve=function(r){return Ke(Le(r),8,-1)},xe=f,Ae=u,Ue=Ve,V=Object,ke=xe("".split),Ge=Ae(function(){return!V("z").propertyIsEnumerable(0)})?function(r){return Ue(r)=="String"?ke(r,""):V(r)}:V,We=TypeError,ae=function(r){if(r==null)throw We("Can't call method on "+r);return r},ze=Ge,Ye=ae,B=function(r){return ze(Ye(r))},v=function(r){return typeof r=="function"},Je=v,S=function(r){return typeof r=="object"?r!==null:Je(r)},x=c,qe=v,He=function(r){return qe(r)?r:void 0},D=function(r,e){return arguments.length<2?He(x[r]):x[r]&&x[r][e]},Xe=f,Ze=Xe({}.isPrototypeOf),Qe=D,rt=Qe("navigator","userAgent")||"",ne=c,A=rt,Or=ne.process,mr=ne.Deno,Sr=Or&&Or.versions||mr&&mr.version,wr=Sr&&Sr.v8,s,N;wr&&(s=wr.split("."),N=s[0]>0&&s[0]<4?1:+(s[0]+s[1]));!N&&A&&(s=A.match(/Edge\/(\d+)/),(!s||s[1]>=74)&&(s=A.match(/Chrome\/(\d+)/),s&&(N=+s[1])));var et=N,Ir=et,tt=u,oe=!!Object.getOwnPropertySymbols&&!tt(function(){var r=Symbol();return!String(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&Ir&&Ir<41}),at=oe,ie=at&&!Symbol.sham&&typeof Symbol.iterator=="symbol",nt=D,ot=v,it=Ze,lt=ie,st=Object,le=lt?function(r){return typeof r=="symbol"}:function(r){var e=nt("Symbol");return ot(e)&&it(e.prototype,st(r))},vt=String,ct=function(r){try{return vt(r)}catch{return"Object"}},ut=v,ft=ct,dt=TypeError,pt=function(r){if(ut(r))return r;throw dt(ft(r)+" is not a function")},yt=pt,ht=function(r,e){var t=r[e];return t==null?void 0:yt(t)},U=fr,k=v,G=S,$t=TypeError,gt=function(r,e){var t,a;if(e==="string"&&k(t=r.toString)&&!G(a=U(t,r))||k(t=r.valueOf)&&!G(a=U(t,r))||e!=="string"&&k(t=r.toString)&&!G(a=U(t,r)))return a;throw $t("Can't convert object to primitive value")},dr={exports:{}},Er=c,bt=Object.defineProperty,pr=function(r,e){try{bt(Er,r,{value:e,configurable:!0,writable:!0})}catch{Er[r]=e}return e},_t=c,Ot=pr,Pr="__core-js_shared__",mt=_t[Pr]||Ot(Pr,{}),yr=mt,jr=yr;(dr.exports=function(r,e){return jr[r]||(jr[r]=e!==void 0?e:{})})("versions",[]).push({version:"3.23.3",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE",source:"https://github.com/zloirock/core-js"});var St=ae,wt=Object,It=function(r){return wt(St(r))},Et=f,Pt=It,jt=Et({}.hasOwnProperty),$=Object.hasOwn||function(e,t){return jt(Pt(e),t)},Ct=f,Tt=0,Ft=Math.random(),Nt=Ct(1 .toString),se=function(r){return"Symbol("+(r===void 0?"":r)+")_"+Nt(++Tt+Ft,36)},Mt=c,Rt=dr.exports,Cr=$,Bt=se,Tr=oe,ve=ie,g=Rt("wks"),h=Mt.Symbol,Fr=h&&h.for,Dt=ve?h:h&&h.withoutSetter||Bt,ce=function(r){if(!Cr(g,r)||!(Tr||typeof g[r]=="string")){var e="Symbol."+r;Tr&&Cr(h,r)?g[r]=h[r]:ve&&Fr?g[r]=Fr(e):g[r]=Dt(e)}return g[r]},Lt=fr,Nr=S,Mr=le,Kt=ht,Vt=gt,xt=ce,At=TypeError,Ut=xt("toPrimitive"),kt=function(r,e){if(!Nr(r)||Mr(r))return r;var t=Kt(r,Ut),a;if(t){if(e===void 0&&(e="default"),a=Lt(t,r,e),!Nr(a)||Mr(a))return a;throw At("Can't convert object to primitive value")}return e===void 0&&(e="number"),Vt(r,e)},Gt=kt,Wt=le,ue=function(r){var e=Gt(r,"string");return Wt(e)?e:e+""},zt=c,Rr=S,tr=zt.document,Yt=Rr(tr)&&Rr(tr.createElement),fe=function(r){return Yt?tr.createElement(r):{}},Jt=d,qt=u,Ht=fe,de=!Jt&&!qt(function(){return Object.defineProperty(Ht("div"),"a",{get:function(){return 7}}).a!=7}),Xt=d,Zt=fr,Qt=Hr,ra=Qr,ea=B,ta=ue,aa=$,na=de,Br=Object.getOwnPropertyDescriptor;ur.f=Xt?Br:function(e,t){if(e=ea(e),t=ta(t),na)try{return Br(e,t)}catch{}if(aa(e,t))return ra(!Zt(Qt.f,e,t),e[t])};var _={},oa=d,ia=u,pe=oa&&ia(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),la=S,sa=String,va=TypeError,L=function(r){if(la(r))return r;throw va(sa(r)+" is not an object")},ca=d,ua=de,fa=pe,P=L,Dr=ue,da=TypeError,W=Object.defineProperty,pa=Object.getOwnPropertyDescriptor,z="enumerable",Y="configurable",J="writable";_.f=ca?fa?function(e,t,a){if(P(e),t=Dr(t),P(a),typeof e=="function"&&t==="prototype"&&"value"in a&&J in a&&!a[J]){var n=pa(e,t);n&&n[J]&&(e[t]=a.value,a={configurable:Y in a?a[Y]:n[Y],enumerable:z in a?a[z]:n[z],writable:!1})}return W(e,t,a)}:W:function(e,t,a){if(P(e),t=Dr(t),P(a),ua)try{return W(e,t,a)}catch{}if("get"in a||"set"in a)throw da("Accessors not supported");return"value"in a&&(e[t]=a.value),e};var ya=d,ha=_,$a=Qr,ye=ya?function(r,e,t){return ha.f(r,e,$a(1,t))}:function(r,e,t){return r[e]=t,r},he={exports:{}},ar=d,ga=$,$e=Function.prototype,ba=ar&&Object.getOwnPropertyDescriptor,hr=ga($e,"name"),_a=hr&&function(){}.name==="something",Oa=hr&&(!ar||ar&&ba($e,"name").configurable),ma={EXISTS:hr,PROPER:_a,CONFIGURABLE:Oa},Sa=f,wa=v,nr=yr,Ia=Sa(Function.toString);wa(nr.inspectSource)||(nr.inspectSource=function(r){return Ia(r)});var ge=nr.inspectSource,Ea=c,Pa=v,ja=ge,Lr=Ea.WeakMap,Ca=Pa(Lr)&&/native code/.test(ja(Lr)),Ta=dr.exports,Fa=se,Kr=Ta("keys"),be=function(r){return Kr[r]||(Kr[r]=Fa(r))},$r={},Na=Ca,_e=c,q=f,Ma=S,Ra=ye,H=$,X=yr,Ba=be,Da=$r,Vr="Object already initialized",or=_e.TypeError,La=_e.WeakMap,M,m,R,Ka=function(r){return R(r)?m(r):M(r,{})},Va=function(r){return function(e){var t;if(!Ma(e)||(t=m(e)).type!==r)throw or("Incompatible receiver, "+r+" required");return t}};if(Na||X.state){var y=X.state||(X.state=new La),xa=q(y.get),xr=q(y.has),Aa=q(y.set);M=function(r,e){if(xr(y,r))throw new or(Vr);return e.facade=r,Aa(y,r,e),e},m=function(r){return xa(y,r)||{}},R=function(r){return xr(y,r)}}else{var b=Ba("state");Da[b]=!0,M=function(r,e){if(H(r,b))throw new or(Vr);return e.facade=r,Ra(r,b,e),e},m=function(r){return H(r,b)?r[b]:{}},R=function(r){return H(r,b)}}var Ua={set:M,get:m,has:R,enforce:Ka,getterFor:Va},ka=u,Ga=v,j=$,ir=d,Wa=ma.CONFIGURABLE,za=ge,Oe=Ua,Ya=Oe.enforce,Ja=Oe.get,T=Object.defineProperty,qa=ir&&!ka(function(){return T(function(){},"length",{value:8}).length!==8}),Ha=String(String).split("String"),Xa=he.exports=function(r,e,t){String(e).slice(0,7)==="Symbol("&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!j(r,"name")||Wa&&r.name!==e)&&(ir?T(r,"name",{value:e,configurable:!0}):r.name=e),qa&&t&&j(t,"arity")&&r.length!==t.arity&&T(r,"length",{value:t.arity});try{t&&j(t,"constructor")&&t.constructor?ir&&T(r,"prototype",{writable:!1}):r.prototype&&(r.prototype=void 0)}catch{}var a=Ya(r);return j(a,"source")||(a.source=Ha.join(typeof e=="string"?e:"")),r};Function.prototype.toString=Xa(function(){return Ga(this)&&Ja(this).source||za(this)},"toString");var Za=v,Qa=_,rn=he.exports,en=pr,tn=function(r,e,t,a){a||(a={});var n=a.enumerable,o=a.name!==void 0?a.name:e;if(Za(t)&&rn(t,o,a),a.global)n?r[e]=t:en(e,t);else{try{a.unsafe?r[e]&&(n=!0):delete r[e]}catch{}n?r[e]=t:Qa.f(r,e,{value:t,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return r},me={},an=Math.ceil,nn=Math.floor,on=Math.trunc||function(e){var t=+e;return(t>0?nn:an)(t)},ln=on,Se=function(r){var e=+r;return e!==e||e===0?0:ln(e)},sn=Se,vn=Math.max,cn=Math.min,un=function(r,e){var t=sn(r);return t<0?vn(t+e,0):cn(t,e)},fn=Se,dn=Math.min,pn=function(r){return r>0?dn(fn(r),9007199254740991):0},yn=pn,hn=function(r){return yn(r.length)},$n=B,gn=un,bn=hn,Ar=function(r){return function(e,t,a){var n=$n(e),o=bn(n),i=gn(a,o),l;if(r&&t!=t){for(;o>i;)if(l=n[i++],l!=l)return!0}else for(;o>i;i++)if((r||i in n)&&n[i]===t)return r||i||0;return!r&&-1}},we={includes:Ar(!0),indexOf:Ar(!1)},_n=f,Z=$,On=B,mn=we.indexOf,Sn=$r,Ur=_n([].push),Ie=function(r,e){var t=On(r),a=0,n=[],o;for(o in t)!Z(Sn,o)&&Z(t,o)&&Ur(n,o);for(;e.length>a;)Z(t,o=e[a++])&&(~mn(n,o)||Ur(n,o));return n},gr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],wn=Ie,In=gr,En=In.concat("length","prototype");me.f=Object.getOwnPropertyNames||function(e){return wn(e,En)};var Ee={};Ee.f=Object.getOwnPropertySymbols;var Pn=D,jn=f,Cn=me,Tn=Ee,Fn=L,Nn=jn([].concat),Mn=Pn("Reflect","ownKeys")||function(e){var t=Cn.f(Fn(e)),a=Tn.f;return a?Nn(t,a(e)):t},kr=$,Rn=Mn,Bn=ur,Dn=_,Ln=function(r,e,t){for(var a=Rn(e),n=Dn.f,o=Bn.f,i=0;i<a.length;i++){var l=a[i];!kr(r,l)&&!(t&&kr(t,l))&&n(r,l,o(e,l))}},Kn=u,Vn=v,xn=/#|\.prototype\./,w=function(r,e){var t=Un[An(r)];return t==Gn?!0:t==kn?!1:Vn(e)?Kn(e):!!e},An=w.normalize=function(r){return String(r).replace(xn,".").toLowerCase()},Un=w.data={},kn=w.NATIVE="N",Gn=w.POLYFILL="P",Wn=w,Q=c,zn=ur.f,Yn=ye,Jn=tn,qn=pr,Hn=Ln,Xn=Wn,Zn=function(r,e){var t=r.target,a=r.global,n=r.stat,o,i,l,p,O,K;if(a?i=Q:n?i=Q[t]||qn(t,{}):i=(Q[t]||{}).prototype,i)for(l in e){if(O=e[l],r.dontCallGetSet?(K=zn(i,l),p=K&&K.value):p=i[l],o=Xn(a?l:t+(n?".":"#")+l,r.forced),!o&&p!==void 0){if(typeof O==typeof p)continue;Hn(O,p)}(r.sham||p&&p.sham)&&Yn(O,"sham",!0),Jn(i,l,O,r)}},Pe={},Qn=Ie,ro=gr,eo=Object.keys||function(e){return Qn(e,ro)},to=d,ao=pe,no=_,oo=L,io=B,lo=eo;Pe.f=to&&!ao?Object.defineProperties:function(e,t){oo(e);for(var a=io(t),n=lo(t),o=n.length,i=0,l;o>i;)no.f(e,l=n[i++],a[l]);return e};var so=D,vo=so("document","documentElement"),co=L,uo=Pe,Gr=gr,fo=$r,po=vo,yo=fe,ho=be,Wr=">",zr="<",lr="prototype",sr="script",je=ho("IE_PROTO"),rr=function(){},Ce=function(r){return zr+sr+Wr+r+zr+"/"+sr+Wr},Yr=function(r){r.write(Ce("")),r.close();var e=r.parentWindow.Object;return r=null,e},$o=function(){var r=yo("iframe"),e="java"+sr+":",t;return r.style.display="none",po.appendChild(r),r.src=String(e),t=r.contentWindow.document,t.open(),t.write(Ce("document.F=Object")),t.close(),t.F},C,F=function(){try{C=new ActiveXObject("htmlfile")}catch{}F=typeof document!="undefined"?document.domain&&C?Yr(C):$o():Yr(C);for(var r=Gr.length;r--;)delete F[lr][Gr[r]];return F()};fo[je]=!0;var go=Object.create||function(e,t){var a;return e!==null?(rr[lr]=co(e),a=new rr,rr[lr]=null,a[je]=e):a=F(),t===void 0?a:uo.f(a,t)},bo=ce,_o=go,Oo=_.f,vr=bo("unscopables"),cr=Array.prototype;cr[vr]==null&&Oo(cr,vr,{configurable:!0,value:_o(null)});var mo=function(r){cr[vr][r]=!0},So=Zn,wo=we.includes,Io=u,Eo=mo,Po=Io(function(){return!Array(1).includes()});So({target:"Array",proto:!0,forced:Po},{includes:function(e){return wo(this,e,arguments.length>1?arguments[1]:void 0)}});Eo("includes");var jo=function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{staticClass:"list"},[r.title?t("div",{staticClass:"header",on:{click:r.headerClick}},[t("span",{staticClass:"title"},[r._v(r._s(r.title))]),t("span",{staticClass:"more"},[r._v("\u66F4\u591A")])]):r._e(),t("div",{staticClass:"numInfo"},[r._v(" "+r._s(this.dataList.filter(function(a){return a.play_url_data?[".m3u8",".mp4"].some(function(n){return JSON.stringify(a.play_url_data).includes(n)}):a.isvip!=1}).length)+"/"+r._s(r.dataList.length)+" ")]),t("div",{staticClass:"items"},r._l(r.list,function(a,n){return t("div",{key:n+a.vodid,staticClass:"item",class:{itemMin:r.isMin},on:{click:function(o){return r.itemClick(a)}}},[r.vodid==a.vodid&&r.videoUrl?t("video",{ref:"video"+a.vodid,refInFor:!0,staticClass:"video bananaListVideo",class:{videoMin:r.isMin},attrs:{controls:"controls",playsinline:"",autoplay:"",title:a.title,poster:a.coverpic,"picture-in-picture-mode":["push","pop"],src:r.videoUrl}}):t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.coverpic,expression:"item.coverpic"}],staticClass:"image",class:{imagemMin:r.isMin},attrs:{mode:"aspectFit"},on:{load:function(o){return r.loadImage(a,o)}}}),t("span",[r._v(r._s(a.title||a.catename)+" "+r._s(r.showVideoState(a)))]),t("div",{staticClass:"tips"},[a.isvip==1||a.play_url_data&&a.play_url_data.errmsg&&a.play_url_data.retcode!=5?t("span",{staticClass:"isvip"},[r._v(r._s(a.play_url_data&&a.play_url_data.errmsg&&a.play_url_data.retcode!=3?a.play_url_data.errmsg:a.isvip==1?"vip":""))]):r._e(),a.definition>0&&!r.showKey?t("span",{staticClass:"definition"},[r._v(r._s(a.definition))]):r._e(),!r.isMin&&!r.showKey?t("span",{staticClass:"updatetime"},[r._v(r._s(a.updatetime))]):r._e(),r.showKey?r._e():t("span",{staticClass:"upnum"},[r._v(r._s(a.upnum))]),r.showKey?r._e():t("span",{staticClass:"scorenum"},[r._v(r._s(a.scorenum))]),r.showKey?r._e():t("span",{staticClass:"duration"},[r._v(r._s(a.duration))]),r.showKey&&a.retcode_v==3?t("span",{staticClass:"duration"},[r._v(r._s("\u9884\u89C8"))]):r._e(),r.showKey?t("span",{staticClass:"duration"},[r._v(r._s(a[r.showKey]))]):r._e()])])}),0)])},Co=[];const To={props:{dataList:{default:()=>[]},info:{default:()=>({})},title:{default:""},isMin:{default:!1},showKey:{default:""}},data(){return{vodid:"",videoUrl:"",loading:"",isLoading:!1}},computed:{list(){return this.dataList.filter(r=>this.$store.state.banana.isVipShow||(r.play_url_data?[".m3u8",".mp4"].some(e=>JSON.stringify(r.play_url_data).includes(e)):r.isvip!=1))}},watch:{dataList(r){this.updateItem()}},methods:{updateItem(){this.dataList.forEach(r=>{r.url=this.gerBVInfo()[r.vodid]||r.url||"",r.intro=r.url})},headerClick(){this.info.spid?this.$router.push({path:"./detail?spid="+this.info.spid}):this.$router.push({path:"./class"})},showVideoState(r){let e=r.intro||r.url;return e?e===5?"vip":e.startsWith&&e.startsWith("http")?"ok":"..":".."},loadImage(r,e){let t=e.target||e.path[0];t.src&&t.src.startsWith("http")&&this.itemClick(r,!0)},setBVInfo(r,e){let t=e.data.data.httpurl||e.data.data.httpurl_preview||e.data.retcode,a={};try{a=JSON.parse(localStorage.BVInfo)}catch{}a[r.vodid]=t,r.url=t,r.intro=t,localStorage.BVInfo=JSON.stringify(a),this.updateItem()},gerBVInfo(){try{return JSON.parse(localStorage.BVInfo)}catch{return{}}},itemClick(r,e){let t=r.url;if(t&&String(t).startsWith("http")){e||(this.videoUrl=t,this.vodid=r.vodid,this.hideOtherVideo(),document&&(document.title=r.title));return}else if(t){e||this.$toast(r.play_url_data?r.play_url_data.errmsg:t);return}e||(this.loading&&this.loading.hide(),this.loading=weui.loading()),r.vodid!=this.vodid&&(this.isLoading=!0,this.$axios({url:br.origin+r.play_url,params:br.query()}).then(a=>{this.isLoading=!1,this.setBVInfo(r,a),e||(this.loading&&this.loading.hide(),console.log("success",a),a.data.data.httpurl?(this.videoUrl=a.data.data.httpurl,this.vodid=r.vodid,this.hideOtherVideo()):a.data.data.httpurl_preview?(this.videoUrl=a.data.data.httpurl_preview,this.vodid=r.vodid,this.hideOtherVideo()):this.$toast(a.data.errmsg||"fail"),document&&(document.title=r.title))}).catch(a=>{e||(this.loading&&this.loading.hide(),this.$toast(a.message||"fail"))}))},hideOtherVideo(){setTimeout(()=>{this.$refs["video"+this.vodid][0].play();let r=new Array(...document.querySelectorAll(".bananaListVideo")).filter(e=>e.src!=this.videoUrl).forEach(e=>{e.pause(),e.parentElement.parentElement.parentElement.__vue__.vodid="",e.parentElement.parentElement.parentElement.__vue__.videoUrl=""});console.log(r)})}},destroyed(){this.loading&&this.loading.hide()}},Jr={};var Fo=Te(To,jo,Co,!1,No,"739c6446",null,null);function No(r){for(let e in Jr)this[e]=Jr[e]}var Bo=function(){return Fo.exports}();export{Bo as default};
