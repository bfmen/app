import{_ as r,n as h}from"./index.1a8516fd.js";const u={"./axios.js":()=>r(()=>import("./axios.c2105b74.js"),["assets/axios.c2105b74.js","assets/index.1a8516fd.js","assets/index.70ce4827.css","assets/config.e8ae8f25.js"]),"./config.js":()=>r(()=>import("./config.e8ae8f25.js"),[]),"./utils.js":()=>r(()=>import("./utils.a0691607.js"),["assets/utils.a0691607.js","assets/index.99da5c49.js"])},l={};for(const e in u){const t=u[e];let a=e.replace("./","").replace(".js","");l[a]=(await t()).default}var _=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(s){e.refreshing=s},expression:"refreshing"}},[a("van-search",{attrs:{placeholder:e.placeholder+""},on:{search:function(s){return e.loadData(0)}},model:{value:e.inputText,callback:function(s){e.inputText=s},expression:"inputText"}}),a("van-list",{attrs:{finished:e.finished,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86"},on:{load:function(s){return e.loadData(++e.page)}},model:{value:e.loading,callback:function(s){e.loading=s},expression:"loading"}},[a("ccItem",{attrs:{title:e.title,dataSource:e.list,showKeys:e.showKeys},on:{open:e.open}})],1)],1)],1)},m=[];const v={components:{ccItem:()=>r(()=>import("./ccItem.7f1470c4.js"),["assets/ccItem.7f1470c4.js","assets/ccItem.b4ec01d8.css","assets/ccImg.19e3869d.js","assets/index.1a8516fd.js","assets/index.70ce4827.css"])},data(){return{page:-1,refreshing:!1,loading:!1,finished:!1,inputText:"",list:[],placeholder:"placeholder",title:""}},computed:{showKeys(){return[{key:"views",type:"primary"},{key:"name",type:"success"},{key:"duration",type:"danger"},{key:"hd",type:"warning"}]}},async created(){},methods:{onRefresh(){this.loadData()},async loadData(e=0){e<0&&(e=0);let t=e===0?l.config.url:`${l.config.url}/new/${e}`;this.inputText&&(t=e===0?`${l.config.url}?k=${this.inputText}`:`${l.config.url}?k=${this.inputText}&p=${this.page}`);let a=await l.axios({params:{uuu:t}}),s=l.utils.format.list(a.data);this.list=e===0?s.list:[...this.list,...s.list],this.title=s.title,this.page=e,this.loading=!1,this.refreshing=!1},async open(e,t){if(e&&t.href&&!t.detail_src){let a=await l.axios({params:{uuu:t.href}}),s=l.utils.format.detail(a.data);this.$set(t,"detail_src",s.src);let p=await l.axios({params:{uuu:s.src}}),o=s.src.split("/");o.pop();let f=o.join("/"),d=p.data.split(`
`).map(i=>[".ts",".m3u8"].some(n=>i.includes(n))?i.startsWith("http")?i:`${f}/${i}`:i).filter(i=>i.includes(".m3u8")).map(i=>({url:i,title:i.split("/videos/")[1].split("/hls-")[1].split("-")[0]})).sort((i,n)=>parseInt(n.title)-parseInt(i.title));this.$set(t,"playList",d)}}}},c={};var y=h(v,_,m,!1,x,null,null,null);function x(e){for(let t in c)this[t]=c[t]}var $=function(){return y.exports}();export{$ as default};
