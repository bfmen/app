import{c}from"./ccImg.b7b99746.js";import{n as i}from"./index.715611c6.js";var s=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"ccItem"},[e.$util.isArray(e.dataSource)?t("div",[t("van-collapse",{model:{value:e.activeNames,callback:function(a){e.activeNames=a},expression:"activeNames"}},[t("van-collapse-item",{attrs:{name:"1"},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",[e._v(e._s(e.itemKey||"ROOT"))])]},proxy:!0},{key:"value",fn:function(){return[t("div",[e._v("["+e._s(e.dataSource.length)+"]")])]},proxy:!0},{key:"default",fn:function(){return e._l(e.dataSource,function(a,r){return t("div",{key:r},[t("cc-item",{key:a.id||a.title||JSON.stringify(a),attrs:{dataSource:a,itemKey:r,showKeys:e.showKeys},on:{open:e.open}})],1)})},proxy:!0}],null,!1,651922871)})],1)],1):e.dataSource&&e.$util.isObject(e.dataSource)?t("div",[t("van-collapse",{model:{value:e.activeNames,callback:function(a){e.activeNames=a},expression:"activeNames"}},[t("van-collapse-item",{attrs:{name:"1"},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",[e._v(e._s(e.getObjectTitle(e.dataSource,e.itemKey)))]),e._l(e.$util.getImgKeys(e.dataSource),function(a,r){return t("div",{key:r},[t("ccImg",{attrs:{width:"100%",src:e.dataSource[a]}})],1)}),e._l(e.showKeys,function(a,r){return t("van-tag",{directives:[{name:"show",rawName:"v-show",value:e.dataSource[a.key]!==void 0,expression:"dataSource[item.key] !== undefined"}],key:r,attrs:{type:a.type}},[e._v(e._s(e.dataSource[a.key]))])})]},proxy:!0},{key:"value",fn:function(){return[t("div",[e._v(e._s("{"+Object.keys(e.dataSource).length+"}"))])]},proxy:!0},e.activeNames.length?{key:"default",fn:function(){return e._l(e.$util.sortMediaKeys(e.dataSource),function(a,r){return t("div",{key:a+r},[t("cc-item",{attrs:{dataSource:e.dataSource[a],itemKey:a,showKeys:e.showKeys},on:{open:e.open}})],1)})},proxy:!0}:null],null,!0)})],1)],1):t("van-cell",{attrs:{title:e.itemKey+"",label:e.dataSource+""},scopedSlots:e._u([e.$util.isVideoUrl(e.dataSource)?{key:"label",fn:function(){return[t("video",{attrs:{width:"100%",controls:"controls",playsinline:"","picture-in-picture-mode":["push","pop"],autoplay:!1,poster:"",src:e.dataSource}})]},proxy:!0}:e.$util.isImgUrl(e.dataSource)?{key:"label",fn:function(){return[t("ccImg",{attrs:{width:"100%",src:e.dataSource}})]},proxy:!0}:{key:"label",fn:function(){return[e._v(" "+e._s(e.dataSource)+" ")]},proxy:!0}],null,!0)})],1)},u=[];const l={components:{ccImg:c},name:"cc-item",props:{dataSource:{},itemKey:{},showKeys:{}},data(){return{activeNames:[]}},watch:{activeNames(){console.log("activeNames",this.activeNames,this.dataSource),this.$emit("open",!!this.activeNames.length,this.dataSource)}},created(){this.itemKey===void 0&&(this.activeNames=["1"])},methods:{getObjectTitle(e,n){let t=e.title||e.id||n;return t===void 0&&(t="ROOT"),t},open(){this.$emit("open",...arguments)}}},o={};var d=i(l,s,u,!1,v,"6473c5f8",null,null);function v(e){for(let n in o)this[n]=o[n]}var p=function(){return d.exports}();export{p as default};
