import{n as r,_ as c,a as u}from"./index.c2d08bd9.js";import{m as o}from"./index.0c6a4bd6.js";var d=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"listAll"},[t("van-dropdown-menu",[t("van-dropdown-item",{attrs:{options:e.option1},on:{change:e.search},model:{value:e.value1,callback:function(i){e.value1=i},expression:"value1"}}),t("van-dropdown-item",{attrs:{options:e.option2},on:{change:e.search},model:{value:e.value0,callback:function(i){e.value0=i},expression:"value0"}}),t("van-dropdown-item",{attrs:{options:e.option3},on:{change:e.search},model:{value:e.value2,callback:function(i){e.value2=i},expression:"value2"}})],1),t("van-search",{attrs:{placeholder:e.placeholder+""},on:{search:e.search},model:{value:e.inputText,callback:function(i){e.inputText=i},expression:"inputText"}}),t("van-list",{attrs:{finished:e.finished,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86"},on:{load:function(i){return e.loadData(e.page+1)}},model:{value:e.loading,callback:function(i){e.loading=i},expression:"loading"}},[t("ccItem",{attrs:{dataSource:e.list,showKeys:e.showKeys},on:{open:e.open}})],1)],1)},h=[];const p={components:{ccItem:()=>c(()=>import("./ccItem.8c519bd5.js"),["assets/ccItem.8c519bd5.js","assets/ccItem.b4ec01d8.css","assets/ccImg.314533bd.js","assets/index.c2d08bd9.js","assets/index.70ce4827.css"])},data(){return{inputText:"",page:0,limit:20,list:[],value1:"Favorites",value0:1,value2:2,option2:[{text:"\u5012\u5E8F",value:1},{text:"\u6B63\u5E8F",value:0}],option3:[{text:"\u5168\u90E8",value:0},{text:"\u5B58\u5728img",value:1},{text:"\u5B58\u5728video",value:2},{text:"\u5B58\u5728video2",value:3}],refreshing:!1,loading:!1,finished:!1,current:{},placeholder:0,dataSource:[]}},computed:{option1(){return this.$util.isArray(this.list)?Object.keys(this.list.reduce((e,a)=>({...e,...a}),{})).map(e=>({text:e,value:e})):[]},showKeys(){let e=[{key:"Views",type:"primary"},{key:"From",type:"success"},{key:"Added",type:"danger"},{key:"duration",type:"warning"}];return this.value1&&e.push({key:this.value1,type:"primary"}),e}},watch:{list(){this.dataSource=[{title:this.list.length+"",list:this.list,activeNames:[]}]}},methods:{async loadData(e=1){let{data:a}=await u({url:"https://nine-sit.netlify.app/api/json/dataSourceNine.txt",params:{_page:e,_limit:this.limit,[this.value1+"_like"]:this.inputText,[this.value1+"_order"]:this.value0}});a.forEach(t=>{t.detail&&(t.detail_src=t.detail.src),Object.keys(t).forEach(i=>{let s=t[i];typeof s=="object"&&!Array.isArray(s)&&(Object.keys(s).forEach(l=>{t[`${i}_${l}`]=s[l]}),t.testViewUrl="http://wxsnsdy.tc.qq.com/105/20210/snsdyvideodownload?filekey=30280201010421301f0201690402534804102ca905ce620b1241b726bc41dcff44e00204012882540400&bizid=1023&hy=SH&fileparam=302c020101042530230204136ffd93020457e3c4ff02024ef202031e8d7f02030f42400204045a320a0201000400&fileType=.mp4")})}),e===1?(this.finished=!1,this.list=a):this.list=[...this.list,...a],this.page=e,this.loading=!1,a.length==0&&(this.finished=!0)},search(){this.loadData(1)},async open(e,a){if(e&&a.href&&!a.detail_src){let t=weui.loading(),i=await o.axios({params:{uuu:a.href}});t.hide();let s=o.utils.format.all(i.data);this.$set(a,"detail_src",s.detail.src)}}}},n={};var f=r(p,d,h,!1,v,null,null,null);function v(e){for(let a in n)this[a]=n[a]}var y=function(){return f.exports}();export{y as default};
