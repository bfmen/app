import{c as mt}from"./config.b0b2fcdf.js";import{g as _n,c as Cn,n as En}from"./index.b0977741.js";let ir,kt;try{ir=require("../../package.json"),kt=`v${ir.version}`}catch{kt="v1.0.0"}const An="https://api.bmobcloud.com",On="",$n="",Dn="",Rn=3,qn={GENERATECODE:"/1/wechatApp/qr/generatecode",GETACCESSTOKEN:"/1/wechatApp/getAccessToken",SENDWEAPPMESSAGE:"/1/wechatApp/SendWeAppMessage",NOTIFYMSG:"/1/wechatApp/notifyMsg",REFUND:"/1/pay/refund",REQUESTSMSCODE:"/1/requestSmsCode",VERIFYSMSCODE:"/1/verifySmsCode",FUNCTIONS:"/1/functions",REQUESTPASSWORDRESET:"/1/requestPasswordReset",RESETPASSWORDBYSMSCODE:"/1/resetPasswordBySmsCode",UPDATEUSERPASSWORD:"/1/updateUserPassword",PUSH:"/1/push",FILES:"/2/files",FILESCHECK:"/1/wechatApp/checkImg",DELFILES:"/2/cdnBatchDelete",TIMESTAMP:"/1/timestamp",LOGIN:"/1/login",REGISTER:"/1/users",REQUEST_EMAIL_VERIFY:"/1/requestEmailVerify",USERS:"/1/users",USERSV1:"/1/usersv1",PAY:"/1/pay",WECHAT_APP:"/1/wechatAppv1/",BATCH:"/1/batch",CHECK_MSG:"/1/wechatApp/checkMsg",DECRYPTION:"/1/wechatApp/decryptionv1",MEDIACHECKASYNC:"/1/wechatApp/asyncCheckWechatMedia",QUERY:"/1/classes"};var Tn={host:An,secretKey:On,securityCode:$n,applicationMasterKey:Dn,parameters:qn,version:kt,serverVersion:10,deBug:!1,type:Rn};const jn="https://api.bmobcloud.com",Pn="",Bn="",Nn=1,Un=1,In={GENERATECODE:"/1/wechatApp/qr/generatecode",GETACCESSTOKEN:"/1/wechatApp/getAccessToken",SENDWEAPPMESSAGE:"/1/wechatApp/SendWeAppMessage",NOTIFYMSG:"/1/wechatApp/notifyMsg",REFUND:"/1/pay/refund",REQUESTSMSCODE:"/1/requestSmsCode",VERIFYSMSCODE:"/1/verifySmsCode",FUNCTIONS:"/1/functions",REQUESTPASSWORDRESET:"/1/requestPasswordReset",RESETPASSWORDBYSMSCODE:"/1/resetPasswordBySmsCode",UPDATEUSERPASSWORD:"/1/updateUserPassword",PUSH:"/1/push",FILES:"/2/files",FILESCHECK:"/1/wechatApp/checkImg",DELFILES:"/2/cdnBatchDelete",TIMESTAMP:"/1/timestamp",LOGIN:"/1/login",REGISTER:"/1/users",REQUEST_EMAIL_VERIFY:"/1/requestEmailVerify",USERS:"/1/users",USERSV1:"/1/usersv1",PAY:"/1/pay",WECHAT_APP:"/1/wechatAppv1/",BATCH:"/1/batch",CHECK_MSG:"/1/wechatApp/checkMsg",DECRYPTION:"/1/wechatApp/decryptionv1",MEDIACHECKASYNC:"/1/wechatApp/asyncCheckWechatMedia",QUERY:"/1/classes"};var Fn={host:jn,applicationId:Pn,applicationKey:Bn,parameters:In,version:Nn,serverVersion:10,deBug:!1,type:Un};let Mt;Mt=Tn;const Kr=(r=!1)=>(r===!0&&(Mt.host=Fn.host),Mt),kn=()=>{const r=Kr();let t;return typeof wx!="undefined"&&(t="wx"),typeof window!="undefined"&&typeof t!="string"&&(t="h5"),typeof process!="undefined"&&typeof t!="string"&&(t="nodejs"),r.type===3&&typeof t!="string"&&(t="hap"),t},Mn=()=>{let r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t="";for(let n=0;n<16;n++){let s=parseInt(Math.random()*61);t+=r[s]}return t};var yt={randomString:Mn,getConfig:Kr,getAppType:kn};const er=yt,pe=window.Bmob||{};pe.utils=er;pe._config=er.getConfig();pe.initialize=(r,t,n)=>{t.length>6&&console.warn("Bmob\u521D\u59CB\u5316\u5931\u8D25\uFF0C2.0\u4EE5\u4E0A\u7248\u672CSDK\u8BF7\u4F7F\u7528API\u5B89\u5168\u7801\u521D\u59CB\u5316\uFF0C\u6587\u6863\u5730\u5740\uFF1Ahttps://bmob.github.io/hydrogen-js-sdk/#/?id=\u521D\u59CB\u5316"),pe._config.secretKey=r,pe._config.securityCode=t,pe._config.applicationMasterKey=n};pe.domain=r=>{pe._config.host=r};pe.debug=r=>{pe._config.deBug=r,pe._config=er.getConfig(r)};var Z=pe;const xn=r=>Object.prototype.toString.call(r)==="[object Object]",Ln=r=>Object.prototype.toString.call(r)==="[object Number]",Kn=r=>Object.prototype.toString.call(r)==="[object String]",Hn=r=>Object.prototype.toString.call(r)==="[object Undefined]",zn=r=>Object.prototype.toString.call(r)==="[object Boolean]",Vn=r=>Object.prototype.toString.call(r)==="[object Array]",Xn=r=>Object.prototype.toString.call(r)==="[object Function]";var Se={isObject:xn,isNumber:Ln,isString:Kn,isUndefined:Hn,isBoolean:zn,isArray:Vn,isFunction:Xn};class Gn{constructor(t,n){let s=new Error;return s.code=t,s.message=n?`Bmob.Error:{code:${t}, message:${n}}`:`Bmob.Error:{code:${t}, message:${this.errorMsg(t)}}`,s}errorMsg(t){switch(t){case 415:return"incorrect parameter type.";case 416:return"Parameter is null.";case 417:return"There is no upload content.";case 418:return"Log in failure.";case 419:return"Bmob.GeoPoint location error.";default:return"unknown error"}}}var Ce=Gn;const{isString:ar}=Se,ur=Ce,Wn=class{constructor(t){if(!ar(t))throw new ur(415);this.tableName=t}set(t){if(!ar(t))throw new ur(415);return{__type:"Pointer",className:this.tableName,objectId:t}}};var Jn=Wn;const{isString:xt,isArray:Yn}=Se,Lt=Ce,Qn=class{constructor(t){if(!xt(t))throw new Lt(415);this.tableName=t}add(t){return cr.call(this,t,"AddRelation")}remove(t){return cr.call(this,t,"RemoveRelation")}};function cr(r,t){if(xt(r))return{__op:t,objects:[{__type:"Pointer",className:this.tableName,objectId:r}]};if(Yn(r)){const n=[];return r.map(s=>{if(!xt(s))throw new Lt(415);n.push({__type:"Pointer",className:this.tableName,objectId:s})}),{__op:t,objects:n}}else throw new Lt(415)}var Zn=Qn,tr={exports:{}},Hr=function(t,n){return function(){for(var o=new Array(arguments.length),i=0;i<o.length;i++)o[i]=arguments[i];return t.apply(n,o)}};/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var es=function(r){return r!=null&&(zr(r)||ts(r)||!!r._isBuffer)};function zr(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function ts(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&zr(r.slice(0,0))}var rs=Hr,ns=es,Ve=Object.prototype.toString;function Vr(r){return Ve.call(r)==="[object Array]"}function ss(r){return Ve.call(r)==="[object ArrayBuffer]"}function os(r){return typeof FormData!="undefined"&&r instanceof FormData}function is(r){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(r):t=r&&r.buffer&&r.buffer instanceof ArrayBuffer,t}function as(r){return typeof r=="string"}function us(r){return typeof r=="number"}function cs(r){return typeof r=="undefined"}function Xr(r){return r!==null&&typeof r=="object"}function fs(r){return Ve.call(r)==="[object Date]"}function ls(r){return Ve.call(r)==="[object File]"}function hs(r){return Ve.call(r)==="[object Blob]"}function Gr(r){return Ve.call(r)==="[object Function]"}function ps(r){return Xr(r)&&Gr(r.pipe)}function ds(r){return typeof URLSearchParams!="undefined"&&r instanceof URLSearchParams}function ms(r){return r.replace(/^\s*/,"").replace(/\s*$/,"")}function gs(){return typeof navigator!="undefined"&&navigator.product==="ReactNative"?!1:typeof window!="undefined"&&typeof document!="undefined"}function rr(r,t){if(!(r===null||typeof r=="undefined"))if(typeof r!="object"&&(r=[r]),Vr(r))for(var n=0,s=r.length;n<s;n++)t.call(null,r[n],n,r);else for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.call(null,r[o],o,r)}function Wr(){var r={};function t(o,i){typeof r[i]=="object"&&typeof o=="object"?r[i]=Wr(r[i],o):r[i]=o}for(var n=0,s=arguments.length;n<s;n++)rr(arguments[n],t);return r}function ys(r,t,n){return rr(t,function(o,i){n&&typeof o=="function"?r[i]=rs(o,n):r[i]=o}),r}var ie={isArray:Vr,isArrayBuffer:ss,isBuffer:ns,isFormData:os,isArrayBufferView:is,isString:as,isNumber:us,isObject:Xr,isUndefined:cs,isDate:fs,isFile:ls,isBlob:hs,isFunction:Gr,isStream:ps,isURLSearchParams:ds,isStandardBrowserEnv:gs,forEach:rr,merge:Wr,extend:ys,trim:ms},ws=ie,vs=function(t,n){ws.forEach(t,function(o,i){i!==n&&i.toUpperCase()===n.toUpperCase()&&(t[n]=o,delete t[i])})},Jr=function(t,n,s,o,i){return t.config=n,s&&(t.code=s),t.request=o,t.response=i,t},bs=Jr,nr=function(t,n,s,o,i){var u=new Error(t);return bs(u,n,s,o,i)},Ss=nr,Yr=function(t,n,s){var o=s.config.validateStatus;!s.status||!o||o(s.status)?t(s):n(Ss("Request failed with status code "+s.status,s.config,null,s.request,s))},Ie=ie;function fr(r){return encodeURIComponent(r).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Qr=function(t,n,s){if(!n)return t;var o;if(s)o=s(n);else if(Ie.isURLSearchParams(n))o=n.toString();else{var i=[];Ie.forEach(n,function(a,c){a===null||typeof a=="undefined"||(Ie.isArray(a)?c=c+"[]":a=[a],Ie.forEach(a,function(h){Ie.isDate(h)?h=h.toISOString():Ie.isObject(h)&&(h=JSON.stringify(h)),i.push(fr(c)+"="+fr(h))}))}),o=i.join("&")}return o&&(t+=(t.indexOf("?")===-1?"?":"&")+o),t},$t=ie,_s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Cs=function(t){var n={},s,o,i;return t&&$t.forEach(t.split(`
`),function(a){if(i=a.indexOf(":"),s=$t.trim(a.substr(0,i)).toLowerCase(),o=$t.trim(a.substr(i+1)),s){if(n[s]&&_s.indexOf(s)>=0)return;s==="set-cookie"?n[s]=(n[s]?n[s]:[]).concat([o]):n[s]=n[s]?n[s]+", "+o:o}}),n},lr=ie,Es=lr.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),s;function o(i){var u=i;return t&&(n.setAttribute("href",u),u=n.href),n.setAttribute("href",u),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=o(window.location.href),function(u){var a=lr.isString(u)?o(u):u;return a.protocol===s.protocol&&a.host===s.host}}():function(){return function(){return!0}}(),As="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function wt(){this.message="String contains an invalid character"}wt.prototype=new Error;wt.prototype.code=5;wt.prototype.name="InvalidCharacterError";function Os(r){for(var t=String(r),n="",s,o,i=0,u=As;t.charAt(i|0)||(u="=",i%1);n+=u.charAt(63&s>>8-i%1*8)){if(o=t.charCodeAt(i+=3/4),o>255)throw new wt;s=s<<8|o}return n}var $s=Os,ot=ie,Ds=ot.isStandardBrowserEnv()?function(){return{write:function(n,s,o,i,u,a){var c=[];c.push(n+"="+encodeURIComponent(s)),ot.isNumber(o)&&c.push("expires="+new Date(o).toGMTString()),ot.isString(i)&&c.push("path="+i),ot.isString(u)&&c.push("domain="+u),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){var s=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Dt=ie,Rs=Yr,qs=Qr,Ts=Cs,hr=Es,pr=nr,js=typeof window!="undefined"&&window.btoa&&window.btoa.bind(window)||$s,Ps=function(t){return new Promise(function(s,o){var i=t.data,u=t.headers;Dt.isFormData(i)&&delete u["Content-Type"];var a=new XMLHttpRequest,c="onreadystatechange",f=!1;if(typeof window!="undefined"&&window.XDomainRequest&&!("withCredentials"in a)&&!hr(t.url)&&(a=new window.XDomainRequest,c="onload",f=!0,a.onprogress=function(){},a.ontimeout=function(){}),t.auth){var h=t.auth.username||"",m=t.auth.password||"";u.Authorization="Basic "+js(h+":"+m)}if(a.open(t.method.toUpperCase(),qs(t.url,t.params,t.paramsSerializer),!0),a.timeout=t.timeout,a[c]=function(){if(!(!a||a.readyState!==4&&!f)&&!(a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0))){var C="getAllResponseHeaders"in a?Ts(a.getAllResponseHeaders()):null,b=!t.responseType||t.responseType==="text"?a.responseText:a.response,N={data:b,status:a.status===1223?204:a.status,statusText:a.status===1223?"No Content":a.statusText,headers:C,config:t,request:a};Rs(s,o,N),a=null}},a.onerror=function(){o(pr("Network Error",t,null,a)),a=null},a.ontimeout=function(){o(pr("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",a)),a=null},Dt.isStandardBrowserEnv()){var S=Ds,w=(t.withCredentials||hr(t.url))&&t.xsrfCookieName?S.read(t.xsrfCookieName):void 0;w&&(u[t.xsrfHeaderName]=w)}if("setRequestHeader"in a&&Dt.forEach(u,function(C,b){typeof i=="undefined"&&b.toLowerCase()==="content-type"?delete u[b]:a.setRequestHeader(b,C)}),t.withCredentials&&(a.withCredentials=!0),t.responseType)try{a.responseType=t.responseType}catch(g){if(t.responseType!=="json")throw g}typeof t.onDownloadProgress=="function"&&a.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&a.upload&&a.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(C){!a||(a.abort(),o(C),a=null)}),i===void 0&&(i=null),a.send(i)})},Bs={},Ns=Object.freeze(Object.defineProperty({__proto__:null,default:Bs},Symbol.toStringTag,{value:"Module"})),Xe=_n(Ns),vt={exports:{}},Ne={},Kt={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(r,t){(function(n){var s=t&&!t.nodeType&&t,o=r&&!r.nodeType&&r,i=typeof window=="object"&&window;(i.global===i||i.window===i||i.self===i)&&(n=i);var u,a=2147483647,c=36,f=1,h=26,m=38,S=700,w=72,g=128,C="-",b=/^xn--/,N=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,$={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=c-f,D=Math.floor,P=String.fromCharCode,L;function x(d){throw RangeError($[d])}function k(d,_){for(var E=d.length,A=[];E--;)A[E]=_(d[E]);return A}function B(d,_){var E=d.split("@"),A="";E.length>1&&(A=E[0]+"@",d=E[1]),d=d.replace(y,".");var O=d.split("."),q=k(O,_).join(".");return A+q}function ce(d){for(var _=[],E=0,A=d.length,O,q;E<A;)O=d.charCodeAt(E++),O>=55296&&O<=56319&&E<A?(q=d.charCodeAt(E++),(q&64512)==56320?_.push(((O&1023)<<10)+(q&1023)+65536):(_.push(O),E--)):_.push(O);return _}function K(d){return k(d,function(_){var E="";return _>65535&&(_-=65536,E+=P(_>>>10&1023|55296),_=56320|_&1023),E+=P(_),E}).join("")}function H(d){return d-48<10?d-22:d-65<26?d-65:d-97<26?d-97:c}function fe(d,_){return d+22+75*(d<26)-((_!=0)<<5)}function se(d,_,E){var A=0;for(d=E?D(d/S):d>>1,d+=D(d/_);d>I*h>>1;A+=c)d=D(d/I);return D(A+(I+1)*d/(d+m))}function ee(d){var _=[],E=d.length,A,O=0,q=g,U=w,z,oe,te,ge,V,le,ye,Ae,je;for(z=d.lastIndexOf(C),z<0&&(z=0),oe=0;oe<z;++oe)d.charCodeAt(oe)>=128&&x("not-basic"),_.push(d.charCodeAt(oe));for(te=z>0?z+1:0;te<E;){for(ge=O,V=1,le=c;te>=E&&x("invalid-input"),ye=H(d.charCodeAt(te++)),(ye>=c||ye>D((a-O)/V))&&x("overflow"),O+=ye*V,Ae=le<=U?f:le>=U+h?h:le-U,!(ye<Ae);le+=c)je=c-Ae,V>D(a/je)&&x("overflow"),V*=je;A=_.length+1,U=se(O-ge,A,ge==0),D(O/A)>a-q&&x("overflow"),q+=D(O/A),O%=A,_.splice(O++,0,q)}return K(_)}function l(d){var _,E,A,O,q,U,z,oe,te,ge,V,le=[],ye,Ae,je,Ot;for(d=ce(d),ye=d.length,_=g,E=0,q=w,U=0;U<ye;++U)V=d[U],V<128&&le.push(P(V));for(A=O=le.length,O&&le.push(C);A<ye;){for(z=a,U=0;U<ye;++U)V=d[U],V>=_&&V<z&&(z=V);for(Ae=A+1,z-_>D((a-E)/Ae)&&x("overflow"),E+=(z-_)*Ae,_=z,U=0;U<ye;++U)if(V=d[U],V<_&&++E>a&&x("overflow"),V==_){for(oe=E,te=c;ge=te<=q?f:te>=q+h?h:te-q,!(oe<ge);te+=c)Ot=oe-ge,je=c-ge,le.push(P(fe(ge+Ot%je,0))),oe=D(Ot/je);le.push(P(fe(oe,0))),q=se(E,Ae,A==O),E=0,++A}++E,++_}return le.join("")}function p(d){return B(d,function(_){return b.test(_)?ee(_.slice(4).toLowerCase()):_})}function v(d){return B(d,function(_){return N.test(_)?"xn--"+l(_):_})}if(u={version:"1.3.2",ucs2:{decode:ce,encode:K},decode:ee,encode:l,toASCII:v,toUnicode:p},s&&o)if(r.exports==s)o.exports=u;else for(L in u)u.hasOwnProperty(L)&&(s[L]=u[L]);else n.punycode=u})(Cn)})(Kt,Kt.exports);var Us={isString:function(r){return typeof r=="string"},isObject:function(r){return typeof r=="object"&&r!==null},isNull:function(r){return r===null},isNullOrUndefined:function(r){return r==null}},rt={};function Is(r,t){return Object.prototype.hasOwnProperty.call(r,t)}var Fs=function(r,t,n,s){t=t||"&",n=n||"=";var o={};if(typeof r!="string"||r.length===0)return o;var i=/\+/g;r=r.split(t);var u=1e3;s&&typeof s.maxKeys=="number"&&(u=s.maxKeys);var a=r.length;u>0&&a>u&&(a=u);for(var c=0;c<a;++c){var f=r[c].replace(i,"%20"),h=f.indexOf(n),m,S,w,g;h>=0?(m=f.substr(0,h),S=f.substr(h+1)):(m=f,S=""),w=decodeURIComponent(m),g=decodeURIComponent(S),Is(o,w)?Array.isArray(o[w])?o[w].push(g):o[w]=[o[w],g]:o[w]=g}return o},Ge=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}},ks=function(r,t,n,s){return t=t||"&",n=n||"=",r===null&&(r=void 0),typeof r=="object"?Object.keys(r).map(function(o){var i=encodeURIComponent(Ge(o))+n;return Array.isArray(r[o])?r[o].map(function(u){return i+encodeURIComponent(Ge(u))}).join(t):i+encodeURIComponent(Ge(r[o]))}).join(t):s?encodeURIComponent(Ge(s))+n+encodeURIComponent(Ge(r)):""};rt.decode=rt.parse=Fs;rt.encode=rt.stringify=ks;var Ms=Kt.exports,be=Us;Ne.parse=st;Ne.resolve=Js;Ne.resolveObject=Ys;Ne.format=Ws;Ne.Url=de;function de(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var xs=/^([a-z0-9.+-]+:)/i,Ls=/:[0-9]*$/,Ks=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Hs=["<",">",'"',"`"," ","\r",`
`,"	"],zs=["{","}","|","\\","^","`"].concat(Hs),Ht=["'"].concat(zs),dr=["%","/","?",";","#"].concat(Ht),mr=["/","?","#"],Vs=255,gr=/^[+a-z0-9A-Z_-]{0,63}$/,Xs=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Gs={javascript:!0,"javascript:":!0},zt={javascript:!0,"javascript:":!0},Me={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Vt=rt;function st(r,t,n){if(r&&be.isObject(r)&&r instanceof de)return r;var s=new de;return s.parse(r,t,n),s}de.prototype.parse=function(r,t,n){if(!be.isString(r))throw new TypeError("Parameter 'url' must be a string, not "+typeof r);var s=r.indexOf("?"),o=s!==-1&&s<r.indexOf("#")?"?":"#",i=r.split(o),u=/\\/g;i[0]=i[0].replace(u,"/"),r=i.join(o);var a=r;if(a=a.trim(),!n&&r.split("#").length===1){var c=Ks.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],t?this.query=Vt.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var f=xs.exec(a);if(f){f=f[0];var h=f.toLowerCase();this.protocol=h,a=a.substr(f.length)}if(n||f||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var m=a.substr(0,2)==="//";m&&!(f&&zt[f])&&(a=a.substr(2),this.slashes=!0)}if(!zt[f]&&(m||f&&!Me[f])){for(var S=-1,w=0;w<mr.length;w++){var g=a.indexOf(mr[w]);g!==-1&&(S===-1||g<S)&&(S=g)}var C,b;S===-1?b=a.lastIndexOf("@"):b=a.lastIndexOf("@",S),b!==-1&&(C=a.slice(0,b),a=a.slice(b+1),this.auth=decodeURIComponent(C)),S=-1;for(var w=0;w<dr.length;w++){var g=a.indexOf(dr[w]);g!==-1&&(S===-1||g<S)&&(S=g)}S===-1&&(S=a.length),this.host=a.slice(0,S),a=a.slice(S),this.parseHost(),this.hostname=this.hostname||"";var N=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!N)for(var y=this.hostname.split(/\./),w=0,$=y.length;w<$;w++){var I=y[w];if(!!I&&!I.match(gr)){for(var D="",P=0,L=I.length;P<L;P++)I.charCodeAt(P)>127?D+="x":D+=I[P];if(!D.match(gr)){var x=y.slice(0,w),k=y.slice(w+1),B=I.match(Xs);B&&(x.push(B[1]),k.unshift(B[2])),k.length&&(a="/"+k.join(".")+a),this.hostname=x.join(".");break}}}this.hostname.length>Vs?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=Ms.toASCII(this.hostname));var ce=this.port?":"+this.port:"",K=this.hostname||"";this.host=K+ce,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!Gs[h])for(var w=0,$=Ht.length;w<$;w++){var H=Ht[w];if(a.indexOf(H)!==-1){var fe=encodeURIComponent(H);fe===H&&(fe=escape(H)),a=a.split(H).join(fe)}}var se=a.indexOf("#");se!==-1&&(this.hash=a.substr(se),a=a.slice(0,se));var ee=a.indexOf("?");if(ee!==-1?(this.search=a.substr(ee),this.query=a.substr(ee+1),t&&(this.query=Vt.parse(this.query)),a=a.slice(0,ee)):t&&(this.search="",this.query={}),a&&(this.pathname=a),Me[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ce=this.pathname||"",l=this.search||"";this.path=ce+l}return this.href=this.format(),this};function Ws(r){return be.isString(r)&&(r=st(r)),r instanceof de?r.format():de.prototype.format.call(r)}de.prototype.format=function(){var r=this.auth||"";r&&(r=encodeURIComponent(r),r=r.replace(/%3A/i,":"),r+="@");var t=this.protocol||"",n=this.pathname||"",s=this.hash||"",o=!1,i="";this.host?o=r+this.host:this.hostname&&(o=r+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&be.isObject(this.query)&&Object.keys(this.query).length&&(i=Vt.stringify(this.query));var u=this.search||i&&"?"+i||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Me[t])&&o!==!1?(o="//"+(o||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):o||(o=""),s&&s.charAt(0)!=="#"&&(s="#"+s),u&&u.charAt(0)!=="?"&&(u="?"+u),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),u=u.replace("#","%23"),t+o+n+u+s};function Js(r,t){return st(r,!1,!0).resolve(t)}de.prototype.resolve=function(r){return this.resolveObject(st(r,!1,!0)).format()};function Ys(r,t){return r?st(r,!1,!0).resolveObject(t):t}de.prototype.resolveObject=function(r){if(be.isString(r)){var t=new de;t.parse(r,!1,!0),r=t}for(var n=new de,s=Object.keys(this),o=0;o<s.length;o++){var i=s[o];n[i]=this[i]}if(n.hash=r.hash,r.href==="")return n.href=n.format(),n;if(r.slashes&&!r.protocol){for(var u=Object.keys(r),a=0;a<u.length;a++){var c=u[a];c!=="protocol"&&(n[c]=r[c])}return Me[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(r.protocol&&r.protocol!==n.protocol){if(!Me[r.protocol]){for(var f=Object.keys(r),h=0;h<f.length;h++){var m=f[h];n[m]=r[m]}return n.href=n.format(),n}if(n.protocol=r.protocol,!r.host&&!zt[r.protocol]){for(var $=(r.pathname||"").split("/");$.length&&!(r.host=$.shift()););r.host||(r.host=""),r.hostname||(r.hostname=""),$[0]!==""&&$.unshift(""),$.length<2&&$.unshift(""),n.pathname=$.join("/")}else n.pathname=r.pathname;if(n.search=r.search,n.query=r.query,n.host=r.host||"",n.auth=r.auth,n.hostname=r.hostname||r.host,n.port=r.port,n.pathname||n.search){var S=n.pathname||"",w=n.search||"";n.path=S+w}return n.slashes=n.slashes||r.slashes,n.href=n.format(),n}var g=n.pathname&&n.pathname.charAt(0)==="/",C=r.host||r.pathname&&r.pathname.charAt(0)==="/",b=C||g||n.host&&r.pathname,N=b,y=n.pathname&&n.pathname.split("/")||[],$=r.pathname&&r.pathname.split("/")||[],I=n.protocol&&!Me[n.protocol];if(I&&(n.hostname="",n.port=null,n.host&&(y[0]===""?y[0]=n.host:y.unshift(n.host)),n.host="",r.protocol&&(r.hostname=null,r.port=null,r.host&&($[0]===""?$[0]=r.host:$.unshift(r.host)),r.host=null),b=b&&($[0]===""||y[0]==="")),C)n.host=r.host||r.host===""?r.host:n.host,n.hostname=r.hostname||r.hostname===""?r.hostname:n.hostname,n.search=r.search,n.query=r.query,y=$;else if($.length)y||(y=[]),y.pop(),y=y.concat($),n.search=r.search,n.query=r.query;else if(!be.isNullOrUndefined(r.search)){if(I){n.hostname=n.host=y.shift();var D=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;D&&(n.auth=D.shift(),n.host=n.hostname=D.shift())}return n.search=r.search,n.query=r.query,(!be.isNull(n.pathname)||!be.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!y.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var P=y.slice(-1)[0],L=(n.host||r.host||y.length>1)&&(P==="."||P==="..")||P==="",x=0,k=y.length;k>=0;k--)P=y[k],P==="."?y.splice(k,1):P===".."?(y.splice(k,1),x++):x&&(y.splice(k,1),x--);if(!b&&!N)for(;x--;x)y.unshift("..");b&&y[0]!==""&&(!y[0]||y[0].charAt(0)!=="/")&&y.unshift(""),L&&y.join("/").substr(-1)!=="/"&&y.push("");var B=y[0]===""||y[0]&&y[0].charAt(0)==="/";if(I){n.hostname=n.host=B?"":y.length?y.shift():"";var D=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;D&&(n.auth=D.shift(),n.host=n.hostname=D.shift())}return b=b||n.host&&y.length,b&&!B&&y.unshift(""),y.length?n.pathname=y.join("/"):(n.pathname=null,n.path=null),(!be.isNull(n.pathname)||!be.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=r.auth||n.auth,n.slashes=n.slashes||r.slashes,n.href=n.format(),n};de.prototype.parseHost=function(){var r=this.host,t=Ls.exec(r);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),r=r.substr(0,r.length-t.length)),r&&(this.hostname=r)};var Zr={exports:{}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var yr=Object.getOwnPropertySymbols,Qs=Object.prototype.hasOwnProperty,Zs=Object.prototype.propertyIsEnumerable;function eo(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function to(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var s=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(s.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var ro=to()?Object.assign:function(r,t){for(var n,s=eo(r),o,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var u in n)Qs.call(n,u)&&(s[u]=n[u]);if(yr){o=yr(n);for(var a=0;a<o.length;a++)Zs.call(n,o[a])&&(s[o[a]]=n[o[a]])}}return s},en={},no=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},Xt={exports:{}};typeof Object.create=="function"?Xt.exports=function(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:Xt.exports=function(t,n){t.super_=n;var s=function(){};s.prototype=n.prototype,t.prototype=new s,t.prototype.constructor=t};(function(r){var t=/%[sdj%]/g;r.format=function(l){if(!$(l)){for(var p=[],v=0;v<arguments.length;v++)p.push(o(arguments[v]));return p.join(" ")}for(var v=1,d=arguments,_=d.length,E=String(l).replace(t,function(O){if(O==="%%")return"%";if(v>=_)return O;switch(O){case"%s":return String(d[v++]);case"%d":return Number(d[v++]);case"%j":try{return JSON.stringify(d[v++])}catch{return"[Circular]"}default:return O}}),A=d[v];v<_;A=d[++v])b(A)||!L(A)?E+=" "+A:E+=" "+o(A);return E},r.deprecate=function(l,p){if(D(window.process))return function(){return r.deprecate(l,p).apply(this,arguments)};if(process.noDeprecation===!0)return l;var v=!1;function d(){if(!v){if(process.throwDeprecation)throw new Error(p);process.traceDeprecation?console.trace(p):console.error(p),v=!0}return l.apply(this,arguments)}return d};var n={},s;r.debuglog=function(l){if(D(s)&&(s={}.NODE_DEBUG||""),l=l.toUpperCase(),!n[l])if(new RegExp("\\b"+l+"\\b","i").test(s)){var p=process.pid;n[l]=function(){var v=r.format.apply(r,arguments);console.error("%s %d: %s",l,p,v)}}else n[l]=function(){};return n[l]};function o(l,p){var v={seen:[],stylize:u};return arguments.length>=3&&(v.depth=arguments[2]),arguments.length>=4&&(v.colors=arguments[3]),C(p)?v.showHidden=p:p&&r._extend(v,p),D(v.showHidden)&&(v.showHidden=!1),D(v.depth)&&(v.depth=2),D(v.colors)&&(v.colors=!1),D(v.customInspect)&&(v.customInspect=!0),v.colors&&(v.stylize=i),c(v,l,v.depth)}r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function i(l,p){var v=o.styles[p];return v?"\x1B["+o.colors[v][0]+"m"+l+"\x1B["+o.colors[v][1]+"m":l}function u(l,p){return l}function a(l){var p={};return l.forEach(function(v,d){p[v]=!0}),p}function c(l,p,v){if(l.customInspect&&p&&B(p.inspect)&&p.inspect!==r.inspect&&!(p.constructor&&p.constructor.prototype===p)){var d=p.inspect(v,l);return $(d)||(d=c(l,d,v)),d}var _=f(l,p);if(_)return _;var E=Object.keys(p),A=a(E);if(l.showHidden&&(E=Object.getOwnPropertyNames(p)),k(p)&&(E.indexOf("message")>=0||E.indexOf("description")>=0))return h(p);if(E.length===0){if(B(p)){var O=p.name?": "+p.name:"";return l.stylize("[Function"+O+"]","special")}if(P(p))return l.stylize(RegExp.prototype.toString.call(p),"regexp");if(x(p))return l.stylize(Date.prototype.toString.call(p),"date");if(k(p))return h(p)}var q="",U=!1,z=["{","}"];if(g(p)&&(U=!0,z=["[","]"]),B(p)){var oe=p.name?": "+p.name:"";q=" [Function"+oe+"]"}if(P(p)&&(q=" "+RegExp.prototype.toString.call(p)),x(p)&&(q=" "+Date.prototype.toUTCString.call(p)),k(p)&&(q=" "+h(p)),E.length===0&&(!U||p.length==0))return z[0]+q+z[1];if(v<0)return P(p)?l.stylize(RegExp.prototype.toString.call(p),"regexp"):l.stylize("[Object]","special");l.seen.push(p);var te;return U?te=m(l,p,v,A,E):te=E.map(function(ge){return S(l,p,v,A,ge,U)}),l.seen.pop(),w(te,q,z)}function f(l,p){if(D(p))return l.stylize("undefined","undefined");if($(p)){var v="'"+JSON.stringify(p).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return l.stylize(v,"string")}if(y(p))return l.stylize(""+p,"number");if(C(p))return l.stylize(""+p,"boolean");if(b(p))return l.stylize("null","null")}function h(l){return"["+Error.prototype.toString.call(l)+"]"}function m(l,p,v,d,_){for(var E=[],A=0,O=p.length;A<O;++A)ee(p,String(A))?E.push(S(l,p,v,d,String(A),!0)):E.push("");return _.forEach(function(q){q.match(/^\d+$/)||E.push(S(l,p,v,d,q,!0))}),E}function S(l,p,v,d,_,E){var A,O,q;if(q=Object.getOwnPropertyDescriptor(p,_)||{value:p[_]},q.get?q.set?O=l.stylize("[Getter/Setter]","special"):O=l.stylize("[Getter]","special"):q.set&&(O=l.stylize("[Setter]","special")),ee(d,_)||(A="["+_+"]"),O||(l.seen.indexOf(q.value)<0?(b(v)?O=c(l,q.value,null):O=c(l,q.value,v-1),O.indexOf(`
`)>-1&&(E?O=O.split(`
`).map(function(U){return"  "+U}).join(`
`).substr(2):O=`
`+O.split(`
`).map(function(U){return"   "+U}).join(`
`))):O=l.stylize("[Circular]","special")),D(A)){if(E&&_.match(/^\d+$/))return O;A=JSON.stringify(""+_),A.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(A=A.substr(1,A.length-2),A=l.stylize(A,"name")):(A=A.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),A=l.stylize(A,"string"))}return A+": "+O}function w(l,p,v){var d=l.reduce(function(_,E){return E.indexOf(`
`)>=0,_+E.replace(/\u001b\[\d\d?m/g,"").length+1},0);return d>60?v[0]+(p===""?"":p+`
 `)+" "+l.join(`,
  `)+" "+v[1]:v[0]+p+" "+l.join(", ")+" "+v[1]}function g(l){return Array.isArray(l)}r.isArray=g;function C(l){return typeof l=="boolean"}r.isBoolean=C;function b(l){return l===null}r.isNull=b;function N(l){return l==null}r.isNullOrUndefined=N;function y(l){return typeof l=="number"}r.isNumber=y;function $(l){return typeof l=="string"}r.isString=$;function I(l){return typeof l=="symbol"}r.isSymbol=I;function D(l){return l===void 0}r.isUndefined=D;function P(l){return L(l)&&K(l)==="[object RegExp]"}r.isRegExp=P;function L(l){return typeof l=="object"&&l!==null}r.isObject=L;function x(l){return L(l)&&K(l)==="[object Date]"}r.isDate=x;function k(l){return L(l)&&(K(l)==="[object Error]"||l instanceof Error)}r.isError=k;function B(l){return typeof l=="function"}r.isFunction=B;function ce(l){return l===null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||typeof l=="symbol"||typeof l=="undefined"}r.isPrimitive=ce,r.isBuffer=no;function K(l){return Object.prototype.toString.call(l)}function H(l){return l<10?"0"+l.toString(10):l.toString(10)}var fe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function se(){var l=new Date,p=[H(l.getHours()),H(l.getMinutes()),H(l.getSeconds())].join(":");return[l.getDate(),fe[l.getMonth()],p].join(" ")}r.log=function(){console.log("%s - %s",se(),r.format.apply(r,arguments))},r.inherits=Xt.exports,r._extend=function(l,p){if(!p||!L(p))return l;for(var v=Object.keys(p),d=v.length;d--;)l[v[d]]=p[v[d]];return l};function ee(l,p){return Object.prototype.hasOwnProperty.call(l,p)}})(en);var so=ro;/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function wr(r,t){if(r===t)return 0;for(var n=r.length,s=t.length,o=0,i=Math.min(n,s);o<i;++o)if(r[o]!==t[o]){n=r[o],s=t[o];break}return n<s?-1:s<n?1:0}function Qe(r){return window.Buffer&&typeof window.Buffer.isBuffer=="function"?window.Buffer.isBuffer(r):!!(r!=null&&r._isBuffer)}var we=en,oo=Object.prototype.hasOwnProperty,vr=Array.prototype.slice,tn=function(){return function(){}.name==="foo"}();function br(r){return Object.prototype.toString.call(r)}function Sr(r){return Qe(r)||typeof window.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r?!!(r instanceof DataView||r.buffer&&r.buffer instanceof ArrayBuffer):!1}var j=Zr.exports=nn,io=/\s*function\s+([^\(\s]*)\s*/;function rn(r){if(!!we.isFunction(r)){if(tn)return r.name;var t=r.toString(),n=t.match(io);return n&&n[1]}}j.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=ao(this),this.generatedMessage=!0);var n=t.stackStartFunction||ne;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var s=new Error;if(s.stack){var o=s.stack,i=rn(n),u=o.indexOf(`
`+i);if(u>=0){var a=o.indexOf(`
`,u+1);o=o.substring(a+1)}this.stack=o}}};we.inherits(j.AssertionError,Error);function _r(r,t){return typeof r=="string"?r.length<t?r:r.slice(0,t):r}function Cr(r){if(tn||!we.isFunction(r))return we.inspect(r);var t=rn(r),n=t?": "+t:"";return"[Function"+n+"]"}function ao(r){return _r(Cr(r.actual),128)+" "+r.operator+" "+_r(Cr(r.expected),128)}function ne(r,t,n,s,o){throw new j.AssertionError({message:n,actual:r,expected:t,operator:s,stackStartFunction:o})}j.fail=ne;function nn(r,t){r||ne(r,!0,t,"==",j.ok)}j.ok=nn;j.equal=function(t,n,s){t!=n&&ne(t,n,s,"==",j.equal)};j.notEqual=function(t,n,s){t==n&&ne(t,n,s,"!=",j.notEqual)};j.deepEqual=function(t,n,s){xe(t,n,!1)||ne(t,n,s,"deepEqual",j.deepEqual)};j.deepStrictEqual=function(t,n,s){xe(t,n,!0)||ne(t,n,s,"deepStrictEqual",j.deepStrictEqual)};function xe(r,t,n,s){if(r===t)return!0;if(Qe(r)&&Qe(t))return wr(r,t)===0;if(we.isDate(r)&&we.isDate(t))return r.getTime()===t.getTime();if(we.isRegExp(r)&&we.isRegExp(t))return r.source===t.source&&r.global===t.global&&r.multiline===t.multiline&&r.lastIndex===t.lastIndex&&r.ignoreCase===t.ignoreCase;if((r===null||typeof r!="object")&&(t===null||typeof t!="object"))return n?r===t:r==t;if(Sr(r)&&Sr(t)&&br(r)===br(t)&&!(r instanceof Float32Array||r instanceof Float64Array))return wr(new Uint8Array(r.buffer),new Uint8Array(t.buffer))===0;if(Qe(r)!==Qe(t))return!1;s=s||{actual:[],expected:[]};var o=s.actual.indexOf(r);return o!==-1&&o===s.expected.indexOf(t)?!0:(s.actual.push(r),s.expected.push(t),uo(r,t,n,s))}function Er(r){return Object.prototype.toString.call(r)=="[object Arguments]"}function uo(r,t,n,s){if(r==null||t===null||t===void 0)return!1;if(we.isPrimitive(r)||we.isPrimitive(t))return r===t;if(n&&Object.getPrototypeOf(r)!==Object.getPrototypeOf(t))return!1;var o=Er(r),i=Er(t);if(o&&!i||!o&&i)return!1;if(o)return r=vr.call(r),t=vr.call(t),xe(r,t,n);var u=Or(r),a=Or(t),c,f;if(u.length!==a.length)return!1;for(u.sort(),a.sort(),f=u.length-1;f>=0;f--)if(u[f]!==a[f])return!1;for(f=u.length-1;f>=0;f--)if(c=u[f],!xe(r[c],t[c],n,s))return!1;return!0}j.notDeepEqual=function(t,n,s){xe(t,n,!1)&&ne(t,n,s,"notDeepEqual",j.notDeepEqual)};j.notDeepStrictEqual=sn;function sn(r,t,n){xe(r,t,!0)&&ne(r,t,n,"notDeepStrictEqual",sn)}j.strictEqual=function(t,n,s){t!==n&&ne(t,n,s,"===",j.strictEqual)};j.notStrictEqual=function(t,n,s){t===n&&ne(t,n,s,"!==",j.notStrictEqual)};function Ar(r,t){if(!r||!t)return!1;if(Object.prototype.toString.call(t)=="[object RegExp]")return t.test(r);try{if(r instanceof t)return!0}catch{}return Error.isPrototypeOf(t)?!1:t.call({},r)===!0}function co(r){var t;try{r()}catch(n){t=n}return t}function on(r,t,n,s){var o;if(typeof t!="function")throw new TypeError('"block" argument must be a function');typeof n=="string"&&(s=n,n=null),o=co(t),s=(n&&n.name?" ("+n.name+").":".")+(s?" "+s:"."),r&&!o&&ne(o,n,"Missing expected exception"+s);var i=typeof s=="string",u=!r&&we.isError(o),a=!r&&o&&!n;if((u&&i&&Ar(o,n)||a)&&ne(o,n,"Got unwanted exception"+s),r&&o&&n&&!Ar(o,n)||!r&&o)throw o}j.throws=function(r,t,n){on(!0,r,t,n)};j.doesNotThrow=function(r,t,n){on(!1,r,t,n)};j.ifError=function(r){if(r)throw r};function an(r,t){r||ne(r,!0,t,"==",an)}j.strict=so(an,j,{equal:j.strictEqual,deepEqual:j.deepStrictEqual,notEqual:j.notStrictEqual,notDeepEqual:j.notDeepStrictEqual});j.strict.strict=j.strict;var Or=Object.keys||function(r){var t=[];for(var n in r)oo.call(r,n)&&t.push(n);return t},Gt={exports:{}},Le=1e3,Ke=Le*60,He=Ke*60,Be=He*24,fo=Be*7,lo=Be*365.25,ho=function(r,t){t=t||{};var n=typeof r;if(n==="string"&&r.length>0)return po(r);if(n==="number"&&isFinite(r))return t.long?go(r):mo(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function po(r){if(r=String(r),!(r.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(!!t){var n=parseFloat(t[1]),s=(t[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return n*lo;case"weeks":case"week":case"w":return n*fo;case"days":case"day":case"d":return n*Be;case"hours":case"hour":case"hrs":case"hr":case"h":return n*He;case"minutes":case"minute":case"mins":case"min":case"m":return n*Ke;case"seconds":case"second":case"secs":case"sec":case"s":return n*Le;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function mo(r){var t=Math.abs(r);return t>=Be?Math.round(r/Be)+"d":t>=He?Math.round(r/He)+"h":t>=Ke?Math.round(r/Ke)+"m":t>=Le?Math.round(r/Le)+"s":r+"ms"}function go(r){var t=Math.abs(r);return t>=Be?it(r,t,Be,"day"):t>=He?it(r,t,He,"hour"):t>=Ke?it(r,t,Ke,"minute"):t>=Le?it(r,t,Le,"second"):r+" ms"}function it(r,t,n,s){var o=t>=n*1.5;return Math.round(r/n)+" "+s+(o?"s":"")}function yo(r){n.debug=n,n.default=n,n.coerce=c,n.disable=u,n.enable=i,n.enabled=a,n.humanize=ho,Object.keys(r).forEach(function(f){n[f]=r[f]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(f){for(var h=0,m=0;m<f.length;m++)h=(h<<5)-h+f.charCodeAt(m),h|=0;return n.colors[Math.abs(h)%n.colors.length]}n.selectColor=t;function n(f){var h;function m(){if(!!m.enabled){for(var S=arguments.length,w=new Array(S),g=0;g<S;g++)w[g]=arguments[g];var C=m,b=Number(new Date),N=b-(h||b);C.diff=N,C.prev=h,C.curr=b,h=b,w[0]=n.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");var y=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,function(I,D){if(I==="%%")return I;y++;var P=n.formatters[D];if(typeof P=="function"){var L=w[y];I=P.call(C,L),w.splice(y,1),y--}return I}),n.formatArgs.call(C,w);var $=C.log||n.log;$.apply(C,w)}}return m.namespace=f,m.enabled=n.enabled(f),m.useColors=n.useColors(),m.color=t(f),m.destroy=s,m.extend=o,typeof n.init=="function"&&n.init(m),n.instances.push(m),m}function s(){var f=n.instances.indexOf(this);return f!==-1?(n.instances.splice(f,1),!0):!1}function o(f,h){return n(this.namespace+(typeof h=="undefined"?":":h)+f)}function i(f){n.save(f),n.names=[],n.skips=[];var h,m=(typeof f=="string"?f:"").split(/[\s,]+/),S=m.length;for(h=0;h<S;h++)!m[h]||(f=m[h].replace(/\*/g,".*?"),f[0]==="-"?n.skips.push(new RegExp("^"+f.substr(1)+"$")):n.names.push(new RegExp("^"+f+"$")));for(h=0;h<n.instances.length;h++){var w=n.instances[h];w.enabled=n.enabled(w.namespace)}}function u(){n.enable("")}function a(f){if(f[f.length-1]==="*")return!0;var h,m;for(h=0,m=n.skips.length;h<m;h++)if(n.skips[h].test(f))return!1;for(h=0,m=n.names.length;h<m;h++)if(n.names[h].test(f))return!0;return!1}function c(f){return f instanceof Error?f.stack||f.message:f}return n.enable(n.load()),n}var wo=yo;(function(r,t){function n(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(S){return typeof S}:n=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},n(h)}t.log=i,t.formatArgs=o,t.save=u,t.load=a,t.useColors=s,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!!this.useColors){var m="color: "+this.color;h.splice(1,0,m,"color: inherit");var S=0,w=0;h[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(S++,g==="%c"&&(w=S))}),h.splice(w,0,m)}}function i(){var h;return(typeof console=="undefined"?"undefined":n(console))==="object"&&console.log&&(h=console).log.apply(h,arguments)}function u(h){try{h?t.storage.setItem("debug",h):t.storage.removeItem("debug")}catch{}}function a(){var h;try{h=t.storage.getItem("debug")}catch{}return!h&&typeof process!="undefined"&&"env"in process&&(h={}.DEBUG),h}function c(){try{return localStorage}catch{}}r.exports=wo(t);var f=r.exports.formatters;f.j=function(h){try{return JSON.stringify(h)}catch(m){return"[UnexpectedJSONParseError]: "+m.message}}})(Gt,Gt.exports);var nt=Ne,Rt=nt.URL,vo=Xe,bo=Xe,So=Zr.exports,un=Xe.Writable,cn=Gt.exports("follow-redirects"),_o={GET:!0,HEAD:!0,OPTIONS:!0,TRACE:!0},Wt=Object.create(null);["abort","aborted","connect","error","socket","timeout"].forEach(function(r){Wt[r]=function(t,n,s){this._redirectable.emit(r,t,n,s)}});function me(r,t){un.call(this),this._sanitizeOptions(r),this._options=r,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var n=this;this._onNativeResponse=function(s){n._processResponse(s)},this._performRequest()}me.prototype=Object.create(un.prototype);me.prototype.write=function(r,t,n){if(this._ending)throw new Error("write after end");if(!(typeof r=="string"||typeof r=="object"&&"length"in r))throw new Error("data should be a string, Buffer or Uint8Array");if(typeof t=="function"&&(n=t,t=null),r.length===0){n&&n();return}this._requestBodyLength+r.length<=this._options.maxBodyLength?(this._requestBodyLength+=r.length,this._requestBodyBuffers.push({data:r,encoding:t}),this._currentRequest.write(r,t,n)):(this.emit("error",new Error("Request body larger than maxBodyLength limit")),this.abort())};me.prototype.end=function(r,t,n){if(typeof r=="function"?(n=r,r=t=null):typeof t=="function"&&(n=t,t=null),!r)this._ended=this._ending=!0,this._currentRequest.end(null,null,n);else{var s=this,o=this._currentRequest;this.write(r,t,function(){s._ended=!0,o.end(null,null,n)}),this._ending=!0}};me.prototype.setHeader=function(r,t){this._options.headers[r]=t,this._currentRequest.setHeader(r,t)};me.prototype.removeHeader=function(r){delete this._options.headers[r],this._currentRequest.removeHeader(r)};me.prototype.setTimeout=function(r,t){if(t&&this.once("timeout",t),this.socket)$r(this,r);else{var n=this;this._currentRequest.once("socket",function(){$r(n,r)})}return this.once("response",Dr),this.once("error",Dr),this};function $r(r,t){clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout")},t)}function Dr(){clearTimeout(this._timeout)}["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(r){me.prototype[r]=function(t,n){return this._currentRequest[r](t,n)}});["aborted","connection","socket"].forEach(function(r){Object.defineProperty(me.prototype,r,{get:function(){return this._currentRequest[r]}})});me.prototype._sanitizeOptions=function(r){if(r.headers||(r.headers={}),r.host&&(r.hostname||(r.hostname=r.host),delete r.host),!r.pathname&&r.path){var t=r.path.indexOf("?");t<0?r.pathname=r.path:(r.pathname=r.path.substring(0,t),r.search=r.path.substring(t))}};me.prototype._performRequest=function(){var r=this._options.protocol,t=this._options.nativeProtocols[r];if(!t){this.emit("error",new Error("Unsupported protocol "+r));return}if(this._options.agents){var n=r.substr(0,r.length-1);this._options.agent=this._options.agents[n]}var s=this._currentRequest=t.request(this._options,this._onNativeResponse);this._currentUrl=nt.format(this._options),s._redirectable=this;for(var o in Wt)o&&s.on(o,Wt[o]);if(this._isRedirect){var i=0,u=this,a=this._requestBodyBuffers;(function c(f){if(s===u._currentRequest)if(f)u.emit("error",f);else if(i<a.length){var h=a[i++];s.finished||s.write(h.data,h.encoding,c)}else u._ended&&s.end()})()}};me.prototype._processResponse=function(r){var t=r.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:r.headers,statusCode:t});var n=r.headers.location;if(n&&this._options.followRedirects!==!1&&t>=300&&t<400){if(this._currentRequest.removeAllListeners(),this._currentRequest.on("error",Co),this._currentRequest.abort(),r.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new Error("Max redirects exceeded."));return}var s,o=this._options.headers;if(t!==307&&!(this._options.method in _o)){this._options.method="GET",this._requestBodyBuffers=[];for(s in o)/^content-/i.test(s)&&delete o[s]}if(!this._isRedirect)for(s in o)/^host$/i.test(s)&&delete o[s];var i=nt.resolve(this._currentUrl,n);if(cn("redirecting to",i),Object.assign(this._options,nt.parse(i)),typeof this._options.beforeRedirect=="function"){try{this._options.beforeRedirect.call(null,this._options)}catch(u){this.emit("error",u);return}this._sanitizeOptions(this._options)}this._isRedirect=!0,this._performRequest()}else r.responseUrl=this._currentUrl,r.redirects=this._redirects,this.emit("response",r),this._requestBodyBuffers=[]};function fn(r){var t={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(r).forEach(function(s){var o=s+":",i=n[o]=r[s],u=t[s]=Object.create(i);u.request=function(a,c,f){if(typeof a=="string"){var h=a;try{a=Rr(new Rt(h))}catch{a=nt.parse(h)}}else Rt&&a instanceof Rt?a=Rr(a):(f=c,c=a,a={protocol:o});return typeof c=="function"&&(f=c,c=null),c=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},a,c),c.nativeProtocols=n,So.equal(c.protocol,o,"protocol mismatch"),cn("options",c),new me(c,f)},u.get=function(a,c,f){var h=u.request(a,c,f);return h.end(),h}}),t}function Co(){}function Rr(r){var t={protocol:r.protocol,hostname:r.hostname.startsWith("[")?r.hostname.slice(1,-1):r.hostname,hash:r.hash,search:r.search,pathname:r.pathname,path:r.pathname+r.search,href:r.href};return r.port!==""&&(t.port=Number(r.port)),t}vt.exports=fn({http:vo,https:bo});vt.exports.wrap=fn;const Eo="axios",Ao="axios@0.18.0",Oo=!1,$o="sha1-MtU+SFHv3AoRmTts0AB4nXDAUQI=",Do="/axios",Ro={},qo={type:"tag",registry:!0,raw:"axios",name:"axios",escapedName:"axios",rawSpec:"",saveSpec:null,fetchSpec:"latest"},To=["#USER","/"],jo="http://registry.npmjs.org/axios/-/axios-0.18.0.tgz",Po="32d53e4851efdc0a11993b6cd000789d70c05102",Bo="axios",No="F:\\A",Uo={name:"Matt Zabriskie"},Io={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},Fo={url:"https://github.com/axios/axios/issues"},ko=!1,Mo=[{path:"./dist/axios.min.js",threshold:"5kB"}],xo={"follow-redirects":"^1.3.0","is-buffer":"^1.1.6"},Lo=!1,Ko="Promise based HTTP client for the browser and node.js",Ho={bundlesize:"^0.5.7",coveralls:"^2.11.9","es6-promise":"^4.0.5",grunt:"^1.0.1","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.0.0","grunt-contrib-nodeunit":"^1.0.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^19.0.0","grunt-karma":"^2.0.0","grunt-ts":"^6.0.0-beta.3","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^1.3.0","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.0.0","karma-firefox-launcher":"^1.0.0","karma-jasmine":"^1.0.2","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.1.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",sinon:"^1.17.4",typescript:"^2.0.3","url-search-params":"^0.6.1",webpack:"^1.13.1","webpack-dev-server":"^1.14.1"},zo="https://github.com/axios/axios",Vo=["xhr","http","ajax","promise","node"],Xo="MIT",Go="index.js",Wo="axios",Jo={type:"git",url:"git+https://github.com/axios/axios.git"},Yo={build:"NODE_ENV=production grunt build",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",examples:"node ./examples/server.js",postversion:"git push && git push --tags",preversion:"npm test",start:"node ./sandbox/server.js",test:"grunt test && bundlesize",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},Qo="./index.d.ts",Zo="0.18.0";var ei={_from:Eo,_id:Ao,_inBundle:Oo,_integrity:$o,_location:Do,_phantomChildren:Ro,_requested:qo,_requiredBy:To,_resolved:jo,_shasum:Po,_spec:Bo,_where:No,author:Uo,browser:Io,bugs:Fo,bundleDependencies:ko,bundlesize:Mo,dependencies:xo,deprecated:Lo,description:Ko,devDependencies:Ho,homepage:zo,keywords:Vo,license:Xo,main:Go,name:Wo,repository:Jo,scripts:Yo,typings:Qo,version:Zo},at=ie,qr=Yr,ti=Qr,ri=Xe,ni=Xe,si=vt.exports.http,oi=vt.exports.https,Tr=Ne,ii=Xe,ai=ei,qt=nr,jr=Jr,ui=function(t){return new Promise(function(s,o){var i=t.data,u=t.headers,a;if(!u["User-Agent"]&&!u["user-agent"]&&(u["User-Agent"]="axios/"+ai.version),i&&!at.isStream(i)){if(!Buffer.isBuffer(i))if(at.isArrayBuffer(i))i=new Buffer(new Uint8Array(i));else if(at.isString(i))i=new Buffer(i,"utf-8");else return o(qt("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",t));u["Content-Length"]=i.length}var c=void 0;if(t.auth){var f=t.auth.username||"",h=t.auth.password||"";c=f+":"+h}var m=Tr.parse(t.url),S=m.protocol||"http:";if(!c&&m.auth){var w=m.auth.split(":"),g=w[0]||"",C=w[1]||"";c=g+":"+C}c&&delete u.Authorization;var b=S==="https:",N=b?t.httpsAgent:t.httpAgent,y={path:ti(m.path,t.params,t.paramsSerializer).replace(/^\?/,""),method:t.method,headers:u,agent:N,auth:c};t.socketPath?y.socketPath=t.socketPath:(y.hostname=m.hostname,y.port=m.port);var $=t.proxy;if(!$&&$!==!1){var I=S.slice(0,-1)+"_proxy",D=process.env[I]||process.env[I.toUpperCase()];if(D){var P=Tr.parse(D);if($={host:P.hostname,port:P.port},P.auth){var L=P.auth.split(":");$.auth={username:L[0],password:L[1]}}}}if($&&(y.hostname=$.host,y.host=$.host,y.headers.host=m.hostname+(m.port?":"+m.port:""),y.port=$.port,y.path=S+"//"+m.hostname+(m.port?":"+m.port:"")+y.path,$.auth)){var x=new Buffer($.auth.username+":"+$.auth.password,"utf8").toString("base64");y.headers["Proxy-Authorization"]="Basic "+x}var k;t.transport?k=t.transport:t.maxRedirects===0?k=b?ni:ri:(t.maxRedirects&&(y.maxRedirects=t.maxRedirects),k=b?oi:si),t.maxContentLength&&t.maxContentLength>-1&&(y.maxBodyLength=t.maxContentLength);var B=k.request(y,function(K){if(!B.aborted){clearTimeout(a),a=null;var H=K;switch(K.headers["content-encoding"]){case"gzip":case"compress":case"deflate":H=H.pipe(ii.createUnzip()),delete K.headers["content-encoding"];break}var fe=K.req||B,se={status:K.statusCode,statusText:K.statusMessage,headers:K.headers,config:t,request:fe};if(t.responseType==="stream")se.data=H,qr(s,o,se);else{var ee=[];H.on("data",function(p){ee.push(p),t.maxContentLength>-1&&Buffer.concat(ee).length>t.maxContentLength&&o(qt("maxContentLength size of "+t.maxContentLength+" exceeded",t,null,fe))}),H.on("error",function(p){B.aborted||o(jr(p,t,null,fe))}),H.on("end",function(){var p=Buffer.concat(ee);t.responseType!=="arraybuffer"&&(p=p.toString("utf8")),se.data=p,qr(s,o,se)})}}});B.on("error",function(K){B.aborted||o(jr(K,t,null,B))}),t.timeout&&!a&&(a=setTimeout(function(){B.abort(),o(qt("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",B))},t.timeout)),t.cancelToken&&t.cancelToken.promise.then(function(K){B.aborted||(B.abort(),o(K))}),at.isStream(i)?i.pipe(B):B.end(i)})},re=ie,ci=vs,fi={"Content-Type":"application/x-www-form-urlencoded"};function Pr(r,t){!re.isUndefined(r)&&re.isUndefined(r["Content-Type"])&&(r["Content-Type"]=t)}function li(){var r;return typeof XMLHttpRequest!="undefined"?r=Ps:typeof process!="undefined"&&(r=ui),r}var bt={adapter:li(),transformRequest:[function(t,n){return ci(n,"Content-Type"),re.isFormData(t)||re.isArrayBuffer(t)||re.isBuffer(t)||re.isStream(t)||re.isFile(t)||re.isBlob(t)?t:re.isArrayBufferView(t)?t.buffer:re.isURLSearchParams(t)?(Pr(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):re.isObject(t)?(Pr(n,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if(typeof t=="string")try{t=JSON.parse(t)}catch{}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};bt.headers={common:{Accept:"application/json, text/plain, */*"}};re.forEach(["delete","get","head"],function(t){bt.headers[t]={}});re.forEach(["post","put","patch"],function(t){bt.headers[t]=re.merge(fi)});var sr=bt,hi=ie;function St(){this.handlers=[]}St.prototype.use=function(t,n){return this.handlers.push({fulfilled:t,rejected:n}),this.handlers.length-1};St.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};St.prototype.forEach=function(t){hi.forEach(this.handlers,function(s){s!==null&&t(s)})};var pi=St,di=ie,mi=function(t,n,s){return di.forEach(s,function(i){t=i(t,n)}),t},ln=function(t){return!!(t&&t.__CANCEL__)},gi=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},yi=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},Br=ie,Tt=mi,wi=ln,vi=sr,bi=gi,Si=yi;function jt(r){r.cancelToken&&r.cancelToken.throwIfRequested()}var _i=function(t){jt(t),t.baseURL&&!bi(t.url)&&(t.url=Si(t.baseURL,t.url)),t.headers=t.headers||{},t.data=Tt(t.data,t.headers,t.transformRequest),t.headers=Br.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),Br.forEach(["delete","get","head","post","put","patch","common"],function(o){delete t.headers[o]});var n=t.adapter||vi.adapter;return n(t).then(function(o){return jt(t),o.data=Tt(o.data,o.headers,t.transformResponse),o},function(o){return wi(o)||(jt(t),o&&o.response&&(o.response.data=Tt(o.response.data,o.response.headers,t.transformResponse))),Promise.reject(o)})},Ci=sr,ze=ie,Nr=pi,Ei=_i;function _t(r){this.defaults=r,this.interceptors={request:new Nr,response:new Nr}}_t.prototype.request=function(t){typeof t=="string"&&(t=ze.merge({url:arguments[0]},arguments[1])),t=ze.merge(Ci,{method:"get"},this.defaults,t),t.method=t.method.toLowerCase();var n=[Ei,void 0],s=Promise.resolve(t);for(this.interceptors.request.forEach(function(i){n.unshift(i.fulfilled,i.rejected)}),this.interceptors.response.forEach(function(i){n.push(i.fulfilled,i.rejected)});n.length;)s=s.then(n.shift(),n.shift());return s};ze.forEach(["delete","get","head","options"],function(t){_t.prototype[t]=function(n,s){return this.request(ze.merge(s||{},{method:t,url:n}))}});ze.forEach(["post","put","patch"],function(t){_t.prototype[t]=function(n,s,o){return this.request(ze.merge(o||{},{method:t,url:n,data:s}))}});var Ai=_t;function or(r){this.message=r}or.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};or.prototype.__CANCEL__=!0;var hn=or,Oi=hn;function gt(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(o){t=o});var n=this;r(function(o){n.reason||(n.reason=new Oi(o),t(n.reason))})}gt.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};gt.source=function(){var t,n=new gt(function(o){t=o});return{token:n,cancel:t}};var $i=gt,Di=function(t){return function(s){return t.apply(null,s)}},Jt=ie,Ri=Hr,dt=Ai,pn=sr;function dn(r){var t=new dt(r),n=Ri(dt.prototype.request,t);return Jt.extend(n,dt.prototype,t),Jt.extend(n,t),n}var Ee=dn(pn);Ee.Axios=dt;Ee.create=function(t){return dn(Jt.merge(pn,t))};Ee.Cancel=hn;Ee.CancelToken=$i;Ee.isCancel=ln;Ee.all=function(t){return Promise.all(t)};Ee.spread=Di;tr.exports=Ee;tr.exports.default=Ee;function qe(r,t){var n=(r&65535)+(t&65535),s=(r>>16)+(t>>16)+(n>>16);return s<<16|n&65535}function qi(r,t){return r<<t|r>>>32-t}function Ct(r,t,n,s,o,i){return qe(qi(qe(qe(t,r),qe(s,i)),o),n)}function X(r,t,n,s,o,i,u){return Ct(t&n|~t&s,r,t,o,i,u)}function G(r,t,n,s,o,i,u){return Ct(t&s|n&~s,r,t,o,i,u)}function W(r,t,n,s,o,i,u){return Ct(t^n^s,r,t,o,i,u)}function J(r,t,n,s,o,i,u){return Ct(n^(t|~s),r,t,o,i,u)}function mn(r){for(var t=1732584193,n=-271733879,s=-1732584194,o=271733878,i=0;i<r.length;i+=16){var u=t,a=n,c=s,f=o;t=X(t,n,s,o,r[i+0],7,-680876936),o=X(o,t,n,s,r[i+1],12,-389564586),s=X(s,o,t,n,r[i+2],17,606105819),n=X(n,s,o,t,r[i+3],22,-1044525330),t=X(t,n,s,o,r[i+4],7,-176418897),o=X(o,t,n,s,r[i+5],12,1200080426),s=X(s,o,t,n,r[i+6],17,-1473231341),n=X(n,s,o,t,r[i+7],22,-45705983),t=X(t,n,s,o,r[i+8],7,1770035416),o=X(o,t,n,s,r[i+9],12,-1958414417),s=X(s,o,t,n,r[i+10],17,-42063),n=X(n,s,o,t,r[i+11],22,-1990404162),t=X(t,n,s,o,r[i+12],7,1804603682),o=X(o,t,n,s,r[i+13],12,-40341101),s=X(s,o,t,n,r[i+14],17,-1502002290),n=X(n,s,o,t,r[i+15],22,1236535329),t=G(t,n,s,o,r[i+1],5,-165796510),o=G(o,t,n,s,r[i+6],9,-1069501632),s=G(s,o,t,n,r[i+11],14,643717713),n=G(n,s,o,t,r[i+0],20,-373897302),t=G(t,n,s,o,r[i+5],5,-701558691),o=G(o,t,n,s,r[i+10],9,38016083),s=G(s,o,t,n,r[i+15],14,-660478335),n=G(n,s,o,t,r[i+4],20,-405537848),t=G(t,n,s,o,r[i+9],5,568446438),o=G(o,t,n,s,r[i+14],9,-1019803690),s=G(s,o,t,n,r[i+3],14,-187363961),n=G(n,s,o,t,r[i+8],20,1163531501),t=G(t,n,s,o,r[i+13],5,-1444681467),o=G(o,t,n,s,r[i+2],9,-51403784),s=G(s,o,t,n,r[i+7],14,1735328473),n=G(n,s,o,t,r[i+12],20,-1926607734),t=W(t,n,s,o,r[i+5],4,-378558),o=W(o,t,n,s,r[i+8],11,-2022574463),s=W(s,o,t,n,r[i+11],16,1839030562),n=W(n,s,o,t,r[i+14],23,-35309556),t=W(t,n,s,o,r[i+1],4,-1530992060),o=W(o,t,n,s,r[i+4],11,1272893353),s=W(s,o,t,n,r[i+7],16,-155497632),n=W(n,s,o,t,r[i+10],23,-1094730640),t=W(t,n,s,o,r[i+13],4,681279174),o=W(o,t,n,s,r[i+0],11,-358537222),s=W(s,o,t,n,r[i+3],16,-722521979),n=W(n,s,o,t,r[i+6],23,76029189),t=W(t,n,s,o,r[i+9],4,-640364487),o=W(o,t,n,s,r[i+12],11,-421815835),s=W(s,o,t,n,r[i+15],16,530742520),n=W(n,s,o,t,r[i+2],23,-995338651),t=J(t,n,s,o,r[i+0],6,-198630844),o=J(o,t,n,s,r[i+7],10,1126891415),s=J(s,o,t,n,r[i+14],15,-1416354905),n=J(n,s,o,t,r[i+5],21,-57434055),t=J(t,n,s,o,r[i+12],6,1700485571),o=J(o,t,n,s,r[i+3],10,-1894986606),s=J(s,o,t,n,r[i+10],15,-1051523),n=J(n,s,o,t,r[i+1],21,-2054922799),t=J(t,n,s,o,r[i+8],6,1873313359),o=J(o,t,n,s,r[i+15],10,-30611744),s=J(s,o,t,n,r[i+6],15,-1560198380),n=J(n,s,o,t,r[i+13],21,1309151649),t=J(t,n,s,o,r[i+4],6,-145523070),o=J(o,t,n,s,r[i+11],10,-1120210379),s=J(s,o,t,n,r[i+2],15,718787259),n=J(n,s,o,t,r[i+9],21,-343485551),t=qe(t,u),n=qe(n,a),s=qe(s,c),o=qe(o,f)}return[t,n,s,o]}function gn(r){for(var t="0123456789abcdef",n="",s=0;s<r.length*4;s++)n+=t.charAt(r[s>>2]>>s%4*8+4&15)+t.charAt(r[s>>2]>>s%4*8&15);return n}function Ti(r){for(var t=(r.length+8>>6)+1,n=new Array(t*16),s=0;s<t*16;s++)n[s]=0;for(var o=0;o<r.length;o++)n[o>>2]|=(r.charCodeAt(o)&255)<<o%4*8;return n[o>>2]|=128<<o%4*8,n[t*16-2]=r.length*8,n}function ji(r){r=unescape(encodeURIComponent(r));for(var t=[],n=0;n<r.length;n++)t.push(r[n].charCodeAt(0));return new Uint8Array(t)}function Pi(r){typeof r=="string"&&(r=ji(r));for(var t=(r.length+8>>6)+1,n=new Array(t*16),s=0;s<t*16;s++)n[s]=0;for(var o=0;o<r.length;o++)n[o>>2]|=(r[o]&255)<<o%4*8;return n[o>>2]|=128<<o%4*8,n[t*16-2]=r.length*8,n}function Bi(r){return gn(mn(Pi(r)))}function Ni(r){return gn(mn(Ti(r)))}var Et={hexMD5:Ni,utf8MD5:Bi};const Ui=tr.exports;let _e=Z,Ii=Et;const Fi=(r,t,n,s)=>{let o="wechatApp";_e.type==="nodejs"&&(o="nodejs");const i=Math.round(new Date().getTime()/1e3);let u=n==="get"||n==="delete"?"":JSON.stringify(s);const a=_e.utils.randomString(),c=Ii.utf8MD5(t+i+r.securityCode+a+u+r.serverVersion);let f={"content-type":"application/json","X-Bmob-SDK-Type":o,"X-Bmob-Safe-Sign":c,"X-Bmob-Safe-Timestamp":i,"X-Bmob-Noncestr-Key":a,"X-Bmob-SDK-Version":r.serverVersion,"X-Bmob-Secret-Key":r.secretKey};return r.applicationMasterKey&&(f["X-Bmob-Master-Key"]=r.applicationMasterKey),f},ki=(r,t="get",n={})=>new Promise((s,o)=>{_e.User===void 0&&(_e=Z);const i=Fi(_e._config,r,t,n);var u=_e.User.current();u&&(i["X-Bmob-Session-Token"]=u.sessionToken);const a=Ui.create({baseURL:_e._config.host,headers:i,validateStatus:f=>f<500}),c={url:r,method:t};c.method==="get"?c.params=n:c.data=n,_e._config.deBug===!0&&(console.log("host:",_e._config.host),console.log("parma:",n)),a(c).then(({data:f})=>{(f.code&&f.error||f.error)&&o(f),s(f)}).catch(f=>{o(f)})});var Ur=ki;let Re=Z,Mi=Et,Yt="wechatApp";typeof tt!="undefined"?Yt="toutiao":typeof qq!="undefined"&&(Yt="qqApp");const xi=(r,t,n,s)=>{const o=Math.round(new Date().getTime()/1e3),i=Re.utils.randomString();let u=n==="get"||n==="delete"?"":JSON.stringify(s);const a=Mi.utf8MD5(t+o+r.securityCode+i+u+r.serverVersion);let c={"content-type":"application/json","X-Bmob-SDK-Type":Yt,"X-Bmob-Safe-Sign":a,"X-Bmob-Safe-Timestamp":o,"X-Bmob-Noncestr-Key":i,"X-Bmob-SDK-Version":r.serverVersion,"X-Bmob-Secret-Key":r.secretKey};return r.applicationMasterKey&&(c["X-Bmob-Master-Key"]=r.applicationMasterKey),c},Li=(r,t="get",n={})=>new Promise((s,o)=>{const i=xi(Re._config,r,t,n);Re.User===void 0&&(Re=Z);let u=Re.User.current();u&&(i["X-Bmob-Session-Token"]=u.sessionToken),Re._config.deBug===!0&&(console.log("host:",Re._config.host),console.log("parma:",n)),wx.request({url:Re._config.host+r,method:t,data:n,header:i,success:a=>{(a.data.code&&a.data.error||a.data.error)&&o(a.data),s(a.data)},fail:a=>{console.log(a),o(a)}})});var Ki=Li;let Fe=Z,Hi=Et;const zi="xxrequire('@system.fetch')xx",Vi=(r,t,n,s)=>{const o=Math.round(new Date().getTime()/1e3),i=Fe.utils.randomString();let u=n==="get"||n==="delete"?"":JSON.stringify(s);const a=Hi.utf8MD5(t+o+r.securityCode+i+u+r.serverVersion);let c={"content-type":"application/json","X-Bmob-SDK-Type":"wechatApp","X-Bmob-Safe-Sign":a,"X-Bmob-Safe-Timestamp":o,"X-Bmob-Noncestr-Key":i,"X-Bmob-SDK-Version":r.serverVersion,"X-Bmob-Secret-Key":r.secretKey};return r.applicationMasterKey&&(c["X-Bmob-Master-Key"]=r.applicationMasterKey),c},Xi=(r,t="get",n={})=>new Promise((s,o)=>{const i=Vi(Fe._config,r,t,n);Fe.User===void 0&&(Fe=Z);let u=Fe.User.current();u&&(i["X-Bmob-Session-Token"]=u.sessionToken),typeof n=="object"&&(n=JSON.stringify(n)),zi.fetch({url:Fe._config.host+r,header:i,method:t,data:n,success:function(a){const c=JSON.parse(a.data);c.code&&o(c),s(c)},fail:function(a,c){console.log(`handling fail, code = ${c}`),o(a)}})});var Gi=Xi;const Wi=yt;let Ze;const ut=Wi.getAppType();ut==="h5"?Ze=Ur:ut==="wx"?Ze=Ki:ut==="hap"?Ze=Gi:ut==="nodejs"&&(Ze=Ur);var Ue=Ze;const{isString:Pt}=Se;let ke;typeof cc!="undefined"?ke=cc.sys.localStorage:ke=localStorage;const Ji={save(r,t){if(!Pt(r)||!t)throw new Error(415);ke.setItem(r,JSON.stringify(t))},fetch(r){if(!Pt(r))throw new Error(415);return JSON.parse(ke.getItem(r))||null},remove(r){if(!Pt(r))throw new Error(415);ke.removeItem(r)},clear(){ke.clear()}};var Yi=Ji;const{isString:Bt,isObject:Qi}=Se,Zi={save(r,t){if(!Bt(r)||!t)throw new Error(415);return t=Qi(t)?JSON.stringify(t):t,wx.setStorageSync(r,t)},fetch(r){if(!Bt(r))throw new Error(415);return wx.getStorageSync(r)||null},remove(r){if(!Bt(r))throw new Error(415);return wx.removeStorageSync(r)},clear(){return wx.clearStorageSync()}};var ea=Zi;const{isString:Nt}=Se,ct="xxrequire('@system.storage')xx",ta={save(r,t){if(!Nt(r)||!t)throw new Error(415);ct.set({key:r,value:JSON.stringify(t),success:function(n){return console.log("handling success"),n},fail:function(n,s){console.log(`handling fail, code = ${s}`)}})},fetch(r){if(!Nt(r))throw new Error(415);return new Promise((t,n)=>ct.get({key:r,success:function(s){t(s||null)},fail:function(s,o){console.log(`handling fail, code = ${o}`),n(s)}}))},remove(r){if(!Nt(r))throw new Error(415);ct.delete({key:r,success:function(t){console.log("handling success")},fail:function(t,n){console.log(`handling fail, code = ${n}`)}})},clear(){ct.clear({success:function(r){console.log("handling success")},fail:function(r,t){console.log(`handling fail, code = ${t}`)}})}};var ra=ta;const na={save(r,t){},fetch(r){return null},remove(r){},clear(){}};var sa=na;const oa=yt;let et;const ft=oa.getAppType();ft==="h5"?et=Yi:ft==="wx"?et=ea:ft==="hap"?et=ra:ft==="nodejs"&&(et=sa);var yn=et;let lt=Z;const ve=Ue,{isObject:Ut,isString:F,isNumber:It,isUndefined:he,isArray:Oe}=Se,T=Ce,We=yn,ia=class{constructor(t){this.tableName=`${lt._config.parameters.QUERY}/${t}`,this.className=t,this.init(),this.addArray={},this.setData={}}init(){this.queryData={},this.location={},this.andData={},this.orData={},this.stat={},this.limitNum=100,this.skipNum=0,this.includes="",this.queryReilation={},this.orders=null,this.keys=null}get(t){if(!F(t))throw new T(415);let n={};const s={},o={},i={},u=(g,C)=>{if(!F(g)||!Oe(C))throw new T(415);i[g]={__op:"Add",objects:C}},a=(g,C)=>{if(!F(g)||!Oe(C))throw new T(415);i[g]={__op:"AddUnique",objects:C}},c=(g,C)=>{if(!F(g)||!Oe(C))throw new T(415);i[g]={__op:"Remove",objects:C}},f=(g,C=1)=>{if(!F(g)||!It(C))throw new T(415);s[g]={__op:"Increment",amount:C}},h=g=>{if(!F(t))throw new T(415);o[g]={__op:"Delete"}},m=(g,C)=>{if(!F(g)||he(C))throw new T(415);const{filename:b,cdn:N,url:y}=C;!he(b)&&!he(N)&&!he(y)?n[g]={__type:"File",group:N,filename:b,url:y}:n[g]=C},S=()=>{const g=Object.assign(o,n,s,i);return this.className==="_User"?new Promise((C,b)=>{ve(`${this.tableName}/${t}`,"put",g).then(N=>{const y=this.current();let $=Object.assign(y,g);We.save("bmob",$),C(N)}).catch(N=>{b(N)})}):ve(`${this.tableName}/${t}`,"put",g)},w={};return this.includes!==""&&(w.include=this.includes),new Promise((g,C)=>{ve(`${this.tableName}/${t}`,"get",w).then(b=>{Object.defineProperty(b,"set",{value:m}),Object.defineProperty(b,"unset",{value:h}),Object.defineProperty(b,"save",{value:S}),Object.defineProperty(b,"increment",{value:f}),Object.defineProperty(b,"add",{value:u}),Object.defineProperty(b,"remove",{value:c}),Object.defineProperty(b,"addUnique",{value:a}),Object.defineProperty(b,"destroy",{value:()=>this.destroy(t)}),g(b)}).catch(b=>{C(b)})})}destroy(t){if(!F(t))throw new T(415);return ve(`${this.tableName}/${t}`,"delete")}set(t,n){if(!F(t)||he(n))throw new T(415,`${t}\u5B57\u6BB5\u53C2\u6570,\u7C7B\u578B\u4E0D\u6B63\u786E`);const{filename:s,cdn:o,url:i}=n;!he(s)&&!he(o)&&!he(i)?this.setData[t]={__type:"File",group:o,filename:s,url:i}:this.setData[t]=n}add(t,n){if(!F(t)||!Oe(n))throw new T(415);this.addArray[t]={__op:"Add",objects:n}}addUnique(t,n){if(!F(t)||!Oe(n))throw new T(415);this.addArray[t]={__op:"AddUnique",objects:n}}current(){if(lt.type!=="hap"){const t=We.fetch("bmob");return typeof t=="object"?t:JSON.parse(t)}else return new Promise((t,n)=>We.fetch("bmob").then(s=>{t(s)}).catch(s=>{n(s)}))}updateStorage(t){if(!F(t))throw new T(415);return new Promise((n,s)=>{const o=this.current();if(!o)throw new T(415);this.get(t).then(i=>{let u=Object.assign(o,i);We.save("bmob",u),n(i)}).catch(i=>{console.log(i),s(i)})})}save(t={}){if(!Ut(t))throw new T(415);let n=this.setData.id?"PUT":"POST",s=this.setData.id?this.setData.id:"";delete this.setData.id;let o=Object.assign(t,this.setData,this.addArray);return new Promise((i,u)=>{ve(`${this.tableName}/${s}`,n,o).then(a=>{if(this.addArray={},this.setData={},this.className==="_User"){const c=this.current();let f=Object.assign(c,o);We.save("bmob",f)}i(a)}).catch(a=>{u(a)})})}saveAll(t){if(!Oe(t))throw new T(415);if(t.length<1)throw new T(416);let n,s,o="put",i=[];t.map(c=>(n=`/${c.objectId}`,n==="/undefined"&&(n="",o="post"),s={method:o,path:`${this.tableName}${n}`,body:c.setData},i.push(s),c));let u={requests:i},a=lt._config.parameters.BATCH;return ve(a,"POST",u)}withinKilometers(t,{latitude:n,longitude:s},o=100){let i={};return i[t]={$nearSphere:{__type:"GeoPoint",latitude:n,longitude:s},$maxDistanceInKilometers:o},this.location=i,i}withinGeoBox(t,{latitude:n,longitude:s},o){let i={};return i[t]={$within:{$box:[{__type:"GeoPoint",latitude:n,longitude:s},{__type:"GeoPoint",latitude:o.latitude,longitude:o.longitude}]}},this.location=i,i}statTo(t,n){if(!F(t))throw new T(415);return this.stat[t]=n,this.stat}equalTo(t,n,s){if(!F(t))throw new T(415);const i=((u,a,c)=>{let f={},h=null;switch(u==="createdAt"||u==="updateAt"?h={__type:"Date",iso:c}:h=c,a){case"==":f[u]=h;break;case"===":f[u]=h;break;case"!=":f[u]={$ne:h};break;case"<":f[u]={$lt:h};break;case"<=":f[u]={$lte:h};break;case">":f[u]={$gt:h};break;case">=":f[u]={$gte:h};break;default:throw new T(415)}return f})(t,n,s);return Object.keys(this.queryData).length?he(this.queryData.$and)?this.queryData={$and:[this.queryData,i]}:this.queryData.$and.push(i):this.queryData=i,i}containedIn(t,n){if(!F(t)||!Oe(n))throw new T(415);return ht.call(this,t,"$in",n)}notContainedIn(t,n){if(!F(t)||!Oe(n))throw new T(415);return ht.call(this,t,"$nin",n)}exists(t){if(!F(t))throw new T(415);return ht.call(this,t,"$exists",!0)}doesNotExist(t){if(!F(t))throw new T(415);return ht.call(this,t,"$exists",!1)}or(...t){t.map((s,o)=>{if(!Ut(s))throw new T(415)});const n=this.queryData.$and;if(!he(n)){for(let s=0;s<n.length;s++)for(let o=0;o<t.length;o++)JSON.stringify(n[s])===JSON.stringify(t[o])&&this.queryData.$and.splice(s,1);n.length||delete this.queryData.$and}this.orData={$or:t}}and(...t){t.map((n,s)=>{if(!Ut(n))throw new T(415)}),this.andData={$and:t}}limit(t){if(!It(t))throw new T(415);t>1e3&&(t=1e3),this.limitNum=t}skip(t){if(!It(t))throw new T(415);this.skipNum=t}order(...t){t.map(n=>{if(!F(n))throw new T(415)}),this.orders=t.join(",")}include(...t){t.map(n=>{if(!F(n))throw new T(415)}),this.includes=t.join(",")}select(...t){t.map(n=>{if(!F(n))throw new T(415)}),this.keys=t.join(",")}field(t,n){if(!F(t)||!F(n))throw new T(415);this.queryReilation.where={$relatedTo:{object:{__type:"Pointer",className:this.className,objectId:n},key:t}}}relation(t){if(!F(t))throw new T(415);t==="_User"?t="users":t=`classes/${t}`,this.queryReilation.count=1;let n=Object.assign(this.getParams(),this.queryReilation);return new Promise((s,o)=>{ve(`/1/${t}`,"get",n).then(i=>{s(i)}).catch(i=>{o(i)})})}getParams(){let t={};Object.keys(this.queryData).length&&(t.where=this.queryData),Object.keys(this.location).length&&(t.where=Object.assign(this.location,this.queryData)),Object.keys(this.andData).length&&(t.where=Object.assign(this.andData,this.queryData)),Object.keys(this.orData).length&&(t.where=Object.assign(this.orData,this.queryData)),t.limit=this.limitNum,t.skip=this.skipNum,t.include=this.includes,t.order=this.orders,t.keys=this.keys,Object.keys(this.stat).length&&(t=Object.assign(t,this.stat));for(const n in t)(t.hasOwnProperty(n)&&t[n]===null||t[n]===0||t[n]==="")&&delete t[n];return t}find(){let t={},n={};const s=this.getParams(),o=(u,a)=>{if(!u||he(a))throw new T(415);t[u]=a},i=(u="updata")=>{if(console.log(u),n.length<1)throw new T(416);let a,c,f="put",h=[];n.map(w=>(a=`/${w.objectId}`,a==="/undefined"&&(a="",f="post"),c={method:f,path:`${this.tableName}${a}`,body:t},u==="delete"&&(c={method:"DELETE",path:`${this.tableName}${a}`}),h.push(c),w));let m={requests:h},S=lt._config.parameters.BATCH;return ve(S,"POST",m)};return new Promise((u,a)=>{ve(`${this.tableName}`,"get",s).then(c=>{let f=c.results;s.hasOwnProperty("count")&&(f=c),this.init(),Object.defineProperty(f,"set",{value:o}),Object.defineProperty(f,"saveAll",{value:()=>i()}),Object.defineProperty(f,"destroyAll",{value:()=>i("delete")}),n=f,u(f)}).catch(c=>{a(c)})})}count(t=0){const n={};return Object.keys(this.queryData).length&&(n.where=this.queryData),Object.keys(this.andData).length&&(n.where=Object.assign(this.andData,this.queryData)),Object.keys(this.orData).length&&(n.where=Object.assign(this.orData,this.queryData)),n.count=1,n.limit=t,new Promise((s,o)=>{ve(this.tableName,"get",n).then(({count:i})=>{s(i)}).catch(i=>{o(i)})})}};function ht(r,t,n){let s={},o={};o[t]=n,s[r]=o;let i=s;return Object.keys(this.queryData).length?he(this.queryData.$and)?this.queryData={$and:[this.queryData,i]}:this.queryData.$and.push(i):this.queryData=i,i}var wn=ia;const $e=Ue,Je=yn,aa=wn,De=Z,Pe=Ce,{isObject:Ir,isString:pt,isNumber:Fr}=Se,ua=class extends aa{constructor(){const t="_User";super(t)}set(t,n=""){pt(t)&&(this.setData[t]=n)}requestEmailVerify(t){if(!pt(t))throw new Pe(415);this.setData=Object.assign({},{email:t}),console.log(this.setData);const n=De._config.parameters.REQUEST_EMAIL_VERIFY;return $e(n,"post",this.setData)}register(t){if(!Ir(t))throw new Pe(415);this.setData=Object.assign({},t);const n=De._config.parameters.REGISTER;return $e(n,"post",this.setData)}login(t,n){if(!pt(t)||!pt(n))throw new Pe(415);this.setData=Object.assign({},{username:t,password:n});const s=De._config.parameters.LOGIN;return new Promise((o,i)=>{$e(s,"get",this.setData).then(u=>{Je.save("bmob",u),o(u)}).catch(u=>{i(u)})})}logout(){Je.clear()}users(){const t=De._config.parameters.USERS;return $e(t,"get")}decryption(t){let n=this;return new Promise((s,o)=>{const i=t.iv?t.iv:t.detail.iv,u=t.encryptedData?t.encryptedData:t.detail.encryptedData,a=n.current();let c;typeof tt!="undefined"?c=a.authData.toutiao.session_key:typeof qq!="undefined"?c=a.authData.qqapp.session_key:c=a.authData.weapp.session_key;const f={sessionKey:c,encryptedData:u,iv:i},h=De._config.parameters.DECRYPTION;$e(h,"POST",f).then(m=>{s(m)}).catch(m=>{o(m)})})}signOrLoginByMobilePhone(t,n){if(!Fr(t)||!Fr(n))throw new Pe(415);this.setData=Object.assign({},{mobilePhoneNumber:t,smsCode:n});const s=De._config.parameters.LOGIN;return $e(s,"get",this.setData)}requestOpenId(t,n=""){const s=De._config.parameters.WECHAT_APP;return $e(s+t,"POST",{anonymous_code:n})}linkWith(t){let n={authData:t};const s=De._config.parameters.USERSV1;return $e(s,"POST",n)}loginWithWeapp(t,n="",s){return new Promise((o,i)=>{this.requestOpenId(t,n).then(u=>{let a={weapp:u};if(typeof tt!="undefined"&&(delete u.error,a={toutiao:u}),typeof qq!="undefined"&&(delete u.errcode,delete u.errmsg,a={qqapp:u}),s==="openid")o(u);else{const c=this.linkWith(a);o(c)}}).catch(u=>{i(u)})})}upInfo(t){if(!Ir(t))throw new Pe(415);return new Promise((n,s)=>{let o=t.nickName,i=t.avatarUrl,u=this.current();if(!u)throw new Pe(415);let a=Je.fetch("openid");this.get(u.objectId).then(c=>{c.set("nickName",o),c.set("userPic",i),c.set("openid",a),c.save().then(f=>{n(f)}).catch(f=>{console.log(f),s(f)})}).catch(c=>{console.log(c),s(c)})})}openId(){this.auth("openid")}auth(t=""){let n=this;return new Promise((s,o)=>{const i=()=>{wx.login({success:u=>{let a="";typeof tt!="undefined"&&(a=u.anonymousCode),n.loginWithWeapp(u.code,a,t).then(c=>{if(c.error)throw new Pe(415);let f;typeof tt!="undefined"?f=c.authData.toutiao.openid:typeof qq!="undefined"?f=c.authData.qqapp.openid:f=c.authData.weapp.openid,Je.save("openid",f),Je.save("bmob",c),s(c)},function(c){o(c)})}})};wx.checkSession({success:function(){let u=n.current();u===null&&o("\u767B\u9646\u9519\u8BEF\uFF0C\u8BF7\u5728Bmob\u540E\u53F0\u586B\u5199\u5C0F\u7A0B\u5E8FAppSecret\u3002"),s(u),i()},fail:()=>{i()}})})}};var ca=ua;const Ft=Ue;let M=Z;const Ye=Ce,fa=yt;let kr=Et;const la="xxrequire('@system.request')xx",{isString:Mr,isArray:ha}=Se;let Y=[];class pa{constructor(t,n){if(t&&n){if(!Mr(t))throw new Ye(415);Y.push({name:t,route:`${M._config.parameters.FILES}/${t}`,data:n})}}fileUpload(t=""){let n=this;return new Promise((s,o)=>{M.User===void 0&&(M=Z);let i="bmob",u=M.User.current();u&&(i=u.sessionToken);const a=[],c=Math.round(new Date().getTime()/1e3),f=M.utils.randomString();let h=Y[0].route;t==="wxc"&&(h=h.replace(M._config.parameters.FILES,M._config.parameters.FILESCHECK));const m=kr.utf8MD5(h+c+M._config.securityCode+f),S={"content-type":"application/json","X-Bmob-SDK-Type":"wechatApp","X-Bmob-Safe-Sign":m,"X-Bmob-Safe-Timestamp":c,"X-Bmob-Noncestr-Key":f,"X-Bmob-Session-Token":i,"X-Bmob-Secret-Key":M._config.secretKey},w=Object.assign({_ContentType:"text/plain",mime_type:"text/plain",category:"wechatApp",_ClientVersion:"js3.6.1",_InstallationId:"bmob"},S);for(let g of Y){let C=g.route;t==="wxc"&&(C=g.route.replace(M._config.parameters.FILES,M._config.parameters.FILESCHECK)),console.log(g.route,M._config.parameters.FILESCHECK,"ror"),wx.uploadFile({url:M._config.host+C,filePath:g.data,name:"file",header:S,formData:w,success:function(b){let N=JSON.parse(b.data);t==="wxc"?N.msg==="ok"?s(n.fileUpload()):o(N):(a.push(N),a.length===Y.length&&(Y=[],s(a),o(a)))},fail:function(b){a.push(b)}})}})}imgSecCheck(){if(!Y.length)throw new Ye(417);return this.fileUpload("wxc")}save(){if(!Y.length)throw new Ye(417);let t;const n=fa.getAppType();if(n==="h5"||n==="nodejs")t=new Promise((s,o)=>{const i=[];for(let u of Y)Ft(u.route,"post",u.data).then(a=>{i.push(a),i.length===Y.length&&(Y=[],s(i),o(i))}).catch(a=>{i.push(a)})});else if(n==="wx"){if(!Y.length)throw new Ye(417);return this.fileUpload("wx")}else n==="hap"&&(t=new Promise((s,o)=>{M.User===void 0&&(M=Z);let i="bmob",u=M.User.current();u&&(i=u.sessionToken);const a=[],c=Math.round(new Date().getTime()/1e3),f=M.utils.randomString(),h=Y[0].route;console.log("rand",f,M,h);const m=kr.utf8MD5(h+c+M._config.securityCode+f),S={"content-type":"application/json","X-Bmob-SDK-Type":"wechatApp","X-Bmob-Safe-Sign":m,"X-Bmob-Safe-Timestamp":c,"X-Bmob-Noncestr-Key":f,"X-Bmob-Session-Token":i,"X-Bmob-Secret-Key":M._config.secretKey},w=Object.assign({_ContentType:"text/plain",mime_type:"text/plain",category:"wechatApp",_ClientVersion:"js3.6.1",_InstallationId:"bmob"},S);for(let g of Y)la.upload({url:M._config.host+g.route,files:[{uri:g.data,name:"file",filename:g.name}],header:{"X-Bmob-SDK-Type":"wechatApp"},data:w,success:function(C){console.log("handling success"+a);let b=C.data;a.push(b),a.length===Y.length&&(Y=[],s(a),o(a))},fail:function(C,b){console.log(`handling fail, code = ${b}`)}})}));return t}GetUrlRelativePath(t){let n=t.split("//"),s=n[1].indexOf("/"),o=n[1].substring(s);return o.indexOf("?")!=-1&&(o=o.split("?")[0]),o}destroy(t){let n="";if(Mr(t))return n=this.GetUrlRelativePath(t),Ft(`${M._config.parameters.FILES}/upyun/${n}`,"delete");if(ha(t)){const s=[];return t.map(o=>{n=this.GetUrlRelativePath(o),s.push(n)}),Ft(M._config.parameters.DELFILES,"post",{upyun:s})}else throw new Ye(415)}}var da=pa;const ma=Ue,ga=Z,ya=Ce;class wa{weApp(t,n,s){let o=wx.getStorageSync("openid");if(!t||!n||!s||!o)throw new ya(416);let i={order_price:t,product_name:n,body:s,open_id:o,pay_type:4},u=ga._config.parameters.PAY;return ma(u,"post",i)}}var va=wa;const xr=Ce,ba={setup(r){let t=[];Object.assign(r,{on(n,s){typeof s=="function"&&t.push([n,s])},emit(n,...s){t.forEach(([o,i])=>n===o&&i(...s))},removeAllListeners(){t=[]}})}};var Sa=class{constructor(t=""){if(t==="")throw new xr(415);this.config={host:"wss.bmobcloud.com"},ba.setup(this.emitter={}),this.applicationId=t,this.initialize()}handshake(){function t(u){if(u instanceof xr)self.connecting=!1,self.onError(u.message);else return u.split(":")[0]}let n="https://"+this.config.host+"/socket.io/1/?t="+new Date().getTime(),s={},o=JSON.stringify(s),i="GET";return new Promise((u,a)=>{wx.request({method:i,url:n,data:o,header:{"content-type":"text/plain"},success:function(c){return c.data&&c.data.statusCode||c.statusCode!==200?u("request error",e):u(t(c.data))},fail:function(c){return u("request error",c)}})})}initialize(){return this.emitter.removeAllListeners(),this.handshake().then(t=>{try{let n=this.connect(`wss://${this.config.host}/socket.io/1/websocket/`+t,{});console.log(n,"connectObj"),n.then(s=>{console.log(s,"res-res")})}catch(n){throw console.error({connectError:n}),n}}),this.on("close",()=>{console.log("\u8FDE\u63A5\u5DF2\u4E2D\u65AD"),setTimeout(()=>this.initialize(),5e3)}),new Promise((t,n)=>{this.on("server_pub",s=>{switch(s.action){case"updateTable":this.onUpdateTable(s.tableName,s.data);break;case"updateRow":this.onUpdateRow(s.tableName,s.objectId,s.data);break;case"deleteTable":this.onDeleteTable(s.tableName,s.data);break;case"deleteRow":this.onDeleteRow(s.tableName,s.objectId,s.data);break}}),this.on("client_send_data",s=>{this.onInitListen()})})}onInitListen(){}connect(t,n){const s=Object.keys(n).map(i=>`${i}=${encodeURIComponent(n[i])}`).join("&"),o=t.indexOf("?")>-1?"&":"?";return t=[t,s].join(o),new Promise((i,u)=>{wx.onSocketOpen(i),wx.onSocketError(u),wx.onSocketMessage(a=>{try{let c=function(g){const{name:C,args:b}=JSON.parse(g);return{name:C,args:b}},f=a.data;if(f.slice(0,4)==="2:::"&&this.emit(!1,!0),f=f.slice(4),f===null||f==="")return;const{name:m,args:S}=c(f);let w=S==null?"":JSON.parse(S[0]);this.emitter.emit(m,w)}catch(c){console.log("Handle packet failed: "+a.data,c)}}),wx.onSocketClose(()=>this.emitter.emit("close")),wx.connectSocket({url:t,header:n})})}on(t,n){this.emitter.on(t,n)}emit(t,n){n=n===void 0?"5:::":"2:::",t=t?JSON.stringify(t):"",wx.sendSocketMessage({data:n+t})}emitData(t,n){return n=JSON.stringify(n),{name:t,args:[n]}}updateTable(t){let n={appKey:this.applicationId,tableName:t,objectId:"",action:"updateTable"};n=this.emitData("client_sub",n),this.emit(n)}unsubUpdateTable(t){let n={appKey:this.applicationId,tableName:t,objectId:"",action:"unsub_updateTable"};n=this.emitData("client_unsub",n),this.emit(n)}updateRow(t,n){let s={appKey:this.applicationId,tableName:t,objectId:n,action:"updateRow"};s=this.emitData("client_sub",s),this.emit(s)}unsubUpdateRow(t,n){let s={appKey:this.applicationId,tableName:t,objectId:n,action:"unsub_updateRow"};s=this.emitData("client_unsub",s),this.emit(s)}deleteTable(t){let n={appKey:this.applicationId,tableName:t,objectId:"",action:"deleteTable"};n=this.emitData("client_sub",n),this.emit(n)}unsubDeleteTable(t){let n={appKey:this.applicationId,tableName:t,objectId:"",action:"unsub_deleteTable"};n=this.emitData("client_unsub",n),this.emit(n)}deleteRow(t,n){let s={appKey:this.applicationId,tableName:t,objectId:n,action:"deleteRow"};s=this.emitData("client_sub",s),this.emit(s)}unsubDeleteRow(t,n){let s={appKey:this.applicationId,tableName:t,objectId:n,action:"unsub_deleteRow"};s=this.emitData("client_unsub",s),this.emit(s)}onUpdateTable(t,n){}onUpdateRow(t,n,s){}onDeleteTable(t,n){}onDeleteRow(t,n,s){}};const ae=Ue,ue=Z,Q=Ce,{isObject:Te,isString:At}=Se,_a=r=>{if(!Te(r))throw new Q(415);let t=ue._config.parameters.GENERATECODE;return ae(t,"post",r)},Ca=r=>{if(!Te(r))throw new Q(415);let t=ue._config.parameters.MEDIACHECKASYNC;return ae(t,"post",r)},Ea=()=>{let r=ue._config.parameters.GETACCESSTOKEN;return ae(r,"get")},Aa=r=>{if(!Te(r))throw new Q(415);let t=ue._config.parameters.SENDWEAPPMESSAGE;return ae(t,"post",r)},Oa=r=>{if(!Te(r))throw new Q(415);let t=ue._config.parameters.REFUND;return ae(t,"post",r)},$a=r=>{if(!Te(r))throw new Q(415);let t=ue._config.parameters.NOTIFYMSG;return ae(t,"post",r)},Da=r=>{if(!Te(r))throw new Q(415);let t=ue._config.parameters.REQUESTPASSWORDRESET;return ae(t,"post",r)},Ra=(r,t)=>{if(!At(r))throw new Q(415);let n=`${ue._config.parameters.RESETPASSWORDBYSMSCODE}/${r}`;return ae(n,"put",t)},qa=(r,t)=>{if(!Te(t)||!At(r))throw new Q(415);let n=`${ue._config.parameters.UPDATEUSERPASSWORD}/${r}`;return ae(n,"put",t)},Ta=r=>{if(!At(r))throw new Q(415);let t=`${ue._config.parameters.CHECK_MSG}`;return ae(t,"post",{content:r})},ja=()=>{let r=ue._config.parameters.TIMESTAMP;return ae(r,"get")},Pa=r=>{if(!Te(r))throw new Q(415);let t=ue._config.parameters.PUSH;return ae(t,"post",r)},Ba=(r,t)=>{if(t||(t={}),!At(r))throw new Q(415);const n=`${ue._config.parameters.FUNCTIONS}/${r}`;return new Promise((s,o)=>{ae(n,"post",t).then(({result:i})=>{try{s(JSON.parse(i))}catch{s(i)}}).catch(i=>{o(i)})})},Na=({latitude:r,longitude:t})=>(((s,o)=>{if(s<-90)throw new Q(419);if(s>90)throw new Q(419);if(o<-180)throw new Q(419);if(o>180)throw new Q(419);return{latitude:s,longitude:o}})(r,t),{__type:"GeoPoint",latitude:r,longitude:t});var Ua={generateCode:_a,getAccessToken:Ea,sendWeAppMessage:Aa,refund:Oa,notifyMsg:$a,functions:Ba,timestamp:ja,requestPasswordReset:Da,resetPasswordBySmsCode:Ra,updateUserPassword:qa,geoPoint:Na,checkMsg:Ta,mediaCheckAsync:Ca,push:Pa};const vn=Ue,bn=Z,Qt=Ce,{isObject:Sn,isString:Ia}=Se,Fa=(r,t)=>{if(!Sn(r))throw new Qt(415);let n=bn._config.parameters.REQUESTSMSCODE;return vn(n,"post",r)},ka=(r,t,n)=>{if(!Ia(r))throw new Qt(415);if(!Sn(t))throw new Qt(415);let s=`${bn._config.parameters.VERIFYSMSCODE}/${r}`;return vn(s,"post",t)};var Ma={requestSmsCode:Fa,verifySmsCode:ka};const R=Z,xa=Jn,La=Zn,Ka=wn,Ha=ca,za=da,Va=va,Xa=Sa,{generateCode:Ga,mediaCheckAsync:Wa,getAccessToken:Ja,sendWeAppMessage:Ya,refund:Qa,notifyMsg:Za,functions:eu,timestamp:tu,requestPasswordReset:ru,resetPasswordBySmsCode:nu,updateUserPassword:su,geoPoint:ou,checkMsg:iu,push:au}=Ua,{requestSmsCode:uu,verifySmsCode:cu}=Ma;R.GeoPoint=ou;R.generateCode=Ga;R.mediaCheckAsync=Wa;R.getAccessToken=Ja;R.sendWeAppMessage=Ya;R.refund=Qa;R.checkMsg=iu;R.notifyMsg=Za;R.requestSmsCode=uu;R.verifySmsCode=cu;R.run=R.functions=eu;R.timestamp=tu;R.requestPasswordReset=ru;R.resetPasswordBySmsCode=nu;R.updateUserPassword=su;R.push=au;R.Pay=new Va;R.User=new Ha;R.Socket=r=>new Xa(r);R.Query=r=>new Ka(r);R.File=(r,t)=>new za(r,t);R.request=Ue;R.type=R.utils.getAppType();R.Pointer=r=>new xa(r);R.Relation=r=>new La(r);R.type==="wx"?typeof tt!="undefined"?tt.Bmob=R:wx.Bmob=R:(R.type==="h5"||R.type==="hap"||R.type==="nodejs")&&(window.Bmob=R);var fu=R,Zt=fu,lu=function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("div",{staticClass:"list"},[r.title?n("div",{staticClass:"header",on:{click:r.headerClick}},[n("span",{staticClass:"title"},[r._v(r._s(r.title))]),n("span",{staticClass:"more"},[r._v("\u66F4\u591A")])]):r._e(),n("div",{staticClass:"numInfo"},[r._v(" "+r._s(this.dataList.filter(function(s){return s.play_url_data?[".m3u8",".mp4"].some(function(o){return JSON.stringify(s.play_url_data).includes(o)}):s.isvip!=1}).length)+"/"+r._s(r.dataList.length)+" ")]),n("div",{staticClass:"items"},r._l(r.list,function(s,o){return n("div",{key:o+s.vodid,staticClass:"item",class:{itemMin:r.isMin},on:{click:function(i){return r.itemClick(s)}}},[r.vodid==s.vodid&&r.videoUrl?n("video",{ref:"video"+s.vodid,refInFor:!0,staticClass:"video bananaListVideo",class:{videoMin:r.isMin},attrs:{controls:"controls",playsinline:"",autoplay:"",title:s.title,poster:s.coverpic,"picture-in-picture-mode":["push","pop"],src:r.videoUrl}}):n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.coverpic,expression:"item.coverpic"}],staticClass:"image",class:{imagemMin:r.isMin},attrs:{mode:"aspectFit"},on:{load:function(i){return r.loadImage(s,i)}}}),n("span",{on:{click:function(i){i.stopPropagation(),r.isShow=!0,r.currentItem=s}}},[r._v(r._s(s.title||s.catename)+" "+r._s(r.showVideoState(s)))]),n("div",{staticClass:"tips"},[s.isvip==1||s.play_url_data&&s.play_url_data.errmsg&&s.play_url_data.retcode!=5?n("span",{staticClass:"isvip"},[r._v(r._s(s.play_url_data&&s.play_url_data.errmsg&&s.play_url_data.retcode!=3?s.play_url_data.errmsg:s.isvip==1?"vip":""))]):r._e(),s.definition>0&&!r.showKey?n("span",{staticClass:"definition"},[r._v(r._s(s.definition))]):r._e(),!r.isMin&&!r.showKey?n("span",{staticClass:"updatetime"},[r._v(r._s(s.updatetime))]):r._e(),r.showKey?r._e():n("span",{staticClass:"upnum"},[r._v(r._s(s.upnum))]),r.showKey?r._e():n("span",{staticClass:"scorenum"},[r._v(r._s(s.scorenum))]),r.showKey?r._e():n("span",{staticClass:"duration"},[r._v(r._s(s.duration))]),r.showKey&&s.retcode_v==3?n("span",{staticClass:"duration"},[r._v(r._s("\u9884\u89C8"))]):r._e(),r.showKey?n("span",{staticClass:"duration"},[r._v(r._s(s[r.showKey]))]):r._e()])])}),0),n("van-action-sheet",{attrs:{actions:r.actions,"cancel-text":"Cancel"},on:{select:r.onSelect},model:{value:r.isShow,callback:function(s){r.isShow=s},expression:"isShow"}})],1)},hu=[];Zt.initialize(mt.bananaBomb.secretKey,mt.bananaBomb.userKey);const pu={props:{dataList:{default:()=>[]},info:{default:()=>({})},title:{default:""},isMin:{default:!1},showKey:{default:""}},data(){return{vodid:"",videoUrl:"",loading:"",isLoading:!1,isShow:!1,actions:[{name:"Like"},{name:"Unlike"},,{name:"Copy"}],currentItem:{}}},computed:{list(){return this.dataList.filter(r=>this.$store.state.banana.isVipShow||(r.play_url_data?[".m3u8",".mp4"].some(t=>JSON.stringify(r.play_url_data).includes(t)):r.isvip!=1)).map(r=>(console.log("change"),this.$store.state.banana.checkedChange?{...r,title:"title",coverpic:"https://demo.internal.cloudpivot.cn/favicon.ico"}:r))}},watch:{dataList(r){this.updateItem()}},methods:{updateItem(){this.dataList.forEach(r=>{r.url=this.gerBVInfo()[r.vodid]||r.url||"",r.intro=r.url})},headerClick(){this.info.spid?this.$router.push({path:"./detail?spid="+this.info.spid}):this.$router.push({path:"./class"})},showVideoState(r){let t=r.intro||r.url;return t?t===5?"vip":t.startsWith&&t.startsWith("http")?"ok":"..":".."},loadImage(r,t){let n=t.target||t.path[0];n.src&&n.src.startsWith("http")&&this.itemClick(r,!0)},setBVInfo(r,t){let n=t.data.data.httpurl||t.data.data.httpurl_preview||t.data.retcode,s={};try{s=JSON.parse(localStorage.BVInfo)}catch{}s[r.vodid]=n,r.url=n,r.intro=n,localStorage.BVInfo=JSON.stringify(s),this.updateItem()},gerBVInfo(){try{return JSON.parse(localStorage.BVInfo)}catch{return{}}},itemClick(r,t){let n=r.url;if(n&&String(n).startsWith("http")){t||(this.videoUrl=n,this.vodid=r.vodid,this.hideOtherVideo(),document&&(document.title=r.title));return}else if(n){t||this.$toast(r.play_url_data?r.play_url_data.errmsg:n);return}t||(this.loading&&this.loading.hide(),this.loading=weui.loading()),r.vodid!=this.vodid&&(this.isLoading=!0,this.$axios({url:mt.origin+r.play_url,params:mt.query()}).then(s=>{this.isLoading=!1,this.setBVInfo(r,s),t||(this.loading&&this.loading.hide(),console.log("success",s),s.data.data.httpurl?(this.videoUrl=s.data.data.httpurl,this.vodid=r.vodid,this.hideOtherVideo()):s.data.data.httpurl_preview?(this.videoUrl=s.data.data.httpurl_preview,this.vodid=r.vodid,this.hideOtherVideo()):this.$toast(s.data.errmsg||"fail"),document&&(document.title=r.title))}).catch(s=>{t||(this.loading&&this.loading.hide(),this.$toast(s.message||"fail"))}))},hideOtherVideo(){setTimeout(()=>{this.$refs["video"+this.vodid][0].play();let r=new Array(...document.querySelectorAll(".bananaListVideo")).filter(t=>t.src!=this.videoUrl).forEach(t=>{t.pause(),t.parentElement.parentElement.parentElement.__vue__.vodid="",t.parentElement.parentElement.parentElement.__vue__.videoUrl=""});console.log(r)})},async onSelect(r){let t={title:this.currentItem.title,url:(this.currentItem.url||this.videoUrl)+"",coverpic:this.currentItem.coverpic};if(r.name=="Like"){let n=weui.loading();const s=Zt.Query("Like");if(!t.url){this.$toast("params.url fail");return}s.save(t).then(o=>{o.objectId?this.$toast("Success",o.objectId):this.$toast(o.error||"fail"),this.isShow=!1,n.hide()}).catch(o=>{this.$toast(o.error||"fail"),this.isShow=!1,n.hide()})}else if(r.name=="Unlike"){let n=weui.loading();const s=Zt.Query("Like");let o={url:(this.currentItem.url||this.videoUrl)+""};s.equalTo("url","==",o.url),s.find().then(i=>{i.length?s.destroy(i[0].objectId).then(u=>{this.$toast("Success "+u.msg),this.isShow=!1,n.hide()}).catch(u=>{this.$toast(u.error||"fail"),this.isShow=!1,n.hide()}):(this.isShow=!1,n.hide(),this.$toast("Not exist"))}).catch(i=>{this.$toast(i.error||"fail"),this.isShow=!1,n.hide()})}else r.name=="Copy"&&(t.url&&du(t.url),this.$toast("Success opy"),this.isShow=!1)}},destroyed(){this.loading&&this.loading.hide()},deactivated(){console.log("deactivated"),this.loading&&this.loading.hide()}};function du(r){var t=document.createElement("input");t.value=r,document.body.appendChild(t),t.select(),document.execCommand("Copy"),t.remove(),console.log("copy")}const Lr={};var mu=En(pu,lu,hu,!1,gu,"39c32e08",null,null);function gu(r){for(let t in Lr)this[t]=Lr[t]}var Eu=function(){return mu.exports}();export{Eu as default};
