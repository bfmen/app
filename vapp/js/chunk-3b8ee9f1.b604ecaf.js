(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b8ee9f1"],{"11e7":function(t,e,i){},"1e06":function(t,e,i){},"30de":function(t,e,i){"use strict";var a=i("9593"),s=i.n(a);s.a},"4de4":function(t,e,i){"use strict";var a=i("23e7"),s=i("b727").filter,n=i("1dde"),r=i("ae40"),o=n("filter"),c=r("filter");a({target:"Array",proto:!0,forced:!o||!c},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("a4d3"),i("4de4"),i("4160"),i("e439"),i("dbb4"),i("b64b"),i("159b");function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}},"58ea":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},[t.title?i("div",{staticClass:"header",on:{click:t.headerClick}},[i("span",{staticClass:"title"},[t._v(t._s(t.title))]),i("span",{staticClass:"more"},[t._v("更多")])]):t._e(),i("div",{staticClass:"items"},t._l(t.dataList,(function(e,a){return i("div",{key:a+e.vodid,staticClass:"item",class:{itemMin:t.isMin},on:{click:function(i){return t.itemClick(e,a)}}},[t.vodid==e.vodid&&t.videoUrl?i("video",{staticClass:"video",class:{videoMin:t.isMin},attrs:{controls:"controls",playsinline:"",autoplay:"",title:e.title,poster:e.coverpic,"picture-in-picture-mode":["push","pop"],src:t.videoUrl}}):i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.coverpic,expression:"item.coverpic"}],staticClass:"image",class:{imagemMin:t.isMin},attrs:{mode:"aspectFit"}}),i("span",[t._v(t._s(e.title||e.catename))]),i("div",{staticClass:"tips"},[1==e.isvip?i("span",{staticClass:"isvip"},[t._v(t._s(1==e.isvip?"vip":""))]):t._e(),e.definition>0?i("span",{staticClass:"definition"},[t._v(t._s(e.definition))]):t._e(),t.isMin?t._e():i("span",{staticClass:"updatetime"},[t._v(t._s(e.updatetime))]),i("span",{staticClass:"upnum"},[t._v(t._s(e.upnum))]),i("span",{staticClass:"scorenum"},[t._v(t._s(e.scorenum))]),i("span",{staticClass:"duration"},[t._v(t._s(e.duration))])])])})),0)])},s=[],n=i("f71c"),r={props:{dataList:{default:function(){return[]}},info:{default:function(){return{}}},title:{default:""},isMin:{default:!1}},data:function(){return{vodid:"",videoUrl:""}},methods:{headerClick:function(){this.info.spid?this.$router.push({path:"./detail?spid="+this.info.spid}):this.$router.push({path:"./class"})},itemClick:function(t){var e=this;t.vodid!=this.vodid&&this.$axios({url:n["a"].origin+t.play_url,params:n["a"].query()}).then((function(i){console.log("success",i),i.data.data.httpurl?(e.videoUrl=i.data.data.httpurl,e.vodid=t.vodid):i.data.data.httpurl_preview?(e.videoUrl=i.data.data.httpurl_preview,e.vodid=t.vodid):weui.topTips(i.data.errmsg||"fail"),document&&(document.title=t.title)})).catch((function(t){weui.topTips(t.message||"fail")}))}}},o=r,c=(i("a551"),i("2877")),d=Object(c["a"])(o,a,s,!1,null,"01709375",null);e["a"]=d.exports},"8e40":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tagSelect"},t._l(t.dataSource.items,(function(e,a){return i("div",{key:a,staticClass:"item",class:{selected:e.id==t.dataSource.id},on:{click:function(e){return t.tagClick(a)}}},[t._v(" "+t._s(e.catename||e.areaname||e.yearname||e.value||e.title)+" ")])})),0)},s=[],n={props:{dataSource:{default:function(){return{}}}},data:function(){return{idx:0}},methods:{tagClick:function(t){this.idx=t,this.$emit("tagClick",t)}}},r=n,o=(i("ca2d"),i("2877")),c=Object(o["a"])(r,a,s,!1,null,"2907b36c",null);e["a"]=c.exports},9593:function(t,e,i){},a551:function(t,e,i){"use strict";var a=i("1e06"),s=i.n(a);s.a},b64b:function(t,e,i){var a=i("23e7"),s=i("7b0b"),n=i("df75"),r=i("d039"),o=r((function(){n(1)}));a({target:"Object",stat:!0,forced:o},{keys:function(t){return n(s(t))}})},ca2d:function(t,e,i){"use strict";var a=i("11e7"),s=i.n(a);s.a},dbb4:function(t,e,i){var a=i("23e7"),s=i("83ab"),n=i("56ef"),r=i("fc6a"),o=i("06cf"),c=i("8418");a({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(t){var e,i,a=r(t),s=o.f,d=n(a),u={},l=0;while(d.length>l)i=s(a,e=d[l++]),void 0!==i&&c(u,e,i);return u}})},e30f:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"class"},[t._l(t.tags,(function(e,a){return i("tagSelect",{key:a,ref:"tagSelect"+a,refInFor:!0,attrs:{dataSource:e},on:{tagClick:function(e){return t.tagClick(a,arguments)}}})})),i("list",{attrs:{dataList:t.vodrows}}),t.dataSource.action?i("infinite-loading",{ref:"infiniteLoading",on:{infinite:t.infinite}}):t._e()],2)},s=[],n=(i("99af"),i("4160"),i("a15b"),i("d81d"),i("159b"),i("5530")),r=i("f71c"),o=i("58ea"),c=i("8e40"),d={components:{list:o["a"],tagSelect:c["a"]},data:function(){return{page:1,vodrows:[],dataSource:{params:{},action:""},classList:[{key:"categories",query:"cateid",id:0},{key:"areas",query:"areaid",id:0},{key:"years",query:"yearid",id:0},{key:"definitions",query:"definition",id:0},{key:"durations",query:"duration",id:0},{key:"freetypes",query:"freetype",id:0},{key:"mosaics",query:"mosaic",id:0},{key:"langvoices",query:"langvoice",id:0},{key:"orders",query:"order",id:0}]}},computed:{tags:function(){var t=this,e=[];return this.classList.forEach((function(i){var a=t.dataSource[i.key];a&&e.push({items:[{id:0,title:"全部"}].concat(a.map((function(t){var e=t.keyid||t.cateid||t.areaid||t.yearid;return Object(n["a"])(Object(n["a"])({},t),{},{id:e})}))),id:i.id})})),e}},created:function(){this.loadBaseData()},methods:{tagClick:function(t,e){var i=0;i=e?e[0]:this.$refs["tagSelect"+t][0].idx,this.classList[t].id=this.tags[t].items[i].id},itemClick:function(t){t.spid&&uni.navigateTo({url:"./detail?spid="+t.spid})},infinite:function(t){console.log("onReachBottom"),this.loadPageData(this.page+1,t)},loadBaseData:function(){var t=this;this.$axios.request({url:r["a"].origin+"/vod/recommend",params:r["a"].query()}).then((function(e){console.log("success",e),200==e.status&&0==e.data.retcode?t.dataSource=e.data.data:weui.topTips(e.data.errmsg||e.statusCode||"fail")})).catch((function(t){weui.topTips(t.message||"fail")}))},loadPageData:function(t,e){var i=this;this.$axios.request({url:r["a"].origin+"/vod/listing-"+this.classList.map((function(t){return t.id})).join("-")+"-"+this.page,params:r["a"].query()}).then((function(a){console.log("success",a),e&&e.loaded(),200==a.status&&0==a.data.retcode?(i.page=t,1==i.page?i.vodrows=a.data.data.vodrows:i.vodrows=i.vodrows.concat(a.data.data.vodrows)):weui.topTips(a.data.errmsg||a.statusCode||"fail")})).catch((function(t){e&&e.loaded(),weui.topTips(t.message||"fail")}))}},watch:{classList:{deep:!0,handler:function(t){console.log("classList",t),this.page=1,this.vodrows=[],this.loadPageData(this.page)}}}},u=d,l=(i("30de"),i("2877")),f=Object(l["a"])(u,a,s,!1,null,"0af22926",null);e["default"]=f.exports},e439:function(t,e,i){var a=i("23e7"),s=i("d039"),n=i("fc6a"),r=i("06cf").f,o=i("83ab"),c=s((function(){r(1)})),d=!o||c;a({target:"Object",stat:!0,forced:d,sham:!o},{getOwnPropertyDescriptor:function(t,e){return r(n(t),e)}})},f71c:function(t,e,i){"use strict";var a="https:",s="6jwti3892pf605m004mn.lagoapps.com",n=a+"//"+s,r={device:"iPhone 7 13.4 1.0",s_device_id:"374B5729-7F3F-4C8F-B6DE-80FF0A333633",s_os_version:"13.4",s_platform:"ios",_t:"1587401036000"};e["a"]={protocol:a,host:s,origin:n,home:n+"/index",query:function(){return Object.assign(r,{_t:(new Date).valueOf()})}}}}]);
//# sourceMappingURL=chunk-3b8ee9f1.b604ecaf.js.map