(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d069f66"],{a00b:function(t,e,o){"use strict";var i=o("e3de"),s=o.n(i);s.a},bfbb:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("video",{ref:"video",staticClass:"video",attrs:{controls:"controls",playsinline:"",autoplay:"",src:t.currentItem&&t.currentItem.videoUrl,poster:t.currentItem&&t.currentItem.vodrow.coverpic}}),o("cube-slide",{ref:"slide",staticClass:"swiper",attrs:{direction:"direction",autoPlay:!1,loop:!1,options:t.options,data:t.rows},on:{change:t.changePage}},t._l(t.rows,(function(e,i){return o("cube-slide-item",{key:i,staticClass:"swiperItem",nativeOn:{click:function(o){return t.clickHandler(e,i)}}},[Math.abs(i-t.current)<2?o("div",[o("div",{ref:"content"+i,refInFor:!0,staticClass:"content"},[o("img",{style:t.current==i?"filter: blur(10px);":"",attrs:{src:e.vodrow.coverpic}})]),t.isShowMask?o("div",{staticClass:"mask",on:{click:t.tipClick}},[o("div",[t._v("@"+t._s(e.user.nickname))]),o("div",[t._v(t._s(e.vodrow.title))]),o("div",[t._v(t._s(e.vodrow.updatetime))])]):t._e()]):t._e()])})),1)],1)},s=[],a=(o("99af"),o("d81d"),o("f71c")),n={data:function(){return{rows:[],current:0,isShowMask:!0,options:{scrollY:!0}}},computed:{currentItem:function(){return this.rows.length>0?this.rows[this.current]:null}},created:function(){console.log("created banana"),this.loadData(!0)},mounted:function(){},methods:{loadData:function(t){var e=this;this.$axios.request({url:a["a"].origin+"/minivod/reqlist",params:a["a"].query()}).then((function(o){if(console.log("success",o),200==o.status&&0==o.data.retcode){var i=[];o.data.data.rows.map((function(t){t.vodrow&&t.vodrow.vodid&&(t.videoUrl="",i.push(t))})),e.rows=t?i:e.rows.concat(i),t&&e.changePage(0)}else weui.topTips(o.data.errmsg||o.statusCode||"fail")})).catch((function(t){weui.topTips(t.message||"fail")}))},clickHandler:function(t,e){this.isShowMask=!this.isShowMask},tipClick:function(t){this.$refs.video.play(),this.isShowMask=!this.isShowMask,t.stopPropagation()},changePage:function(t){var e=this,o=this.rows[t],i=o.vodrow.vodid;console.log("swiperChange",t,o),document&&(document.title=o.vodrow.title),this.current=t,this.$axios.request({url:a["a"].origin+"/minivod/reqplay/"+i,params:a["a"].query()}).then((function(o){console.log("success",o);var i=o.data.data.httpurl||o.data.data.httpurl_preview;i?(console.log(i),e.rows[t].videoUrl=i,setTimeout((function(){e.$refs["content"+e.current][0].appendChild(e.$refs.video),e.$refs.video.play()}),20)):weui.topTips(o.data.errmsg||o.statusCode||"fail")})).catch((function(t){weui.topTips(t.message||"fail")})),t==this.rows.length-1&&this.loadData()}}},r=n,c=(o("a00b"),o("2877")),u=Object(c["a"])(r,i,s,!1,null,"5b939ce6",null);e["default"]=u.exports},e3de:function(t,e,o){},f71c:function(t,e,o){"use strict";var i="https:",s="6jwti3892pf605m004mn.lagoapps.com",a=i+"//"+s,n={device:"iPhone 7 13.4 1.0",s_device_id:"374B5729-7F3F-4C8F-B6DE-80FF0A333633",s_os_version:"13.4",s_platform:"ios",_t:"1587401036000"};e["a"]={protocol:i,host:s,origin:a,home:a+"/index",query:function(){return Object.assign(n,{_t:(new Date).valueOf()})}}}}]);
//# sourceMappingURL=chunk-6d069f66.90f587a9.js.map