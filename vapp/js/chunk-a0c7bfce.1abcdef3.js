(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a0c7bfce"],{1455:function(t,e,o){},"3fb6":function(t,e,o){"use strict";var s=o("1455"),i=o.n(s);i.a},bfbb:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("video",{ref:"video",staticClass:"video",attrs:{controls:"controls",playsinline:"",autoplay:"",src:t.currentItem&&t.currentItem.videoUrl,poster:t.currentItem&&t.currentItem.vodrow.coverpic}}),o("cube-slide",{ref:"slide",staticClass:"swiper",attrs:{direction:"direction",autoPlay:!1,loop:!1,options:t.options,data:t.rows},on:{change:t.changePage}},t._l(t.rows,(function(e,s){return o("cube-slide-item",{key:s,staticClass:"swiperItem",nativeOn:{click:function(o){return t.clickHandler(e,s)}}},[o("div",{ref:"content"+s,refInFor:!0,staticClass:"content"},[o("img",{style:t.current==s?"filter: blur(10px);":"",attrs:{src:e.vodrow.coverpic}})]),t.isShowMask?o("div",{staticClass:"mask",on:{click:t.tipClick}},[o("div",[t._v("@"+t._s(e.user.nickname))]),o("div",[t._v(t._s(e.vodrow.title))]),o("div",[t._v(t._s(e.vodrow.updatetime))])]):t._e()])})),1)],1)},i=[],n=(o("99af"),o("d81d"),o("f71c")),a={data:function(){return{rows:[],current:0,isShowMask:!0,options:{scrollY:!0}}},computed:{currentItem:function(){return this.rows.length>0?this.rows[this.current]:null}},created:function(){console.log("created banana"),this.loadData(!0)},mounted:function(){},methods:{loadData:function(t){var e=this;this.$axios.request({url:n["a"].origin+"/minivod/reqlist",params:n["a"].query(),success:function(t){console.log("success",t),t.data.retcode},fail:function(t){console.log("fail",t)}}).then((function(o){if(console.log("success",o),200==o.status&&0==o.data.retcode){var s=[];o.data.data.rows.map((function(t){t.vodrow&&t.vodrow.vodid&&(t.videoUrl="",s.push(t))})),e.rows=t?s:e.rows.concat(s),t&&e.changePage(0)}else weui.topTips(o.data.errmsg||o.statusCode||"fail")})).catch((function(t){weui.topTips(t.message||"fail")}))},clickHandler:function(t,e){this.isShowMask=!this.isShowMask},tipClick:function(t){this.$refs.video.play(),this.isShowMask=!this.isShowMask,t.stopPropagation()},changePage:function(t){var e=this,o=this.rows[t],s=o.vodrow.vodid;console.log("swiperChange",t,o),document&&(document.title=o.vodrow.title),this.current=t,this.$axios.request({url:n["a"].origin+"/minivod/reqplay/"+s,params:n["a"].query()}).then((function(o){console.log("success",o);var s=o.data.data.httpurl||o.data.data.httpurl_preview;s?(console.log(s),e.rows[t].videoUrl=s,setTimeout((function(){e.$refs["content"+e.current][0].appendChild(e.$refs.video),e.$refs.video.play()}),20)):weui.topTips(o.data.errmsg||o.statusCode||"fail")})).catch((function(t){weui.topTips(t.message||"fail")})),t==this.rows.length-1&&this.loadData()}}},r=a,c=(o("3fb6"),o("2877")),l=Object(c["a"])(r,s,i,!1,null,"580cc8c1",null);e["default"]=l.exports},f71c:function(t,e,o){"use strict";var s="https:",i="6jwti3892pf605m004mn.lagoapps.com",n=s+"//"+i,a={device:"iPhone 7 13.4 1.0",s_device_id:"374B5729-7F3F-4C8F-B6DE-80FF0A333633",s_os_version:"13.4",s_platform:"ios",_t:"1587401036000"};e["a"]={protocol:s,host:i,origin:n,home:n+"/index",query:function(){return Object.assign(a,{_t:(new Date).valueOf()})}}}}]);
//# sourceMappingURL=chunk-a0c7bfce.1abcdef3.js.map