(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ca26e04"],{bfbb:function(t,i,o){"use strict";o.r(i);var e=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{ref:"scroll",staticClass:"scroll",on:{scroll:t.scroll,touchend:t.touchend}},[o("video",{ref:"video",staticClass:"video",attrs:{controls:"controls",playsinline:"",autoplay:"",src:t.currentItem&&t.currentItem.videoUrl,poster:t.currentItem&&t.currentItem.vodrow.coverpic}}),t._l(t.rows,(function(i,e){return o("div",{key:e,ref:"index"+e,refInFor:!0,staticClass:"swiperItem",on:{click:function(o){return t.clickHandler(i,e)}}},[Math.abs(e-t.current)<3?o("div",{staticClass:"itemContent"},[o("div",{ref:"content"+e,refInFor:!0,staticClass:"content"},[o("img",{style:t.current==e?"filter: blur(20px);":"",attrs:{src:i.vodrow.coverpic}})]),t.isShowMask?o("div",{staticClass:"mask",on:{click:t.tipClick}},[o("div",[t._v("@"+t._s(i.user.nickname))]),o("div",[t._v(t._s(i.vodrow.title))]),o("div",[t._v(t._s(i.vodrow.updatetime))])]):t._e()]):t._e()])}))],2)},s=[],r=(o("d81d"),o("f71c")),n={data:function(){return{rows:[],current:0,isShowMask:!0,options:{scrollY:!0},isVideoLoading:!1,isMoreLoading:!1}},computed:{currentItem:function(){return this.rows.length>0?this.rows[this.current]:null}},created:function(){console.log("created banana"),this.loadData(!0)},mounted:function(){},methods:{scroll:function(t){var i=this.$refs.scroll.scrollTop,o=this.$refs.scroll.clientHeight,e=Math.round(i/o);this.changePage(e)},touchend:function(t){},loadData:function(t){var i=this;this.isMoreLoading=!0,this.$axios.request({url:r["a"].origin+"/minivod/reqlist",params:r["a"].query()}).then((function(o){if(i.isMoreLoading=!1,console.log("success",o),200==o.status&&0==o.data.retcode){var e=[];o.data.data.rows.map((function(t){t.vodrow&&t.vodrow.vodid&&(t.videoUrl="",e.push(t))})),t?(i.rows=e,i.changePage(0)):i.rows.push(e[0])}else weui.topTips(o.data.errmsg||o.statusCode||"fail")})).catch((function(t){i.isMoreLoading=!1,weui.topTips(t.message||"fail")}))},clickHandler:function(t,i){this.isShowMask=!this.isShowMask},tipClick:function(t){this.$refs.video.play(),this.isShowMask=!this.isShowMask,t.stopPropagation()},changePage:function(t){var i=this,o=this.rows[t],e=o.vodrow.vodid;document&&(document.title=o.vodrow.title),this.current=t,o.videoUrl||this.isVideoLoading?this.$refs["content"+this.current][0].querySelector(".video")||this.$refs["content"+this.current][0].appendChild(this.$refs.video):(this.isVideoLoading=!0,this.$axios.request({url:r["a"].origin+"/minivod/reqplay/"+e,params:r["a"].query()}).then((function(o){i.isVideoLoading=!1,console.log("success",o);var e=o.data.data.httpurl||o.data.data.httpurl_preview;e?(console.log(e),i.rows[t].videoUrl=e,setTimeout((function(){i.$refs["content"+i.current][0].appendChild(i.$refs.video),i.$refs.video.play()}),20)):weui.topTips(o.data.errmsg||o.statusCode||"fail")})).catch((function(t){i.isVideoLoading=!1,weui.topTips(t.message||"fail")}))),t!=this.rows.length-1||this.isMoreLoading||this.loadData()}},watch:{}},a=n,c=(o("c0ca"),o("2877")),d=Object(c["a"])(a,e,s,!1,null,"a815b4ac",null);i["default"]=d.exports},c0ca:function(t,i,o){"use strict";var e=o("f5f3"),s=o.n(e);s.a},f5f3:function(t,i,o){},f71c:function(t,i,o){"use strict";var e="https:",s="6jwti3892pf605m004mn.lagoapps.com",r=e+"//"+s,n={device:"iPhone 7 13.4 1.0",s_device_id:"374B5729-7F3F-4C8F-B6DE-80FF0A333633",s_os_version:"13.4",s_platform:"ios",_t:"1587401036000"};i["a"]={protocol:e,host:s,origin:r,home:r+"/index",query:function(){return Object.assign(n,{_t:(new Date).valueOf()})}}}}]);
//# sourceMappingURL=chunk-4ca26e04.4d47a5cb.js.map