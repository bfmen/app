{"version":3,"sources":["webpack:///./src/apps/banana/views/search.vue?4eb2","webpack:///src/apps/banana/views/search.vue","webpack:///./src/apps/banana/views/search.vue?0b62","webpack:///./src/apps/banana/views/search.vue","webpack:///./src/apps/banana/components/list.vue?bf89","webpack:///src/apps/banana/components/list.vue","webpack:///./src/apps/banana/components/list.vue?6a67","webpack:///./src/apps/banana/components/list.vue","webpack:///./src/apps/banana/views/search.vue?5945","webpack:///./src/apps/banana/components/list.vue?d95d","webpack:///./src/apps/banana/js/config.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","isTyping","attrs","directives","name","rawName","value","expression","ref","domProps","on","$event","type","indexOf","_k","keyCode","key","search","target","composing","inputText","staticStyle","searchTextClick","_v","_l","item","index","itemClick","_s","dspwd","vodrows","length","hotrows","page","identifier","infinite","_e","staticRenderFns","components","list","data","hotwords","computed","created","mounted","loadData","methods","$refs","searchInput","focus","console","log","res","$state","config","Date","valueOf","query","wd","$axios","watch","handler","immediate","component","headerClick","title","vodid","itemMin","isMin","videoUrl","videoMin","coverpic","imagemMin","catename","isvip","definition","updatetime","upnum","scorenum","duration","props","dataList","default","info","spid","$router","push","path","url","params","protocol","host","origin","device","s_device_id","s_os_version","s_platform","_t","home","Object","assign"],"mappings":"kJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkBC,MAAM,CAAC,2BAA4BP,EAAIQ,UAAUC,MAAM,CAAC,GAAK,cAAc,CAACL,EAAG,OAAO,CAACE,YAAY,wBAAwBG,MAAM,CAAC,WAAW,kBAAkB,CAACL,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,IAAI,CAACE,YAAY,qBAAqBF,EAAG,QAAQ,CAACM,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOb,EAAa,UAAEc,WAAW,cAAcC,IAAI,cAAcT,YAAY,yBAAyBG,MAAM,CAAC,KAAO,SAAS,GAAK,cAAc,YAAc,KAAK,SAAW,IAAIO,SAAS,CAAC,MAAShB,EAAa,WAAGiB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQpB,EAAIqB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAkB,KAAcvB,EAAIwB,OAAON,IAAS,MAAQ,SAASA,GAAWA,EAAOO,OAAOC,YAAqB1B,EAAI2B,UAAUT,EAAOO,OAAOZ,WAAUT,EAAG,QAAQ,CAACwB,YAAY,CAAC,QAAU,UAAUxB,EAAG,IAAI,CAACE,YAAY,kBAAkBG,MAAM,CAAC,KAAO,cAAc,GAAK,eAAeQ,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAI2B,UAAU,SAASvB,EAAG,QAAQ,CAACW,IAAI,aAAaT,YAAY,yBAAyBG,MAAM,CAAC,GAAK,cAAcQ,GAAG,CAAC,MAAQjB,EAAI6B,kBAAkB,CAACzB,EAAG,IAAI,CAACE,YAAY,qBAAqBF,EAAG,OAAO,CAACJ,EAAI8B,GAAG,YAAY1B,EAAG,IAAI,CAACE,YAAY,8BAA8BG,MAAM,CAAC,KAAO,cAAc,GAAK,gBAAgBQ,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAIQ,UAAS,KAAS,CAACR,EAAI8B,GAAG,UAAU1B,EAAG,MAAM,CAACE,YAAY,SAASN,EAAI+B,GAAI/B,EAAY,UAAE,SAASgC,EAAKC,GAAO,OAAO7B,EAAG,MAAM,CAACmB,IAAIU,EAAM3B,YAAY,OAAOW,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAIkC,UAAUF,MAAS,CAAChC,EAAI8B,GAAG9B,EAAImC,GAAGH,EAAKI,aAAY,GAAGhC,EAAG,OAAO,CAACK,MAAM,CAAC,SAAWT,EAAIqC,QAAQC,OAAS,EAAItC,EAAIqC,QAAUrC,EAAIuC,WAAYvC,EAAIwC,KAAO,EAAGpC,EAAG,mBAAmB,CAACW,IAAI,kBAAkBN,MAAM,CAAC,WAAaT,EAAIyC,YAAYxB,GAAG,CAAC,SAAWjB,EAAI0C,YAAY1C,EAAI2C,MAAM,IACp4DC,EAAkB,G,oCC0DtB,GACEC,WAAY,CACVC,KAAJ,QAEEC,KAJF,WAKI,MAAO,CACLC,SAAU,GACVT,QAAS,GACTF,QAAS,GACTG,KAAM,EACNb,UAAW,GACXnB,UAAU,EACViC,WAAY,KAGhBQ,SAAU,GACVC,QAhBF,aAiBEC,QAjBF,WAkBIlD,KAAKmD,SAAS,IAEhBC,QAAS,CACPxB,gBADJ,WAEM5B,KAAKO,UAAW,EAChBP,KAAKqD,MAAMC,YAAYC,SAEzBhC,OALJ,SAKA,GACMiC,QAAQC,IAAI,SAAUC,GACtB1D,KAAKmD,SAAS,IAEhBlB,UATJ,SASA,GACMjC,KAAK0B,UAAYK,EAAKI,MACtBnC,KAAKO,UAAW,EAChBP,KAAKmD,SAAS,IAEhBV,SAdJ,SAcA,GACMe,QAAQC,IAAI,iBACZzD,KAAKmD,SAASnD,KAAKuC,KAAO,EAAGoB,IAE/BR,SAlBJ,SAkBA,gBACMK,QAAQC,IAAI,SAAUG,EAA5B,qBACmB,IAATrB,IACFvC,KAAKuC,KAAO,EACZvC,KAAKwC,YAAa,IAAIqB,MAAOC,WAE/B,IAAN,iBACMC,EAAMxB,KAAOA,EACTvC,KAAK0B,YACPqC,EAAMC,GAAKhE,KAAK0B,WAElB1B,KAAKiE,OACX,SACQ,IAAR,wBACQ,OAAR,iBAEA,kBACQ,QAAR,iBACA,kCACU,EAAV,OACA,uBACY,EAAZ,+BAEA,oBACY,EAAZ,6BAEA,UACc,EAAd,4BAEc,EAAd,8CAEA,gCACc,KAAd,cACc,GAAd,eAGA,GACY,EAAZ,UAGU,KAAV,gDAGA,mBACA,GACU,EAAV,SAEQ,KAAR,gCAIEC,MAAO,CACLxC,UAAW,CACTyC,QAAS,SAAf,OACMC,WAAW,KCvJ6V,I,wBCQ1WC,EAAY,eACd,EACAvE,EACA6C,GACA,EACA,KACA,WACA,MAIa,aAAA0B,E,6CCnBf,IAAIvE,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAAEN,EAAS,MAAEI,EAAG,MAAM,CAACE,YAAY,SAASW,GAAG,CAAC,MAAQjB,EAAIuE,cAAc,CAACnE,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAI8B,GAAG9B,EAAImC,GAAGnC,EAAIwE,UAAUpE,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACN,EAAI8B,GAAG,UAAU9B,EAAI2C,KAAKvC,EAAG,MAAM,CAACE,YAAY,SAASN,EAAI+B,GAAI/B,EAAY,UAAE,SAASgC,EAAKC,GAAO,OAAO7B,EAAG,MAAM,CAACmB,IAAIU,EAAQD,EAAKyC,MAAMnE,YAAY,OAAOC,MAAM,CAACmE,QAAQ1E,EAAI2E,OAAO1D,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAIkC,UAAUF,EAAMC,MAAU,CAAEjC,EAAIyE,OAASzC,EAAKyC,OAASzE,EAAI4E,SAAUxE,EAAG,QAAQ,CAACE,YAAY,QAAQC,MAAM,CAACsE,SAAS7E,EAAI2E,OAAOlE,MAAM,CAAC,SAAW,WAAW,YAAc,GAAG,SAAW,GAAG,MAAQuB,EAAKwC,MAAM,OAASxC,EAAK8C,SAAS,0BAA0B,CAAC,OAAQ,OAAQ,IAAM9E,EAAI4E,YAAYxE,EAAG,MAAM,CAACM,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOmB,EAAa,SAAElB,WAAW,kBAAkBR,YAAY,QAAQC,MAAM,CAACwE,UAAU/E,EAAI2E,OAAOlE,MAAM,CAAC,KAAO,eAAeL,EAAG,OAAO,CAACJ,EAAI8B,GAAG9B,EAAImC,GAAGH,EAAKwC,OAASxC,EAAKgD,aAAa5E,EAAG,MAAM,CAACE,YAAY,QAAQ,CAAgB,GAAd0B,EAAKiD,MAAY7E,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAI8B,GAAG9B,EAAImC,GAAiB,GAAdH,EAAKiD,MAAa,MAAQ,OAAOjF,EAAI2C,KAAMX,EAAKkD,WAAW,EAAG9E,EAAG,OAAO,CAACE,YAAY,cAAc,CAACN,EAAI8B,GAAG9B,EAAImC,GAAGH,EAAKkD,eAAelF,EAAI2C,KAAO3C,EAAI2E,MAA+E3E,EAAI2C,KAA5EvC,EAAG,OAAO,CAACE,YAAY,cAAc,CAACN,EAAI8B,GAAG9B,EAAImC,GAAGH,EAAKmD,eAAwB/E,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAI8B,GAAG9B,EAAImC,GAAGH,EAAKoD,UAAUhF,EAAG,OAAO,CAACE,YAAY,YAAY,CAACN,EAAI8B,GAAG9B,EAAImC,GAAGH,EAAKqD,aAAajF,EAAG,OAAO,CAACE,YAAY,YAAY,CAACN,EAAI8B,GAAG9B,EAAImC,GAAGH,EAAKsD,oBAAmB,MAChjD1C,EAAkB,G,YCiDtB,GACE2C,MAAO,CACLC,SAAU,CACRC,QAAS,WACP,MAAO,KAGXC,KAAM,CACJD,QAAS,WACP,MAAO,KAGXjB,MAAO,CACLiB,QAAS,IAEXd,MAAO,CACLc,SAAS,IAGb1C,KAnBF,WAoBI,MAAO,CACL0B,MAAO,GACPG,SAAU,KAGdvB,QAAS,CACPkB,YADJ,WAEUtE,KAAKyF,KAAKC,KACZ1F,KAAK2F,QAAQC,KAAK,CAChBC,KAAM,iBAAmB7F,KAAKyF,KAAKC,OAGrC1F,KAAK2F,QAAQC,KAAK,CAChBC,KAAM,aAIZ5D,UAZJ,SAYA,cACUF,EAAKyC,OAASxE,KAAKwE,OACrBxE,KAAKiE,OAAO,CACV6B,IAAKlC,EAAf,uBACUmC,OAAQnC,EAAlB,eAEA,kBACU,QAAV,iBACA,qBACY,EAAZ,6BACY,EAAZ,eACA,6BACY,EAAZ,qCACY,EAAZ,eAEY,KAAZ,+BAEA,WACY,SAAZ,kBAGA,mBACU,KAAV,iCC7G4W,I,wBCQxWS,EAAY,eACd,EACAvE,EACA6C,GACA,EACA,KACA,WACA,MAIa,OAAA0B,E,2CCnBf,yBAAilB,EAAG,G,2DCAplB,yBAA+kB,EAAG,G,kCCAllB,IAAM2B,EAAW,SACXC,EAAO,oCACPC,EAASF,EAAW,KAAOC,EAC3BlC,EAAQ,CACboC,OAAQ,oBACRC,YAAa,uCACbC,aAAc,OACdC,WAAY,MACZC,GAAI,iBAEU,QACdP,WACAC,OACAC,SACAM,KAAMN,EAAS,SACfnC,MAAQ,kBAAM0C,OAAOC,OAAO3C,EAAM,CAACwC,IAAG,IAAI1C,MAAOC","file":"js/chunk-cb6b1236.475b1ab0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"special\"},[_c('div',{staticClass:\"weui-search-bar\",class:{'weui-search-bar_focusing': _vm.isTyping},attrs:{\"id\":\"searchBar\"}},[_c('form',{staticClass:\"weui-search-bar__form\",attrs:{\"οnsubmit\":\"return false;\"}},[_c('div',{staticClass:\"weui-search-bar__box\"},[_c('i',{staticClass:\"weui-icon-search\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputText),expression:\"inputText\"}],ref:\"searchInput\",staticClass:\"weui-search-bar__input\",attrs:{\"type\":\"search\",\"id\":\"searchInput\",\"placeholder\":\"搜索\",\"required\":\"\"},domProps:{\"value\":(_vm.inputText)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.inputText=$event.target.value}}}),_c('input',{staticStyle:{\"display\":\"none\"}}),_c('a',{staticClass:\"weui-icon-clear\",attrs:{\"href\":\"javascript:\",\"id\":\"searchClear\"},on:{\"click\":function($event){_vm.inputText=''}}})]),_c('label',{ref:\"searchText\",staticClass:\"weui-search-bar__label\",attrs:{\"id\":\"searchText\"},on:{\"click\":_vm.searchTextClick}},[_c('i',{staticClass:\"weui-icon-search\"}),_c('span',[_vm._v(\"搜索\")])])]),_c('a',{staticClass:\"weui-search-bar__cancel-btn\",attrs:{\"href\":\"javascript:\",\"id\":\"searchCancel\"},on:{\"click\":function($event){_vm.isTyping=false}}},[_vm._v(\"取消\")])]),_c('div',{staticClass:\"items\"},_vm._l((_vm.hotwords),function(item,index){return _c('div',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.itemClick(item)}}},[_vm._v(_vm._s(item.dspwd))])}),0),_c('list',{attrs:{\"dataList\":_vm.vodrows.length > 0 ? _vm.vodrows : _vm.hotrows}}),(_vm.page > 0)?_c('infinite-loading',{ref:\"infiniteLoading\",attrs:{\"identifier\":_vm.identifier},on:{\"infinite\":_vm.infinite}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"special\">\n    <!-- <uniSearchBar ref=\"uniSearchBar\" @confirm=\"search\"></uniSearchBar> -->\n    <div class=\"weui-search-bar\" id=\"searchBar\" :class=\"{'weui-search-bar_focusing': isTyping}\">\n      <form class=\"weui-search-bar__form\" οnsubmit=\"return false;\">\n        <div class=\"weui-search-bar__box\">\n          <i class=\"weui-icon-search\"></i>\n          <input\n            type=\"search\"\n            v-model=\"inputText\"\n            class=\"weui-search-bar__input\"\n            id=\"searchInput\"\n            placeholder=\"搜索\"\n            required\n            ref=\"searchInput\"\n            v-on:keyup.enter=\"search\"\n          >\n          <input style=\"display: none;\">\n          <a href=\"javascript:\" class=\"weui-icon-clear\" id=\"searchClear\" @click=\"inputText=''\"></a>\n        </div>\n        <label\n          class=\"weui-search-bar__label\"\n          id=\"searchText\"\n          ref=\"searchText\"\n          @click=\"searchTextClick\"\n        >\n          <i class=\"weui-icon-search\"></i>\n          <span>搜索</span>\n        </label>\n      </form>\n      <a\n        href=\"javascript:\"\n        class=\"weui-search-bar__cancel-btn\"\n        id=\"searchCancel\"\n        @click=\"isTyping=false\"\n      >取消</a>\n    </div>\n    <div class=\"items\">\n      <div\n        class=\"item\"\n        v-for=\"(item,index) in hotwords\"\n        :key=\"index\"\n        @click=\"itemClick(item)\"\n      >{{ item.dspwd }}</div>\n    </div>\n    <list :dataList=\"vodrows.length > 0 ? vodrows : hotrows\"></list>\n    <infinite-loading\n      v-if=\"page > 0\"\n      :identifier=\"identifier\"\n      @infinite=\"infinite\"\n      ref=\"infiniteLoading\"\n    ></infinite-loading>\n  </div>\n</template>\n\n<script>\nimport config from \"../js/config.js\";\nimport list from \"../components/list.vue\";\n\nexport default {\n  components: {\n    list\n  },\n  data() {\n    return {\n      hotwords: [],\n      hotrows: [],\n      vodrows: [],\n      page: 0,\n      inputText: \"\",\n      isTyping: false,\n      identifier: \"\"\n    };\n  },\n  computed: {},\n  created() {},\n  mounted() {\n    this.loadData(1);\n  },\n  methods: {\n    searchTextClick() {\n      this.isTyping = true;\n      this.$refs.searchInput.focus();\n    },\n    search(res) {\n      console.log(\"search\", res);\n      this.loadData(1);\n    },\n    itemClick(item) {\n      this.inputText = item.dspwd;\n      this.isTyping = true;\n      this.loadData(1);\n    },\n    infinite($state) {\n      console.log(\"onReachBottom\");\n      this.loadData(this.page + 1, $state);\n    },\n    loadData(page, $state) {\n      console.log(\"config\", config, config.query());\n      if (page === 1) {\n        this.page = 0;\n        this.identifier = new Date().valueOf();\n      }\n      let query = config.query();\n      query.page = page;\n      if (this.inputText) {\n        query.wd = this.inputText;\n      }\n      this.$axios\n        .request({\n          url: config.origin + \"/search\",\n          params: config.query()\n        })\n        .then(res => {\n          console.log(\"success\", res);\n          if (res.status == 200 && res.data.retcode == 0) {\n            this.page = page;\n            if (res.data.data.hotwords) {\n              this.hotwords = res.data.data.hotwords;\n            }\n            if (res.data.data.hotrows) {\n              this.hotrows = res.data.data.hotrows;\n            } else {\n              if (this.page == 1) {\n                this.vodrows = res.data.data.vodrows;\n              } else {\n                this.vodrows = this.vodrows.concat(res.data.data.vodrows);\n              }\n              if (res.data.data.vodrows.length == 0) {\n                weui.topTips(\"没了\");\n                $state && $state.complete();\n              }\n            }\n            if ($state) {\n              $state.loaded();\n            }\n          } else {\n            weui.topTips(res.data.errmsg || res.statusCode || \"fail\");\n          }\n        })\n        .catch(res => {\n          if ($state) {\n            $state.loaded();\n          }\n          weui.topTips(res.message || \"fail\");\n        });\n    }\n  },\n  watch: {\n    inputText: {\n      handler: function(val, oldVal) {},\n      immediate: false\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.special {\n  .header {\n    width: 100vw;\n    overflow-x: scroll;\n    display: flex;\n\n    &::-webkit-scrollbar {\n      display: none;\n    }\n\n    .item {\n      margin: 2px 5px;\n\n      .image {\n        width: 60px;\n        height: 60px;\n        border-radius: 30px;\n      }\n\n      .title {\n        text-align: center;\n        font-size: 12px;\n      }\n    }\n  }\n}\n.items {\n  display: flex;\n  flex-wrap: wrap;\n  .item {\n    font-size: 12px;\n    padding: 3px;\n    margin: 0 5px;\n  }\n}\n.weui-search-bar {\n  position: sticky;\n  top: 0;\n  z-index: 2;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=351dc654&scoped=true&\"\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=351dc654&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"351dc654\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list\"},[(_vm.title)?_c('div',{staticClass:\"header\",on:{\"click\":_vm.headerClick}},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))]),_c('span',{staticClass:\"more\"},[_vm._v(\"更多\")])]):_vm._e(),_c('div',{staticClass:\"items\"},_vm._l((_vm.dataList),function(item,index){return _c('div',{key:index + item.vodid,staticClass:\"item\",class:{itemMin:_vm.isMin},on:{\"click\":function($event){return _vm.itemClick(item, index)}}},[(_vm.vodid == item.vodid && _vm.videoUrl)?_c('video',{staticClass:\"video\",class:{videoMin:_vm.isMin},attrs:{\"controls\":\"controls\",\"playsinline\":\"\",\"autoplay\":\"\",\"title\":item.title,\"poster\":item.coverpic,\"picture-in-picture-mode\":['push', 'pop' ],\"src\":_vm.videoUrl}}):_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.coverpic),expression:\"item.coverpic\"}],staticClass:\"image\",class:{imagemMin:_vm.isMin},attrs:{\"mode\":\"aspectFit\"}}),_c('span',[_vm._v(_vm._s(item.title || item.catename))]),_c('div',{staticClass:\"tips\"},[(item.isvip == 1)?_c('span',{staticClass:\"isvip\"},[_vm._v(_vm._s(item.isvip == 1 ? 'vip' : ''))]):_vm._e(),(item.definition>0)?_c('span',{staticClass:\"definition\"},[_vm._v(_vm._s(item.definition))]):_vm._e(),(!_vm.isMin)?_c('span',{staticClass:\"updatetime\"},[_vm._v(_vm._s(item.updatetime))]):_vm._e(),_c('span',{staticClass:\"upnum\"},[_vm._v(_vm._s(item.upnum))]),_c('span',{staticClass:\"scorenum\"},[_vm._v(_vm._s(item.scorenum))]),_c('span',{staticClass:\"duration\"},[_vm._v(_vm._s(item.duration))])])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"list\">\n    <div class=\"header\" @click=\"headerClick\" v-if=\"title\">\n      <span class=\"title\">{{title}}</span>\n      <span class=\"more\">更多</span>\n    </div>\n    <div class=\"items\">\n      <div\n        class=\"item\"\n        :class=\"{itemMin:isMin}\"\n        v-for=\"(item, index) in dataList\"\n        :key=\"index + item.vodid\"\n        @click=\"itemClick(item, index)\"\n      >\n        <video\n          class=\"video\"\n          :class=\"{videoMin:isMin}\"\n          controls=\"controls\"\n          playsinline\n          v-if=\"vodid == item.vodid && videoUrl\"\n          autoplay\n          :title=\"item.title\"\n          :poster=\"item.coverpic\"\n          :picture-in-picture-mode=\"['push', 'pop' ]\"\n          :src=\"videoUrl\"\n        ></video>\n        <!-- <img class=\"image\" :class=\"{imagemMin:isMin}\" v-else :src=\"item.coverpic\" mode=\"aspectFit\"> -->\n        <img\n          class=\"image\"\n          :class=\"{imagemMin:isMin}\"\n          v-else\n          v-lazy=\"item.coverpic\"\n          mode=\"aspectFit\"\n        >\n        <span>{{item.title || item.catename}}</span>\n        <div class=\"tips\">\n          <span class=\"isvip\" v-if=\"item.isvip == 1\">{{item.isvip == 1 ? 'vip' : ''}}</span>\n          <span class=\"definition\" v-if=\"item.definition>0\">{{item.definition}}</span>\n          <span class=\"updatetime\" v-if=\"!isMin\">{{item.updatetime}}</span>\n          <span class=\"upnum\">{{item.upnum}}</span>\n          <span class=\"scorenum\">{{item.scorenum}}</span>\n          <span class=\"duration\">{{item.duration}}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport config from \"../js/config.js\";\nexport default {\n  props: {\n    dataList: {\n      default: () => {\n        return [];\n      }\n    },\n    info: {\n      default: () => {\n        return {};\n      }\n    },\n    title: {\n      default: \"\"\n    },\n    isMin: {\n      default: false\n    }\n  },\n  data() {\n    return {\n      vodid: \"\",\n      videoUrl: \"\"\n    };\n  },\n  methods: {\n    headerClick() {\n      if (this.info.spid) {\n        this.$router.push({\n          path: \"./detail?spid=\" + this.info.spid\n        });\n      } else {\n        this.$router.push({\n          path: \"./class\"\n        });\n      }\n    },\n    itemClick(item) {\n      if (item.vodid != this.vodid) {\n        this.$axios({\n          url: config.origin + item.play_url,\n          params: config.query()\n        })\n          .then(res => {\n            console.log(\"success\", res);\n            if (res.data.data.httpurl) {\n              this.videoUrl = res.data.data.httpurl;\n              this.vodid = item.vodid;\n            } else if (res.data.data.httpurl_preview) {\n              this.videoUrl = res.data.data.httpurl_preview;\n              this.vodid = item.vodid;\n            } else {\n              weui.topTips(res.data.errmsg || \"fail\");\n            }\n            if (document) {\n              document.title = item.title;\n            }\n          })\n          .catch(res => {\n            weui.topTips(res.message || \"fail\");\n          });\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.list {\n  margin: 10px 0;\n\n  .header {\n    display: flex;\n    justify-content: space-between;\n    margin: 3px 10px;\n  }\n\n  .items {\n    display: flex;\n    padding: 5px;\n    flex-wrap: wrap;\n    justify-content: center;\n\n    .item {\n      margin: 5px;\n      margin-top: 5px;\n      font-size: 14px;\n      width: 320px;\n      position: relative;\n      box-shadow: rgb(170, 170, 170) 0px 0px 14px 0px;\n      &.itemMin {\n        width: 162px;\n      }\n      .image {\n        width: 100%;\n        height: 180px;\n        &.imagemMin {\n          height: 288px;\n        }\n      }\n\n      .video {\n        width: 100%;\n        height: 180px;\n        &.videoMin {\n          height: 288px;\n        }\n      }\n\n      .tips {\n        padding: 5px;\n        background-color: black;\n        color: white;\n        opacity: 0.5;\n        position: absolute;\n        top: 0;\n        right: 0;\n      }\n\n      .definition {\n        margin: 0 5px;\n      }\n\n      .isvip {\n        margin: 0 5px;\n      }\n\n      .scorenum {\n        margin: 0 5px;\n      }\n\n      .duration {\n        margin: 0 5px;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=01709375&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=01709375&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01709375\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&id=351dc654&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&id=351dc654&lang=less&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=01709375&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=01709375&lang=less&scoped=true&\"","const protocol = 'https:'\nconst host = '6jwti3892pf605m004mn.lagoapps.com'\nconst origin = protocol + '//' + host\nconst query = {\n\tdevice: 'iPhone 7 13.4 1.0',\n\ts_device_id: '374B5729-7F3F-4C8F-B6DE-80FF0A333633',\n\ts_os_version: '13.4',\n\ts_platform: 'ios',\n\t_t: '1587401036000'\n}\nexport default {\n\tprotocol,\n\thost,\n\torigin,\n\thome: origin + '/index',\n\tquery : () => Object.assign(query,{_t:new Date().valueOf()})\n}\n\n"],"sourceRoot":""}