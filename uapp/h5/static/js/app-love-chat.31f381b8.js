(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app-love-chat"],{"244d":function(module,exports,__webpack_require__){"use strict";__webpack_require__("a15b"),__webpack_require__("d81d"),__webpack_require__("d3b7"),__webpack_require__("ac1f"),__webpack_require__("25f0"),__webpack_require__("5319"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.find=find,exports.default=void 0;var isLog=1,Config={bmobDefaultAccount:{applicationId:"b7d2ba4c899fb0371e6ca184df301141",restApiKey:"a0af24c5cd6196b9457f0b56c420192a",masterKey:"7acfea947e08ce49572a66b72089194e",wechatApp:"wechatApp"},bmobUrl:"https://api.bmobcloud.com/1",bmobAccountTableName:"BmobAccount",bmobAccount:null,bmobAccountCallbacks:[],isBmobAccountLoading:!1,functionName:"superRequest"},Request=function(e){var t=(new Date).valueOf();return new Promise((function(a,n){e.isClould?(isLog&&console.log(t,"cloud",e),null==Config.bmobAccount?1==Config.isBmobAccountLoading?rConfig.bmobAccountCallbacks.push({params:e,resolve:a,reject:n}):(Config.isBmobAccountLoading,find(Config.bmobAccountTableName,{limit:"100",order:"-dueDate"}).then((function(t){Config.isBmobAccountLoading=!1,0==t.length||t[0].dueDate.iso<formatTime(new Date)?n("BmobAccount全部过期"):(Config.bmobAccount=t[0],Config.bmobAccountCallbacks.map((function(e){cloudRun({functionName:"request",bmobAccount:Config.bmobAccount,params:e.params,resolve:e.resolve,reject:e.reject})})),Config.bmobAccountCallbacks=[],cloudRun({functionName:"request",bmobAccount:Config.bmobAccount,params:e,resolve:a,reject:n}))})).catch((function(e){Config.isBmobAccountLoading=!1}))):cloudRun({functionName:"request",bmobAccount:Config.bmobAccount,params:e,resolve:a,reject:n})):window&&window.uni?(isLog&&console.log(t,"uni",e),e.success=function(e){a(e.data)},e.fail=function(e){n(e)},uni.request(e)):wx?(isLog&&console.log(t,"wx",e),e.success=function(e){a(e.data)},e.fail=function(e){n(e)},wx.request(e)):(isLog&&console.log(t,"axios",e),__webpack_require__("bc3a")(e).then((function(e){a(e.data)})).catch((function(e){n(e)})))})).then((function(e){return isLog&&console.log(t,((new Date).valueOf()-t)/1e3+"s","success",e),e})).catch((function(e){return isLog&&console.log(t,((new Date).valueOf()-t)/1e3+"s","fiale",e),e}))};function cloudRun(_ref){var functionName=_ref.functionName,bmobAccount=_ref.bmobAccount,params=_ref.params,resolve=_ref.resolve,reject=_ref.reject,date=(new Date).valueOf();return isLog&&console.log(date,"cloudRun",params),Request({method:"POST",url:Config.bmobUrl+"/functions/"+functionName,data:params,header:{"X-Bmob-Application-Id":bmobAccount.applicationId,"X-Bmob-Master-Key":bmobAccount.masterKey,"X-Bmob-REST-API-Key":bmobAccount.restApiKey,"X-Bmob-SDK-Type":"wechatApp"}}).then((function(res){var response=JSON.parse(res.result);response.body=eval("("+response.body+")"),resolve(response.body)})).catch((function(e){reject(e)}))}function find(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Request({url:Config.bmobUrl+"/classes/"+e,data:t,header:{"X-Bmob-Application-Id":Config.bmobDefaultAccount.applicationId,"X-Bmob-Master-Key":Config.bmobDefaultAccount.masterKey,"X-Bmob-REST-API-Key":Config.bmobDefaultAccount.restApiKey,"X-Bmob-SDK-Type":"wechatApp"}}).then((function(e){return e.results})).catch((function(e){return e}))}function formatTime(e){var t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate(),o=e.getHours(),i=e.getMinutes(),r=e.getSeconds();return[t,a,n].map(formatNumber).join("-")+" "+[o,i,r].map(formatNumber).join(":")}function formatNumber(e){return e=e.toString(),e[1]?e:"0"+e}function removeAllSpace(e){return e.replace(/\s+/g,"")}var _default=Request;exports.default=_default},"2f93":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".page[data-v-5693e200]{font-size:16px;background-color:#f2f2f2;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;min-height:100vh}.page .item[data-v-5693e200]{margin:10px;background-color:#fff;border-radius:10px;box-sizing:border-box}.page .item .row[data-v-5693e200]{padding:10px 10px 0 10px;display:-webkit-box;display:-webkit-flex;display:flex}.page .item .row[data-v-5693e200]:nth-last-child(1){padding-bottom:10px}.page .item .row .left[data-v-5693e200]{background-color:#f0f0f0}.page .item .row .right[data-v-5693e200]{background-color:#95eb75}.page .item .row div[data-v-5693e200]{padding:3px 10px;border-radius:5px;-webkit-user-select:all;user-select:all}",""]),e.exports=t},"46e1":function(e,t,a){"use strict";var n=a("4ea4");a("99af"),a("d81d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("f101")),i=a("8a79"),r={components:{zySearch:o.default},data:function(){return{list:[],catId:"",catName:"",page:1,hasMore:!1}},onLoad:function(e){console.log("onLoad",e),this.catId=e.catId,this.catName=e.catName},created:function(){this.loadData(1)},methods:{loadData:function(e){var t=this,a=this.catId?"getChatList":"chat";(0,i.request)({fun:a,params:this.catId?{isFirst:!1,catId:this.catId,page:e}:{content:this.catName,page:e}}).then((function(n){uni.stopPullDownRefresh(),uni.hideLoading(),n.data.data=n.data.data.map((function(e){return e.content=JSON.parse(e.content),e})),console.log(a,n),t.list=1==e?n.data.data:t.list.concat(n.data.data),t.hasMore=n.data.hasMore,t.page=e}))},setClipboardData:function(e){}},onPullDownRefresh:function(){this.loadData(1)},onReachBottom:function(){console.log("onReachBottom"),uni.showLoading({title:"loading"}),this.hasMore?this.loadData(this.page+1):uni.showToast({title:"到底了",icon:"none"})}};t.default=r},"5bf9":function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return n}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"search"},[e.isFocus?[n("v-uni-input",{attrs:{maxlength:"20",focus:!0,type:"text",value:"","confirm-type":"search",placeholder:"请输入关键词搜索"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.searchStart()}},model:{value:e.searchText,callback:function(t){e.searchText="string"===typeof t?t.trim():t},expression:"searchText"}})]:[n("v-uni-input",{attrs:{maxlength:"20",type:"text",value:"","confirm-type":"search",placeholder:"请输入关键词搜索"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.searchStart()}},model:{value:e.searchText,callback:function(t){e.searchText="string"===typeof t?t.trim():t},expression:"searchText"}})],n("v-uni-image",{staticClass:"search-icon",attrs:{src:a("801f"),mode:"aspectFit"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.searchStart()}}})],2),e.hList.length>0?n("v-uni-view",{class:"s-"+e.theme},[n("v-uni-view",{staticClass:"header"},[e._v("历史记录"),n("v-uni-image",{attrs:{src:a("b4ed"),mode:"aspectFit"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.delhistory.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"list"},e._l(e.hList,(function(t,a){return n("v-uni-view",{key:a,on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.keywordsClick(t)}}},[e._v(e._s(t))])})),1)],1):e._e(),e.showWant?n("v-uni-view",{class:"wanted-"+e.theme},[n("v-uni-view",{staticClass:"header"},[e._v("猜你想搜的")]),n("v-uni-view",{staticClass:"list"},e._l(e.hotList,(function(t,a){return n("v-uni-view",{key:a,on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.keywordsClick(t)}}},[e._v(e._s(t))])})),1)],1):e._e()],1)},i=[]},7126:function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return n}));var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},e._l(e.list,(function(t,n){return a("div",{key:t.id+n,staticClass:"item"},e._l(t.content,(function(t,n){return a("div",{key:t.id+n,staticClass:"row",style:1==t.ans_sex?"justify-content: flex-end;":""},[2==t.ans_sex?a("div",{staticClass:"left"},[e._v(e._s(t.content))]):e._e(),1==t.ans_sex?a("div",{staticClass:"right",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.setClipboardData(t.content)}}},[e._v(e._s(t.content))]):e._e()])})),0)})),0)},i=[]},7579:function(e,t,a){"use strict";var n=a("d5ce"),o=a.n(n);o.a},"801f":function(e,t,a){e.exports=a.p+"static/img/search.b92b10b9.svg"},"8a79":function(e,t,a){"use strict";var n=a("4ea4");a("d3b7"),Object.defineProperty(t,"__esModule",{value:!0}),t.request=c,t.config=void 0;var o=n(a("5530")),i=n(a("244d")),r={origin:"https://lahs.bleege.com",params:{ver:"2.3.4",platform:"ios",scene:"1082"},isClould:!1,urlData:{init:{url:"/love/api/v3/init"},index:{url:"/love/api/index/index"},hotTags:{url:"/love/api/v3/search/hotTags"},getChatList:{url:"/love/api/v3/getChatList"},chat:{url:"/love/api/v3/search/chat"},indexOld:{url:"/love/api/v2/index"},getArticle:{url:"/love/api/school/getArticle"},schoolIndex:{url:"/love/api/school/index"}}};function c(e){var t=r.urlData[e.fun];return new Promise((function(a,n){if(t.isClould)return(0,i.default)({name:"request",body:{method:t.method||"GET",url:r.origin+t.url,data:r.params},isClould:t.isClould});uni.request({method:t.method||"GET",url:r.origin+t.url,data:(0,o.default)({},r.params,{},t.params,{},e.params),success:function(e){a(e)},fail:function(e){n(e)}})}))}t.config=r},"935a":function(e,t,a){"use strict";a.r(t);var n=a("7126"),o=a("da33");for(var i in o)"default"!==i&&function(e){a.d(t,e,(function(){return o[e]}))}(i);a("d1b2");var r,c=a("f0c5"),s=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"5693e200",null,!1,n["a"],r);t["default"]=s.exports},"9e92":function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("b85c")),i={name:"zy-search",props:{isFocus:{type:Boolean,default:!1},theme:{type:String,default:"block"},showWant:{type:Boolean,default:!1},hotList:{type:Array,default:function(){return[]}},speechEngine:{type:String,default:"baidu"}},data:function(){return{searchText:"",hList:uni.getStorageSync("search_cache")}},methods:{searchStart:function(){var e=this;""==e.searchText?uni.showToast({title:"请输入关键字",icon:"none",duration:1e3}):(e.$emit("getSearchText",e.searchText),uni.getStorage({key:"search_cache",success:function(t){var a=t.data;if(a.length>5){var n,i=(0,o.default)(a);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r==e.searchText)return}}catch(l){i.e(l)}finally{i.f()}a.pop(),a.unshift(e.searchText)}else{var c,s=(0,o.default)(a);try{for(s.s();!(c=s.n()).done;){var u=c.value;if(u==e.searchText)return}}catch(l){s.e(l)}finally{s.f()}a.unshift(e.searchText)}e.hList=a,uni.setStorage({key:"search_cache",data:e.hList})},fail:function(){e.hList=[],e.hList.push(e.searchText),uni.setStorage({key:"search_cache",data:e.hList}),e.$emit("getSearchText",e.searchText)}}))},keywordsClick:function(e){this.searchText=e,this.searchStart()},delhistory:function(){this.hList=[],uni.setStorage({key:"search_cache",data:[]})},startRecognize:function(){var e=this,t={};t.engine=e.speechEngine,t.punctuation=!1,t.timeout=1e4,plus.speech.startRecognize(t,(function(t){e.searchText=e.searchText+t}))}}};t.default=i},b4ed:function(e,t,a){e.exports=a.p+"static/img/delete.15eaa117.svg"},b85c:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return o}));a("a4d3"),a("e01a"),a("d28b"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");var n=a("06c5");function o(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(n["a"])(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,r=!0,c=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return r=e.done,e},e:function(e){c=!0,i=e},f:function(){try{r||null==o["return"]||o["return"]()}finally{if(c)throw i}}}}},d1b2:function(e,t,a){"use strict";var n=a("dabe"),o=a.n(n);o.a},d5ce:function(e,t,a){var n=a("e446");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=a("4f06").default;o("66b12c22",n,!0,{sourceMap:!1,shadowMode:!1})},da33:function(e,t,a){"use strict";a.r(t);var n=a("46e1"),o=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},dabe:function(e,t,a){var n=a("2f93");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=a("4f06").default;o("2cd56102",n,!0,{sourceMap:!1,shadowMode:!1})},e446:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".search[data-v-631269cf]{width:%?640?%;margin:%?30?% auto 0;position:relative}.search uni-input[data-v-631269cf]{background-color:#f7f7f7;padding:%?10?% %?74?%;font-size:%?28?%;border-radius:%?50?%}.search .voice-icon[data-v-631269cf]{width:%?36?%;height:%?36?%;padding:%?16?% %?20?% %?16?% 0;position:absolute;left:%?16?%;top:%?4?%;z-index:10}.search .search-icon[data-v-631269cf]{width:%?36?%;height:%?36?%;padding:%?16?% %?20?% %?16?% 0;position:absolute;right:0;top:%?-2?%;z-index:10}.s-block[data-v-631269cf]{margin-top:%?30?%}.s-block .header[data-v-631269cf]{font-size:%?32?%;padding:%?30?%;position:relative}.s-block .header uni-image[data-v-631269cf]{width:%?36?%;height:%?36?%;padding:%?10?%;position:absolute;right:%?40?%;top:%?24?%}.s-block .list[data-v-631269cf]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap}.s-block .list uni-view[data-v-631269cf]{width:50%;color:#8a8a8a;font-size:%?28?%;box-sizing:border-box;text-align:center;padding:%?20?% 0;border-top:%?2?% solid #fff;border-left:%?2?% solid #fff;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;background-color:#f7f7f7}.s-circle[data-v-631269cf]{margin-top:%?30?%}.s-circle .header[data-v-631269cf]{font-size:%?32?%;padding:%?30?%;border-bottom:%?2?% solid #f9f9f9;position:relative}.s-circle .header uni-image[data-v-631269cf]{width:%?36?%;height:%?36?%;padding:%?10?%;position:absolute;right:%?40?%;top:%?24?%}.s-circle .list[data-v-631269cf]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;padding:0 %?30?% %?20?%}.s-circle .list uni-view[data-v-631269cf]{padding:%?8?% %?30?%;margin:%?20?% %?30?% 0 0;font-size:%?28?%;color:#8a8a8a;background-color:#f7f7f7;box-sizing:border-box;text-align:center;border-radius:%?20?%}.wanted-block[data-v-631269cf]{margin-top:%?30?%}.wanted-block .header[data-v-631269cf]{font-size:%?32?%;padding:%?30?%}.wanted-block .list[data-v-631269cf]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap}.wanted-block .list uni-view[data-v-631269cf]{width:50%;color:#8a8a8a;font-size:%?28?%;box-sizing:border-box;text-align:center;padding:%?20?% 0;border-top:%?2?% solid #fff;border-left:%?2?% solid #fff;background-color:#f7f7f7;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.wanted-circle[data-v-631269cf]{margin-top:%?30?%}.wanted-circle .header[data-v-631269cf]{font-size:%?32?%;padding:%?30?%}.wanted-circle .list[data-v-631269cf]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;padding:0 %?30?% %?20?%}.wanted-circle .list uni-view[data-v-631269cf]{padding:%?8?% %?30?%;margin:%?20?% %?30?% 0 0;font-size:%?28?%;color:#8a8a8a;background-color:#f7f7f7;box-sizing:border-box;text-align:center;border-radius:%?20?%}",""]),e.exports=t},f101:function(e,t,a){"use strict";a.r(t);var n=a("5bf9"),o=a("ff1a");for(var i in o)"default"!==i&&function(e){a.d(t,e,(function(){return o[e]}))}(i);a("7579");var r,c=a("f0c5"),s=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"631269cf",null,!1,n["a"],r);t["default"]=s.exports},ff1a:function(e,t,a){"use strict";a.r(t);var n=a("9e92"),o=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a}}]);